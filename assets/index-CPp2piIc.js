const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DSYJXssL.js","assets/HomePage-CprcIWeO.css","assets/ContactUsPage-Ddl4XPmw.js","assets/ContactUsPage-CiYb2Pha.css"])))=>i.map(i=>d[i]);
function jv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Uv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zv={exports:{}},Ac={},Bv={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rl=Symbol.for("react.element"),nT=Symbol.for("react.portal"),rT=Symbol.for("react.fragment"),iT=Symbol.for("react.strict_mode"),sT=Symbol.for("react.profiler"),oT=Symbol.for("react.provider"),aT=Symbol.for("react.context"),lT=Symbol.for("react.forward_ref"),uT=Symbol.for("react.suspense"),cT=Symbol.for("react.memo"),dT=Symbol.for("react.lazy"),qm=Symbol.iterator;function hT(t){return t===null||typeof t!="object"?null:(t=qm&&t[qm]||t["@@iterator"],typeof t=="function"?t:null)}var $v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hv=Object.assign,Wv={};function fo(t,e,n){this.props=t,this.context=e,this.refs=Wv,this.updater=n||$v}fo.prototype.isReactComponent={};fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kv(){}Kv.prototype=fo.prototype;function Mf(t,e,n){this.props=t,this.context=e,this.refs=Wv,this.updater=n||$v}var Vf=Mf.prototype=new Kv;Vf.constructor=Mf;Hv(Vf,fo.prototype);Vf.isPureReactComponent=!0;var Qm=Array.isArray,Gv=Object.prototype.hasOwnProperty,Ff={current:null},qv={key:!0,ref:!0,__self:!0,__source:!0};function Qv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Gv.call(e,r)&&!qv.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:rl,type:t,key:s,ref:o,props:i,_owner:Ff.current}}function fT(t,e){return{$$typeof:rl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jf(t){return typeof t=="object"&&t!==null&&t.$$typeof===rl}function pT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ym=/\/+/g;function Ed(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pT(""+t.key):e.toString(36)}function cu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rl:case nT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ed(o,0):r,Qm(i)?(n="",t!=null&&(n=t.replace(Ym,"$&/")+"/"),cu(i,e,n,"",function(c){return c})):i!=null&&(jf(i)&&(i=fT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ym,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Qm(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Ed(s,l);o+=cu(s,e,n,u,i)}else if(u=hT(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Ed(s,l++),o+=cu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vl(t,e,n){if(t==null)return t;var r=[],i=0;return cu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},du={transition:null},gT={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:du,ReactCurrentOwner:Ff};function Yv(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Vl,forEach:function(t,e,n){Vl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vl(t,function(){e++}),e},toArray:function(t){return Vl(t,function(e){return e})||[]},only:function(t){if(!jf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=fo;ce.Fragment=rT;ce.Profiler=sT;ce.PureComponent=Mf;ce.StrictMode=iT;ce.Suspense=uT;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gT;ce.act=Yv;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hv({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ff.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Gv.call(e,u)&&!qv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:rl,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:aT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oT,_context:t},t.Consumer=t};ce.createElement=Qv;ce.createFactory=function(t){var e=Qv.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:lT,render:t}};ce.isValidElement=jf;ce.lazy=function(t){return{$$typeof:dT,_payload:{_status:-1,_result:t},_init:mT}};ce.memo=function(t,e){return{$$typeof:cT,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=du.transition;du.transition={};try{t()}finally{du.transition=e}};ce.unstable_act=Yv;ce.useCallback=function(t,e){return Ut.current.useCallback(t,e)};ce.useContext=function(t){return Ut.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Ut.current.useEffect(t,e)};ce.useId=function(){return Ut.current.useId()};ce.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Ut.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};ce.useRef=function(t){return Ut.current.useRef(t)};ce.useState=function(t){return Ut.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Ut.current.useTransition()};ce.version="18.3.1";Bv.exports=ce;var j=Bv.exports;const Uf=Uv(j),fh=jv({__proto__:null,default:Uf},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT=j,vT=Symbol.for("react.element"),_T=Symbol.for("react.fragment"),wT=Object.prototype.hasOwnProperty,ET=yT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TT={key:!0,ref:!0,__self:!0,__source:!0};function Xv(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wT.call(e,r)&&!TT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vT,type:t,key:s,ref:o,props:i,_owner:ET.current}}Ac.Fragment=_T;Ac.jsx=Xv;Ac.jsxs=Xv;zv.exports=Ac;var x=zv.exports,ph={},Jv={exports:{}},ln={},Zv={exports:{}},e_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,ee){var ne=q.length;q.push(ee);e:for(;0<ne;){var ye=ne-1>>>1,pe=q[ye];if(0<i(pe,ee))q[ye]=ee,q[ne]=pe,ne=ye;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ee=q[0],ne=q.pop();if(ne!==ee){q[0]=ne;e:for(var ye=0,pe=q.length,Pe=pe>>>1;ye<Pe;){var Ze=2*(ye+1)-1,dt=q[Ze],ht=Ze+1,vn=q[ht];if(0>i(dt,ne))ht<pe&&0>i(vn,dt)?(q[ye]=vn,q[ht]=ne,ye=ht):(q[ye]=dt,q[Ze]=ne,ye=Ze);else if(ht<pe&&0>i(vn,ne))q[ye]=vn,q[ht]=ne,ye=ht;else break e}}return ee}function i(q,ee){var ne=q.sortIndex-ee.sortIndex;return ne!==0?ne:q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],f=1,p=null,m=3,C=!1,R=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=q)r(c),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(c)}}function L(q){if(N=!1,w(q),!R)if(n(u)!==null)R=!0,Fn(z);else{var ee=n(c);ee!==null&&Ee(L,ee.startTime-q)}}function z(q,ee){R=!1,N&&(N=!1,T(g),g=-1),C=!0;var ne=m;try{for(w(ee),p=n(u);p!==null&&(!(p.expirationTime>ee)||q&&!P());){var ye=p.callback;if(typeof ye=="function"){p.callback=null,m=p.priorityLevel;var pe=ye(p.expirationTime<=ee);ee=t.unstable_now(),typeof pe=="function"?p.callback=pe:p===n(u)&&r(u),w(ee)}else r(u);p=n(u)}if(p!==null)var Pe=!0;else{var Ze=n(c);Ze!==null&&Ee(L,Ze.startTime-ee),Pe=!1}return Pe}finally{p=null,m=ne,C=!1}}var k=!1,E=null,g=-1,_=5,S=-1;function P(){return!(t.unstable_now()-S<_)}function O(){if(E!==null){var q=t.unstable_now();S=q;var ee=!0;try{ee=E(!0,q)}finally{ee?I():(k=!1,E=null)}}else k=!1}var I;if(typeof v=="function")I=function(){v(O)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,St=de.port2;de.port1.onmessage=O,I=function(){St.postMessage(null)}}else I=function(){M(O,0)};function Fn(q){E=q,k||(k=!0,I())}function Ee(q,ee){g=M(function(){q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){R||C||(R=!0,Fn(z))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(q){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var ne=m;m=ee;try{return q()}finally{m=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=m;m=q;try{return ee()}finally{m=ne}},t.unstable_scheduleCallback=function(q,ee,ne){var ye=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ye+ne:ye):ne=ye,q){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ne+pe,q={id:f++,callback:ee,priorityLevel:q,startTime:ne,expirationTime:pe,sortIndex:-1},ne>ye?(q.sortIndex=ne,e(c,q),n(u)===null&&q===n(c)&&(N?(T(g),g=-1):N=!0,Ee(L,ne-ye))):(q.sortIndex=pe,e(u,q),R||C||(R=!0,Fn(z))),q},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(q){var ee=m;return function(){var ne=m;m=ee;try{return q.apply(this,arguments)}finally{m=ne}}}})(e_);Zv.exports=e_;var ST=Zv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=j,sn=ST;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t_=new Set,Ca={};function os(t,e){Xs(t,e),Xs(t+"Capture",e)}function Xs(t,e){for(Ca[t]=e,t=0;t<e.length;t++)t_.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mh=Object.prototype.hasOwnProperty,CT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xm={},Jm={};function RT(t){return mh.call(Jm,t)?!0:mh.call(Xm,t)?!1:CT.test(t)?Jm[t]=!0:(Xm[t]=!0,!1)}function PT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AT(t,e,n,r){if(e===null||typeof e>"u"||PT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var zf=/[\-:]([a-z])/g;function Bf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zf,Bf);Et[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zf,Bf);Et[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zf,Bf);Et[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function $f(t,e,n,r){var i=Et.hasOwnProperty(e)?Et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AT(e,n,i,r)&&(n=null),r||i===null?RT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=IT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fl=Symbol.for("react.element"),Ps=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),n_=Symbol.for("react.provider"),r_=Symbol.for("react.context"),Wf=Symbol.for("react.forward_ref"),yh=Symbol.for("react.suspense"),vh=Symbol.for("react.suspense_list"),Kf=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),i_=Symbol.for("react.offscreen"),Zm=Symbol.iterator;function jo(t){return t===null||typeof t!="object"?null:(t=Zm&&t[Zm]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Td;function ta(t){if(Td===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Td=e&&e[1]||""}return`
`+Td+t}var Sd=!1;function Id(t,e){if(!t||Sd)return"";Sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ta(t):""}function kT(t){switch(t.tag){case 5:return ta(t.type);case 16:return ta("Lazy");case 13:return ta("Suspense");case 19:return ta("SuspenseList");case 0:case 2:case 15:return t=Id(t.type,!1),t;case 11:return t=Id(t.type.render,!1),t;case 1:return t=Id(t.type,!0),t;default:return""}}function _h(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case As:return"Fragment";case Ps:return"Portal";case gh:return"Profiler";case Hf:return"StrictMode";case yh:return"Suspense";case vh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case r_:return(t.displayName||"Context")+".Consumer";case n_:return(t._context.displayName||"Context")+".Provider";case Wf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kf:return e=t.displayName||null,e!==null?e:_h(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return _h(t(e))}catch{}}return null}function xT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _h(e);case 8:return e===Hf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function s_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NT(t){var e=s_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jl(t){t._valueTracker||(t._valueTracker=NT(t))}function o_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=s_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wh(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function a_(t,e){e=e.checked,e!=null&&$f(t,"checked",e,!1)}function Eh(t,e){a_(t,e);var n=oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Th(t,e.type,n):e.hasOwnProperty("defaultValue")&&Th(t,e.type,oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Th(t,e,n){(e!=="number"||Nu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var na=Array.isArray;function zs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ng(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(na(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oi(n)}}function l_(t,e){var n=oi(e.value),r=oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ih(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ul,c_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ul.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DT=["Webkit","ms","Moz","O"];Object.keys(ca).forEach(function(t){DT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ca[e]=ca[t]})});function d_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ca.hasOwnProperty(t)&&ca[t]?(""+e).trim():e+"px"}function h_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=d_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OT=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ch(t,e){if(e){if(OT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Rh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=null;function Gf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ah=null,Bs=null,$s=null;function ig(t){if(t=ol(t)){if(typeof Ah!="function")throw Error($(280));var e=t.stateNode;e&&(e=Oc(e),Ah(t.stateNode,t.type,e))}}function f_(t){Bs?$s?$s.push(t):$s=[t]:Bs=t}function p_(){if(Bs){var t=Bs,e=$s;if($s=Bs=null,ig(t),e)for(t=0;t<e.length;t++)ig(e[t])}}function m_(t,e){return t(e)}function g_(){}var Cd=!1;function y_(t,e,n){if(Cd)return t(e,n);Cd=!0;try{return m_(t,e,n)}finally{Cd=!1,(Bs!==null||$s!==null)&&(g_(),p_())}}function Pa(t,e){var n=t.stateNode;if(n===null)return null;var r=Oc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var kh=!1;if(Er)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){kh=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{kh=!1}function LT(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var da=!1,Du=null,Ou=!1,xh=null,bT={onError:function(t){da=!0,Du=t}};function MT(t,e,n,r,i,s,o,l,u){da=!1,Du=null,LT.apply(bT,arguments)}function VT(t,e,n,r,i,s,o,l,u){if(MT.apply(this,arguments),da){if(da){var c=Du;da=!1,Du=null}else throw Error($(198));Ou||(Ou=!0,xh=c)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function v_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sg(t){if(as(t)!==t)throw Error($(188))}function FT(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sg(i),t;if(s===r)return sg(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function __(t){return t=FT(t),t!==null?w_(t):null}function w_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w_(t);if(e!==null)return e;t=t.sibling}return null}var E_=sn.unstable_scheduleCallback,og=sn.unstable_cancelCallback,jT=sn.unstable_shouldYield,UT=sn.unstable_requestPaint,qe=sn.unstable_now,zT=sn.unstable_getCurrentPriorityLevel,qf=sn.unstable_ImmediatePriority,T_=sn.unstable_UserBlockingPriority,Lu=sn.unstable_NormalPriority,BT=sn.unstable_LowPriority,S_=sn.unstable_IdlePriority,kc=null,qn=null;function $T(t){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(kc,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:KT,HT=Math.log,WT=Math.LN2;function KT(t){return t>>>=0,t===0?32:31-(HT(t)/WT|0)|0}var zl=64,Bl=4194304;function ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ra(l):(s&=o,s!==0&&(r=ra(s)))}else o=n&~i,o!==0?r=ra(o):s!==0&&(r=ra(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nn(e),i=1<<n,r|=t[n],e&=~i;return r}function GT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Nn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=GT(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Nh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function I_(){var t=zl;return zl<<=1,!(zl&4194240)&&(zl=64),t}function Rd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nn(e),t[e]=n}function QT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Qf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function C_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R_,Yf,P_,A_,k_,Dh=!1,$l=[],Qr=null,Yr=null,Xr=null,Aa=new Map,ka=new Map,zr=[],YT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ag(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(e.pointerId)}}function zo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ol(e),e!==null&&Yf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XT(t,e,n,r,i){switch(e){case"focusin":return Qr=zo(Qr,t,e,n,r,i),!0;case"dragenter":return Yr=zo(Yr,t,e,n,r,i),!0;case"mouseover":return Xr=zo(Xr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Aa.set(s,zo(Aa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ka.set(s,zo(ka.get(s)||null,t,e,n,r,i)),!0}return!1}function x_(t){var e=Oi(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=v_(n),e!==null){t.blockedOn=e,k_(t.priority,function(){P_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ph=r,n.target.dispatchEvent(r),Ph=null}else return e=ol(n),e!==null&&Yf(e),t.blockedOn=n,!1;e.shift()}return!0}function lg(t,e,n){hu(t)&&n.delete(e)}function JT(){Dh=!1,Qr!==null&&hu(Qr)&&(Qr=null),Yr!==null&&hu(Yr)&&(Yr=null),Xr!==null&&hu(Xr)&&(Xr=null),Aa.forEach(lg),ka.forEach(lg)}function Bo(t,e){t.blockedOn===e&&(t.blockedOn=null,Dh||(Dh=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,JT)))}function xa(t){function e(i){return Bo(i,t)}if(0<$l.length){Bo($l[0],t);for(var n=1;n<$l.length;n++){var r=$l[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qr!==null&&Bo(Qr,t),Yr!==null&&Bo(Yr,t),Xr!==null&&Bo(Xr,t),Aa.forEach(e),ka.forEach(e),n=0;n<zr.length;n++)r=zr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zr.length&&(n=zr[0],n.blockedOn===null);)x_(n),n.blockedOn===null&&zr.shift()}var Hs=Pr.ReactCurrentBatchConfig,Mu=!0;function ZT(t,e,n,r){var i=Ie,s=Hs.transition;Hs.transition=null;try{Ie=1,Xf(t,e,n,r)}finally{Ie=i,Hs.transition=s}}function eS(t,e,n,r){var i=Ie,s=Hs.transition;Hs.transition=null;try{Ie=4,Xf(t,e,n,r)}finally{Ie=i,Hs.transition=s}}function Xf(t,e,n,r){if(Mu){var i=Oh(t,e,n,r);if(i===null)Md(t,e,r,Vu,n),ag(t,r);else if(XT(i,t,e,n,r))r.stopPropagation();else if(ag(t,r),e&4&&-1<YT.indexOf(t)){for(;i!==null;){var s=ol(i);if(s!==null&&R_(s),s=Oh(t,e,n,r),s===null&&Md(t,e,r,Vu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Md(t,e,r,null,n)}}var Vu=null;function Oh(t,e,n,r){if(Vu=null,t=Gf(r),t=Oi(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=v_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vu=t,null}function N_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zT()){case qf:return 1;case T_:return 4;case Lu:case BT:return 16;case S_:return 536870912;default:return 16}default:return 16}}var Gr=null,Jf=null,fu=null;function D_(){if(fu)return fu;var t,e=Jf,n=e.length,r,i="value"in Gr?Gr.value:Gr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return fu=i.slice(t,1<r?1-r:void 0)}function pu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hl(){return!0}function ug(){return!1}function un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hl:ug,this.isPropagationStopped=ug,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),e}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zf=un(po),sl=He({},po,{view:0,detail:0}),tS=un(sl),Pd,Ad,$o,xc=He({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(Pd=t.screenX-$o.screenX,Ad=t.screenY-$o.screenY):Ad=Pd=0,$o=t),Pd)},movementY:function(t){return"movementY"in t?t.movementY:Ad}}),cg=un(xc),nS=He({},xc,{dataTransfer:0}),rS=un(nS),iS=He({},sl,{relatedTarget:0}),kd=un(iS),sS=He({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),oS=un(sS),aS=He({},po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lS=un(aS),uS=He({},po,{data:0}),dg=un(uS),cS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hS[t])?!!e[t]:!1}function ep(){return fS}var pS=He({},sl,{key:function(t){if(t.key){var e=cS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(t){return t.type==="keypress"?pu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mS=un(pS),gS=He({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hg=un(gS),yS=He({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),vS=un(yS),_S=He({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),wS=un(_S),ES=He({},xc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TS=un(ES),SS=[9,13,27,32],tp=Er&&"CompositionEvent"in window,ha=null;Er&&"documentMode"in document&&(ha=document.documentMode);var IS=Er&&"TextEvent"in window&&!ha,O_=Er&&(!tp||ha&&8<ha&&11>=ha),fg=" ",pg=!1;function L_(t,e){switch(t){case"keyup":return SS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ks=!1;function CS(t,e){switch(t){case"compositionend":return b_(e);case"keypress":return e.which!==32?null:(pg=!0,fg);case"textInput":return t=e.data,t===fg&&pg?null:t;default:return null}}function RS(t,e){if(ks)return t==="compositionend"||!tp&&L_(t,e)?(t=D_(),fu=Jf=Gr=null,ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O_&&e.locale!=="ko"?null:e.data;default:return null}}var PS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PS[t.type]:e==="textarea"}function M_(t,e,n,r){f_(r),e=Fu(e,"onChange"),0<e.length&&(n=new Zf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fa=null,Na=null;function AS(t){G_(t,0)}function Nc(t){var e=Ds(t);if(o_(e))return t}function kS(t,e){if(t==="change")return e}var V_=!1;if(Er){var xd;if(Er){var Nd="oninput"in document;if(!Nd){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),Nd=typeof gg.oninput=="function"}xd=Nd}else xd=!1;V_=xd&&(!document.documentMode||9<document.documentMode)}function yg(){fa&&(fa.detachEvent("onpropertychange",F_),Na=fa=null)}function F_(t){if(t.propertyName==="value"&&Nc(Na)){var e=[];M_(e,Na,t,Gf(t)),y_(AS,e)}}function xS(t,e,n){t==="focusin"?(yg(),fa=e,Na=n,fa.attachEvent("onpropertychange",F_)):t==="focusout"&&yg()}function NS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nc(Na)}function DS(t,e){if(t==="click")return Nc(e)}function OS(t,e){if(t==="input"||t==="change")return Nc(e)}function LS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:LS;function Da(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mh.call(e,i)||!Ln(t[i],e[i]))return!1}return!0}function vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _g(t,e){var n=vg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vg(n)}}function j_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?j_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U_(){for(var t=window,e=Nu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nu(t.document)}return e}function np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bS(t){var e=U_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&j_(n.ownerDocument.documentElement,n)){if(r!==null&&np(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=_g(n,s);var o=_g(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MS=Er&&"documentMode"in document&&11>=document.documentMode,xs=null,Lh=null,pa=null,bh=!1;function wg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bh||xs==null||xs!==Nu(r)||(r=xs,"selectionStart"in r&&np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pa&&Da(pa,r)||(pa=r,r=Fu(Lh,"onSelect"),0<r.length&&(e=new Zf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xs)))}function Wl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ns={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},Dd={},z_={};Er&&(z_=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Dc(t){if(Dd[t])return Dd[t];if(!Ns[t])return t;var e=Ns[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in z_)return Dd[t]=e[n];return t}var B_=Dc("animationend"),$_=Dc("animationiteration"),H_=Dc("animationstart"),W_=Dc("transitionend"),K_=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(t,e){K_.set(t,e),os(e,[t])}for(var Od=0;Od<Eg.length;Od++){var Ld=Eg[Od],VS=Ld.toLowerCase(),FS=Ld[0].toUpperCase()+Ld.slice(1);pi(VS,"on"+FS)}pi(B_,"onAnimationEnd");pi($_,"onAnimationIteration");pi(H_,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi(W_,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function Tg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VT(r,e,void 0,t),t.currentTarget=null}function G_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Tg(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Tg(i,l,c),s=u}}}if(Ou)throw t=xh,Ou=!1,xh=null,t}function Me(t,e){var n=e[Uh];n===void 0&&(n=e[Uh]=new Set);var r=t+"__bubble";n.has(r)||(q_(e,t,2,!1),n.add(r))}function bd(t,e,n){var r=0;e&&(r|=4),q_(n,t,r,e)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Oa(t){if(!t[Kl]){t[Kl]=!0,t_.forEach(function(n){n!=="selectionchange"&&(jS.has(n)||bd(n,!1,t),bd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kl]||(e[Kl]=!0,bd("selectionchange",!1,e))}}function q_(t,e,n,r){switch(N_(e)){case 1:var i=ZT;break;case 4:i=eS;break;default:i=Xf}n=i.bind(null,e,n,t),i=void 0,!kh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Md(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Oi(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}y_(function(){var c=s,f=Gf(n),p=[];e:{var m=K_.get(t);if(m!==void 0){var C=Zf,R=t;switch(t){case"keypress":if(pu(n)===0)break e;case"keydown":case"keyup":C=mS;break;case"focusin":R="focus",C=kd;break;case"focusout":R="blur",C=kd;break;case"beforeblur":case"afterblur":C=kd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=cg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=vS;break;case B_:case $_:case H_:C=oS;break;case W_:C=wS;break;case"scroll":C=tS;break;case"wheel":C=TS;break;case"copy":case"cut":case"paste":C=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=hg}var N=(e&4)!==0,M=!N&&t==="scroll",T=N?m!==null?m+"Capture":null:m;N=[];for(var v=c,w;v!==null;){w=v;var L=w.stateNode;if(w.tag===5&&L!==null&&(w=L,T!==null&&(L=Pa(v,T),L!=null&&N.push(La(v,L,w)))),M)break;v=v.return}0<N.length&&(m=new C(m,R,null,n,f),p.push({event:m,listeners:N}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",m&&n!==Ph&&(R=n.relatedTarget||n.fromElement)&&(Oi(R)||R[Tr]))break e;if((C||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,C?(R=n.relatedTarget||n.toElement,C=c,R=R?Oi(R):null,R!==null&&(M=as(R),R!==M||R.tag!==5&&R.tag!==6)&&(R=null)):(C=null,R=c),C!==R)){if(N=cg,L="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(N=hg,L="onPointerLeave",T="onPointerEnter",v="pointer"),M=C==null?m:Ds(C),w=R==null?m:Ds(R),m=new N(L,v+"leave",C,n,f),m.target=M,m.relatedTarget=w,L=null,Oi(f)===c&&(N=new N(T,v+"enter",R,n,f),N.target=w,N.relatedTarget=M,L=N),M=L,C&&R)t:{for(N=C,T=R,v=0,w=N;w;w=Ss(w))v++;for(w=0,L=T;L;L=Ss(L))w++;for(;0<v-w;)N=Ss(N),v--;for(;0<w-v;)T=Ss(T),w--;for(;v--;){if(N===T||T!==null&&N===T.alternate)break t;N=Ss(N),T=Ss(T)}N=null}else N=null;C!==null&&Sg(p,m,C,N,!1),R!==null&&M!==null&&Sg(p,M,R,N,!0)}}e:{if(m=c?Ds(c):window,C=m.nodeName&&m.nodeName.toLowerCase(),C==="select"||C==="input"&&m.type==="file")var z=kS;else if(mg(m))if(V_)z=OS;else{z=NS;var k=xS}else(C=m.nodeName)&&C.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(z=DS);if(z&&(z=z(t,c))){M_(p,z,n,f);break e}k&&k(t,m,c),t==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Th(m,"number",m.value)}switch(k=c?Ds(c):window,t){case"focusin":(mg(k)||k.contentEditable==="true")&&(xs=k,Lh=c,pa=null);break;case"focusout":pa=Lh=xs=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,wg(p,n,f);break;case"selectionchange":if(MS)break;case"keydown":case"keyup":wg(p,n,f)}var E;if(tp)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else ks?L_(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(O_&&n.locale!=="ko"&&(ks||g!=="onCompositionStart"?g==="onCompositionEnd"&&ks&&(E=D_()):(Gr=f,Jf="value"in Gr?Gr.value:Gr.textContent,ks=!0)),k=Fu(c,g),0<k.length&&(g=new dg(g,t,null,n,f),p.push({event:g,listeners:k}),E?g.data=E:(E=b_(n),E!==null&&(g.data=E)))),(E=IS?CS(t,n):RS(t,n))&&(c=Fu(c,"onBeforeInput"),0<c.length&&(f=new dg("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=E))}G_(p,e)})}function La(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pa(t,n),s!=null&&r.unshift(La(t,s,i)),s=Pa(t,e),s!=null&&r.push(La(t,s,i))),t=t.return}return r}function Ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Pa(n,s),u!=null&&o.unshift(La(n,u,l))):i||(u=Pa(n,s),u!=null&&o.push(La(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var US=/\r\n?/g,zS=/\u0000|\uFFFD/g;function Ig(t){return(typeof t=="string"?t:""+t).replace(US,`
`).replace(zS,"")}function Gl(t,e,n){if(e=Ig(e),Ig(t)!==e&&n)throw Error($(425))}function ju(){}var Mh=null,Vh=null;function Fh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,Cg=typeof Promise=="function"?Promise:void 0,$S=typeof queueMicrotask=="function"?queueMicrotask:typeof Cg<"u"?function(t){return Cg.resolve(null).then(t).catch(HS)}:jh;function HS(t){setTimeout(function(){throw t})}function Vd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xa(e)}function Jr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mo=Math.random().toString(36).slice(2),Kn="__reactFiber$"+mo,ba="__reactProps$"+mo,Tr="__reactContainer$"+mo,Uh="__reactEvents$"+mo,WS="__reactListeners$"+mo,KS="__reactHandles$"+mo;function Oi(t){var e=t[Kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tr]||n[Kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rg(t);t!==null;){if(n=t[Kn])return n;t=Rg(t)}return e}t=n,n=t.parentNode}return null}function ol(t){return t=t[Kn]||t[Tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ds(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Oc(t){return t[ba]||null}var zh=[],Os=-1;function mi(t){return{current:t}}function Ve(t){0>Os||(t.current=zh[Os],zh[Os]=null,Os--)}function De(t,e){Os++,zh[Os]=t.current,t.current=e}var ai={},Mt=mi(ai),Wt=mi(!1),$i=ai;function Js(t,e){var n=t.type.contextTypes;if(!n)return ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function Uu(){Ve(Wt),Ve(Mt)}function Pg(t,e,n){if(Mt.current!==ai)throw Error($(168));De(Mt,e),De(Wt,n)}function Q_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,xT(t)||"Unknown",i));return He({},n,r)}function zu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ai,$i=Mt.current,De(Mt,t),De(Wt,Wt.current),!0}function Ag(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Q_(t,e,$i),r.__reactInternalMemoizedMergedChildContext=t,Ve(Wt),Ve(Mt),De(Mt,t)):Ve(Wt),De(Wt,n)}var dr=null,Lc=!1,Fd=!1;function Y_(t){dr===null?dr=[t]:dr.push(t)}function GS(t){Lc=!0,Y_(t)}function gi(){if(!Fd&&dr!==null){Fd=!0;var t=0,e=Ie;try{var n=dr;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,Lc=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),E_(qf,gi),i}finally{Ie=e,Fd=!1}}return null}var Ls=[],bs=0,Bu=null,$u=0,hn=[],fn=0,Hi=null,hr=1,fr="";function Ai(t,e){Ls[bs++]=$u,Ls[bs++]=Bu,Bu=t,$u=e}function X_(t,e,n){hn[fn++]=hr,hn[fn++]=fr,hn[fn++]=Hi,Hi=t;var r=hr;t=fr;var i=32-Nn(r)-1;r&=~(1<<i),n+=1;var s=32-Nn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hr=1<<32-Nn(e)+i|n<<i|r,fr=s+t}else hr=1<<s|n<<i|r,fr=t}function rp(t){t.return!==null&&(Ai(t,1),X_(t,1,0))}function ip(t){for(;t===Bu;)Bu=Ls[--bs],Ls[bs]=null,$u=Ls[--bs],Ls[bs]=null;for(;t===Hi;)Hi=hn[--fn],hn[fn]=null,fr=hn[--fn],hn[fn]=null,hr=hn[--fn],hn[fn]=null}var rn=null,tn=null,je=!1,Rn=null;function J_(t,e){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,tn=Jr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hi!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,tn=null,!0):!1;default:return!1}}function Bh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $h(t){if(je){var e=tn;if(e){var n=e;if(!kg(t,e)){if(Bh(t))throw Error($(418));e=Jr(n.nextSibling);var r=rn;e&&kg(t,e)?J_(r,n):(t.flags=t.flags&-4097|2,je=!1,rn=t)}}else{if(Bh(t))throw Error($(418));t.flags=t.flags&-4097|2,je=!1,rn=t}}}function xg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function ql(t){if(t!==rn)return!1;if(!je)return xg(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fh(t.type,t.memoizedProps)),e&&(e=tn)){if(Bh(t))throw Z_(),Error($(418));for(;e;)J_(t,e),e=Jr(e.nextSibling)}if(xg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tn=Jr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tn=null}}else tn=rn?Jr(t.stateNode.nextSibling):null;return!0}function Z_(){for(var t=tn;t;)t=Jr(t.nextSibling)}function Zs(){tn=rn=null,je=!1}function sp(t){Rn===null?Rn=[t]:Rn.push(t)}var qS=Pr.ReactCurrentBatchConfig;function Ho(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Ql(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ng(t){var e=t._init;return e(t._payload)}function e0(t){function e(T,v){if(t){var w=T.deletions;w===null?(T.deletions=[v],T.flags|=16):w.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function i(T,v){return T=ni(T,v),T.index=0,T.sibling=null,T}function s(T,v,w){return T.index=w,t?(w=T.alternate,w!==null?(w=w.index,w<v?(T.flags|=2,v):w):(T.flags|=2,v)):(T.flags|=1048576,v)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,v,w,L){return v===null||v.tag!==6?(v=Wd(w,T.mode,L),v.return=T,v):(v=i(v,w),v.return=T,v)}function u(T,v,w,L){var z=w.type;return z===As?f(T,v,w.props.children,L,w.key):v!==null&&(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===jr&&Ng(z)===v.type)?(L=i(v,w.props),L.ref=Ho(T,v,w),L.return=T,L):(L=Eu(w.type,w.key,w.props,null,T.mode,L),L.ref=Ho(T,v,w),L.return=T,L)}function c(T,v,w,L){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Kd(w,T.mode,L),v.return=T,v):(v=i(v,w.children||[]),v.return=T,v)}function f(T,v,w,L,z){return v===null||v.tag!==7?(v=Ui(w,T.mode,L,z),v.return=T,v):(v=i(v,w),v.return=T,v)}function p(T,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Wd(""+v,T.mode,w),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fl:return w=Eu(v.type,v.key,v.props,null,T.mode,w),w.ref=Ho(T,null,v),w.return=T,w;case Ps:return v=Kd(v,T.mode,w),v.return=T,v;case jr:var L=v._init;return p(T,L(v._payload),w)}if(na(v)||jo(v))return v=Ui(v,T.mode,w,null),v.return=T,v;Ql(T,v)}return null}function m(T,v,w,L){var z=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return z!==null?null:l(T,v,""+w,L);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fl:return w.key===z?u(T,v,w,L):null;case Ps:return w.key===z?c(T,v,w,L):null;case jr:return z=w._init,m(T,v,z(w._payload),L)}if(na(w)||jo(w))return z!==null?null:f(T,v,w,L,null);Ql(T,w)}return null}function C(T,v,w,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return T=T.get(w)||null,l(v,T,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Fl:return T=T.get(L.key===null?w:L.key)||null,u(v,T,L,z);case Ps:return T=T.get(L.key===null?w:L.key)||null,c(v,T,L,z);case jr:var k=L._init;return C(T,v,w,k(L._payload),z)}if(na(L)||jo(L))return T=T.get(w)||null,f(v,T,L,z,null);Ql(v,L)}return null}function R(T,v,w,L){for(var z=null,k=null,E=v,g=v=0,_=null;E!==null&&g<w.length;g++){E.index>g?(_=E,E=null):_=E.sibling;var S=m(T,E,w[g],L);if(S===null){E===null&&(E=_);break}t&&E&&S.alternate===null&&e(T,E),v=s(S,v,g),k===null?z=S:k.sibling=S,k=S,E=_}if(g===w.length)return n(T,E),je&&Ai(T,g),z;if(E===null){for(;g<w.length;g++)E=p(T,w[g],L),E!==null&&(v=s(E,v,g),k===null?z=E:k.sibling=E,k=E);return je&&Ai(T,g),z}for(E=r(T,E);g<w.length;g++)_=C(E,T,g,w[g],L),_!==null&&(t&&_.alternate!==null&&E.delete(_.key===null?g:_.key),v=s(_,v,g),k===null?z=_:k.sibling=_,k=_);return t&&E.forEach(function(P){return e(T,P)}),je&&Ai(T,g),z}function N(T,v,w,L){var z=jo(w);if(typeof z!="function")throw Error($(150));if(w=z.call(w),w==null)throw Error($(151));for(var k=z=null,E=v,g=v=0,_=null,S=w.next();E!==null&&!S.done;g++,S=w.next()){E.index>g?(_=E,E=null):_=E.sibling;var P=m(T,E,S.value,L);if(P===null){E===null&&(E=_);break}t&&E&&P.alternate===null&&e(T,E),v=s(P,v,g),k===null?z=P:k.sibling=P,k=P,E=_}if(S.done)return n(T,E),je&&Ai(T,g),z;if(E===null){for(;!S.done;g++,S=w.next())S=p(T,S.value,L),S!==null&&(v=s(S,v,g),k===null?z=S:k.sibling=S,k=S);return je&&Ai(T,g),z}for(E=r(T,E);!S.done;g++,S=w.next())S=C(E,T,g,S.value,L),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?g:S.key),v=s(S,v,g),k===null?z=S:k.sibling=S,k=S);return t&&E.forEach(function(O){return e(T,O)}),je&&Ai(T,g),z}function M(T,v,w,L){if(typeof w=="object"&&w!==null&&w.type===As&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Fl:e:{for(var z=w.key,k=v;k!==null;){if(k.key===z){if(z=w.type,z===As){if(k.tag===7){n(T,k.sibling),v=i(k,w.props.children),v.return=T,T=v;break e}}else if(k.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===jr&&Ng(z)===k.type){n(T,k.sibling),v=i(k,w.props),v.ref=Ho(T,k,w),v.return=T,T=v;break e}n(T,k);break}else e(T,k);k=k.sibling}w.type===As?(v=Ui(w.props.children,T.mode,L,w.key),v.return=T,T=v):(L=Eu(w.type,w.key,w.props,null,T.mode,L),L.ref=Ho(T,v,w),L.return=T,T=L)}return o(T);case Ps:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(T,v.sibling),v=i(v,w.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=Kd(w,T.mode,L),v.return=T,T=v}return o(T);case jr:return k=w._init,M(T,v,k(w._payload),L)}if(na(w))return R(T,v,w,L);if(jo(w))return N(T,v,w,L);Ql(T,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(T,v.sibling),v=i(v,w),v.return=T,T=v):(n(T,v),v=Wd(w,T.mode,L),v.return=T,T=v),o(T)):n(T,v)}return M}var eo=e0(!0),t0=e0(!1),Hu=mi(null),Wu=null,Ms=null,op=null;function ap(){op=Ms=Wu=null}function lp(t){var e=Hu.current;Ve(Hu),t._currentValue=e}function Hh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ws(t,e){Wu=t,op=Ms=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(op!==t)if(t={context:t,memoizedValue:e,next:null},Ms===null){if(Wu===null)throw Error($(308));Ms=t,Wu.dependencies={lanes:0,firstContext:t}}else Ms=Ms.next=t;return e}var Li=null;function up(t){Li===null?Li=[t]:Li.push(t)}function n0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,up(e)):(n.next=i.next,i.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ur=!1;function cp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sr(t,n)}return i=r.interleaved,i===null?(e.next=e,up(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sr(t,n)}function mu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qf(t,n)}}function Dg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ku(t,e,n,r){var i=t.updateQueue;Ur=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,f=c=u=null,l=s;do{var m=l.lane,C=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:C,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var R=t,N=l;switch(m=e,C=n,N.tag){case 1:if(R=N.payload,typeof R=="function"){p=R.call(C,p,m);break e}p=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=N.payload,m=typeof R=="function"?R.call(C,p,m):R,m==null)break e;p=He({},p,m);break e;case 2:Ur=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else C={eventTime:C,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=C,u=p):f=f.next=C,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ki|=o,t.lanes=o,t.memoizedState=p}}function Og(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var al={},Qn=mi(al),Ma=mi(al),Va=mi(al);function bi(t){if(t===al)throw Error($(174));return t}function dp(t,e){switch(De(Va,e),De(Ma,t),De(Qn,al),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ih(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ih(e,t)}Ve(Qn),De(Qn,e)}function to(){Ve(Qn),Ve(Ma),Ve(Va)}function i0(t){bi(Va.current);var e=bi(Qn.current),n=Ih(e,t.type);e!==n&&(De(Ma,t),De(Qn,n))}function hp(t){Ma.current===t&&(Ve(Qn),Ve(Ma))}var Be=mi(0);function Gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jd=[];function fp(){for(var t=0;t<jd.length;t++)jd[t]._workInProgressVersionPrimary=null;jd.length=0}var gu=Pr.ReactCurrentDispatcher,Ud=Pr.ReactCurrentBatchConfig,Wi=0,$e=null,rt=null,at=null,qu=!1,ma=!1,Fa=0,QS=0;function At(){throw Error($(321))}function pp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ln(t[n],e[n]))return!1;return!0}function mp(t,e,n,r,i,s){if(Wi=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gu.current=t===null||t.memoizedState===null?ZS:eI,t=n(r,i),ma){s=0;do{if(ma=!1,Fa=0,25<=s)throw Error($(301));s+=1,at=rt=null,e.updateQueue=null,gu.current=tI,t=n(r,i)}while(ma)}if(gu.current=Qu,e=rt!==null&&rt.next!==null,Wi=0,at=rt=$e=null,qu=!1,e)throw Error($(300));return t}function gp(){var t=Fa!==0;return Fa=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?$e.memoizedState=at=t:at=at.next=t,at}function yn(){if(rt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=at===null?$e.memoizedState:at.next;if(e!==null)at=e,rt=t;else{if(t===null)throw Error($(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},at===null?$e.memoizedState=at=t:at=at.next=t}return at}function ja(t,e){return typeof e=="function"?e(t):e}function zd(t){var e=yn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var f=c.lane;if((Wi&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,$e.lanes|=f,Ki|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,Ln(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,Ki|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bd(t){var e=yn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ln(s,e.memoizedState)||(Ht=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function s0(){}function o0(t,e){var n=$e,r=yn(),i=e(),s=!Ln(r.memoizedState,i);if(s&&(r.memoizedState=i,Ht=!0),r=r.queue,yp(u0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Ua(9,l0.bind(null,n,r,i,e),void 0,null),ut===null)throw Error($(349));Wi&30||a0(n,e,i)}return i}function a0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function l0(t,e,n,r){e.value=n,e.getSnapshot=r,c0(e)&&d0(t)}function u0(t,e,n){return n(function(){c0(e)&&d0(t)})}function c0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ln(t,n)}catch{return!0}}function d0(t){var e=Sr(t,1);e!==null&&Dn(e,t,1,-1)}function Lg(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},e.queue=t,t=t.dispatch=JS.bind(null,$e,t),[e.memoizedState,t]}function Ua(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function h0(){return yn().memoizedState}function yu(t,e,n,r){var i=Wn();$e.flags|=t,i.memoizedState=Ua(1|e,n,void 0,r===void 0?null:r)}function bc(t,e,n,r){var i=yn();r=r===void 0?null:r;var s=void 0;if(rt!==null){var o=rt.memoizedState;if(s=o.destroy,r!==null&&pp(r,o.deps)){i.memoizedState=Ua(e,n,s,r);return}}$e.flags|=t,i.memoizedState=Ua(1|e,n,s,r)}function bg(t,e){return yu(8390656,8,t,e)}function yp(t,e){return bc(2048,8,t,e)}function f0(t,e){return bc(4,2,t,e)}function p0(t,e){return bc(4,4,t,e)}function m0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g0(t,e,n){return n=n!=null?n.concat([t]):null,bc(4,4,m0.bind(null,e,t),n)}function vp(){}function y0(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function v0(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _0(t,e,n){return Wi&21?(Ln(n,e)||(n=I_(),$e.lanes|=n,Ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function YS(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=Ud.transition;Ud.transition={};try{t(!1),e()}finally{Ie=n,Ud.transition=r}}function w0(){return yn().memoizedState}function XS(t,e,n){var r=ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E0(t))T0(e,n);else if(n=n0(t,e,n,r),n!==null){var i=jt();Dn(n,t,r,i),S0(n,e,r)}}function JS(t,e,n){var r=ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E0(t))T0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ln(l,o)){var u=e.interleaved;u===null?(i.next=i,up(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=n0(t,e,i,r),n!==null&&(i=jt(),Dn(n,t,r,i),S0(n,e,r))}}function E0(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function T0(t,e){ma=qu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function S0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qf(t,n)}}var Qu={readContext:gn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},ZS={readContext:gn,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:bg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yu(4194308,4,m0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yu(4194308,4,t,e)},useInsertionEffect:function(t,e){return yu(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XS.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:Lg,useDebugValue:vp,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=Lg(!1),e=t[0];return t=YS.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=Wn();if(je){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),ut===null)throw Error($(349));Wi&30||a0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bg(u0.bind(null,r,s,t),[t]),r.flags|=2048,Ua(9,l0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wn(),e=ut.identifierPrefix;if(je){var n=fr,r=hr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eI={readContext:gn,useCallback:y0,useContext:gn,useEffect:yp,useImperativeHandle:g0,useInsertionEffect:f0,useLayoutEffect:p0,useMemo:v0,useReducer:zd,useRef:h0,useState:function(){return zd(ja)},useDebugValue:vp,useDeferredValue:function(t){var e=yn();return _0(e,rt.memoizedState,t)},useTransition:function(){var t=zd(ja)[0],e=yn().memoizedState;return[t,e]},useMutableSource:s0,useSyncExternalStore:o0,useId:w0,unstable_isNewReconciler:!1},tI={readContext:gn,useCallback:y0,useContext:gn,useEffect:yp,useImperativeHandle:g0,useInsertionEffect:f0,useLayoutEffect:p0,useMemo:v0,useReducer:Bd,useRef:h0,useState:function(){return Bd(ja)},useDebugValue:vp,useDeferredValue:function(t){var e=yn();return rt===null?e.memoizedState=t:_0(e,rt.memoizedState,t)},useTransition:function(){var t=Bd(ja)[0],e=yn().memoizedState;return[t,e]},useMutableSource:s0,useSyncExternalStore:o0,useId:w0,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mc={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jt(),i=ti(t),s=yr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Zr(t,s,i),e!==null&&(Dn(e,t,i,r),mu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jt(),i=ti(t),s=yr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zr(t,s,i),e!==null&&(Dn(e,t,i,r),mu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),r=ti(t),i=yr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zr(t,i,r),e!==null&&(Dn(e,t,r,n),mu(e,t,r))}};function Mg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Da(n,r)||!Da(i,s):!0}function I0(t,e,n){var r=!1,i=ai,s=e.contextType;return typeof s=="object"&&s!==null?s=gn(s):(i=Kt(e)?$i:Mt.current,r=e.contextTypes,s=(r=r!=null)?Js(t,i):ai),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Vg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mc.enqueueReplaceState(e,e.state,null)}function Kh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gn(s):(s=Kt(e)?$i:Mt.current,i.context=Js(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Mc.enqueueReplaceState(i,i.state,null),Ku(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function no(t,e){try{var n="",r=e;do n+=kT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $d(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nI=typeof WeakMap=="function"?WeakMap:Map;function C0(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xu||(Xu=!0,rf=r),Gh(t,e)},n}function R0(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gh(t,e),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Fg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gI.bind(null,t,e,n),e.then(t,t))}function jg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ug(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,Zr(n,e,1))),n.lanes|=1),t)}var rI=Pr.ReactCurrentOwner,Ht=!1;function Ft(t,e,n,r){e.child=t===null?t0(e,null,n,r):eo(e,t.child,n,r)}function zg(t,e,n,r,i){n=n.render;var s=e.ref;return Ws(e,i),r=mp(t,e,n,r,s,i),n=gp(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(je&&n&&rp(e),e.flags|=1,Ft(t,e,r,i),e.child)}function Bg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Rp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,P0(t,e,s,r,i)):(t=Eu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Da,n(o,r)&&t.ref===e.ref)return Ir(t,e,i)}return e.flags|=1,t=ni(s,r),t.ref=e.ref,t.return=e,e.child=t}function P0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Da(s,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Ir(t,e,i)}return qh(t,e,n,r,i)}function A0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Fs,Zt),Zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Fs,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(Fs,Zt),Zt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(Fs,Zt),Zt|=r;return Ft(t,e,i,n),e.child}function k0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qh(t,e,n,r,i){var s=Kt(n)?$i:Mt.current;return s=Js(e,s),Ws(e,i),n=mp(t,e,n,r,s,i),r=gp(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(je&&r&&rp(e),e.flags|=1,Ft(t,e,n,i),e.child)}function $g(t,e,n,r,i){if(Kt(n)){var s=!0;zu(e)}else s=!1;if(Ws(e,i),e.stateNode===null)vu(t,e),I0(e,n,r),Kh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gn(c):(c=Kt(n)?$i:Mt.current,c=Js(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Vg(e,o,r,c),Ur=!1;var m=e.memoizedState;o.state=m,Ku(e,r,o,i),u=e.memoizedState,l!==r||m!==u||Wt.current||Ur?(typeof f=="function"&&(Wh(e,n,f,r),u=e.memoizedState),(l=Ur||Mg(e,n,l,r,m,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,r0(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Sn(e.type,l),o.props=c,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=gn(u):(u=Kt(n)?$i:Mt.current,u=Js(e,u));var C=n.getDerivedStateFromProps;(f=typeof C=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==u)&&Vg(e,o,r,u),Ur=!1,m=e.memoizedState,o.state=m,Ku(e,r,o,i);var R=e.memoizedState;l!==p||m!==R||Wt.current||Ur?(typeof C=="function"&&(Wh(e,n,C,r),R=e.memoizedState),(c=Ur||Mg(e,n,c,r,m,R,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Qh(t,e,n,r,s,i)}function Qh(t,e,n,r,i,s){k0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ag(e,n,!1),Ir(t,e,s);r=e.stateNode,rI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=eo(e,t.child,null,s),e.child=eo(e,null,l,s)):Ft(t,e,l,s),e.memoizedState=r.state,i&&Ag(e,n,!0),e.child}function x0(t){var e=t.stateNode;e.pendingContext?Pg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pg(t,e.context,!1),dp(t,e.containerInfo)}function Hg(t,e,n,r,i){return Zs(),sp(i),e.flags|=256,Ft(t,e,n,r),e.child}var Yh={dehydrated:null,treeContext:null,retryLane:0};function Xh(t){return{baseLanes:t,cachePool:null,transitions:null}}function N0(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Be,i&1),t===null)return $h(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jc(o,r,0,null),t=Ui(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xh(n),e.memoizedState=Yh,t):_p(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return iI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ni(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ni(l,s):(s=Ui(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Yh,r}return s=t.child,t=s.sibling,r=ni(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _p(t,e){return e=jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yl(t,e,n,r){return r!==null&&sp(r),eo(e,t.child,null,n),t=_p(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$d(Error($(422))),Yl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=jc({mode:"visible",children:r.children},i,0,null),s=Ui(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&eo(e,t.child,null,o),e.child.memoizedState=Xh(o),e.memoizedState=Yh,s);if(!(e.mode&1))return Yl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=$d(s,r,void 0),Yl(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ht||l){if(r=ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sr(t,i),Dn(r,t,i,-1))}return Cp(),r=$d(Error($(421))),Yl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,tn=Jr(i.nextSibling),rn=e,je=!0,Rn=null,t!==null&&(hn[fn++]=hr,hn[fn++]=fr,hn[fn++]=Hi,hr=t.id,fr=t.overflow,Hi=e),e=_p(e,r.children),e.flags|=4096,e)}function Wg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hh(t.return,e,n)}function Hd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function D0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ft(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wg(t,n,e);else if(t.tag===19)Wg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hd(e,!0,n,null,s);break;case"together":Hd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sI(t,e,n){switch(e.tag){case 3:x0(e),Zs();break;case 5:i0(e);break;case 1:Kt(e.type)&&zu(e);break;case 4:dp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Hu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?N0(t,e,n):(De(Be,Be.current&1),t=Ir(t,e,n),t!==null?t.sibling:null);De(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return D0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,A0(t,e,n)}return Ir(t,e,n)}var O0,Jh,L0,b0;O0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jh=function(){};L0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bi(Qn.current);var s=null;switch(n){case"input":i=wh(t,i),r=wh(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=Sh(t,i),r=Sh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ju)}Ch(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ca.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Me("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};b0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wo(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oI(t,e,n){var r=e.pendingProps;switch(ip(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Kt(e.type)&&Uu(),kt(e),null;case 3:return r=e.stateNode,to(),Ve(Wt),Ve(Mt),fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ql(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(af(Rn),Rn=null))),Jh(t,e),kt(e),null;case 5:hp(e);var i=bi(Va.current);if(n=e.type,t!==null&&e.stateNode!=null)L0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return kt(e),null}if(t=bi(Qn.current),ql(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kn]=e,r[ba]=s,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<ia.length;i++)Me(ia[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":eg(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":ng(r,s),Me("invalid",r)}Ch(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Gl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Gl(r.textContent,l,t),i=["children",""+l]):Ca.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":jl(r),tg(r,s,!0);break;case"textarea":jl(r),rg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ju)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kn]=e,t[ba]=r,O0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rh(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<ia.length;i++)Me(ia[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":eg(t,r),i=wh(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Me("invalid",t);break;case"textarea":ng(t,r),i=Sh(t,r),Me("invalid",t);break;default:i=r}Ch(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?h_(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&c_(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ra(t,u):typeof u=="number"&&Ra(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ca.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Me("scroll",t):u!=null&&$f(t,s,u,o))}switch(n){case"input":jl(t),tg(t,r,!1);break;case"textarea":jl(t),rg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?zs(t,!!r.multiple,s,!1):r.defaultValue!=null&&zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)b0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=bi(Va.current),bi(Qn.current),ql(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kn]=e,(s=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:Gl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=e,e.stateNode=r}return kt(e),null;case 13:if(Ve(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&tn!==null&&e.mode&1&&!(e.flags&128))Z_(),Zs(),e.flags|=98560,s=!1;else if(s=ql(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Kn]=e}else Zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),s=!1}else Rn!==null&&(af(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?it===0&&(it=3):Cp())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return to(),Jh(t,e),t===null&&Oa(e.stateNode.containerInfo),kt(e),null;case 10:return lp(e.type._context),kt(e),null;case 17:return Kt(e.type)&&Uu(),kt(e),null;case 19:if(Ve(Be),s=e.memoizedState,s===null)return kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Wo(s,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gu(t),o!==null){for(e.flags|=128,Wo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>ro&&(e.flags|=128,r=!0,Wo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Gu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!je)return kt(e),null}else 2*qe()-s.renderingStartTime>ro&&n!==1073741824&&(e.flags|=128,r=!0,Wo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=Be.current,De(Be,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return Ip(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function aI(t,e){switch(ip(e),e.tag){case 1:return Kt(e.type)&&Uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return to(),Ve(Wt),Ve(Mt),fp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hp(e),null;case 13:if(Ve(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Be),null;case 4:return to(),null;case 10:return lp(e.type._context),null;case 22:case 23:return Ip(),null;case 24:return null;default:return null}}var Xl=!1,Ot=!1,lI=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function Zh(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var Kg=!1;function uI(t,e){if(Mh=Mu,t=U_(),np(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var C;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(C=p.firstChild)!==null;)m=p,p=C;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++f===r&&(u=o),(C=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=C}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vh={focusedElem:t,selectionRange:n},Mu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var N=R.memoizedProps,M=R.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?N:Sn(e.type,N),M);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(L){Ke(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return R=Kg,Kg=!1,R}function ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zh(e,n,s)}i=i.next}while(i!==r)}}function Vc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ef(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function M0(t){var e=t.alternate;e!==null&&(t.alternate=null,M0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[ba],delete e[Uh],delete e[WS],delete e[KS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function V0(t){return t.tag===5||t.tag===3||t.tag===4}function Gg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||V0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ju));else if(r!==4&&(t=t.child,t!==null))for(tf(t,e,n),t=t.sibling;t!==null;)tf(t,e,n),t=t.sibling}function nf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nf(t,e,n),t=t.sibling;t!==null;)nf(t,e,n),t=t.sibling}var gt=null,In=!1;function br(t,e,n){for(n=n.child;n!==null;)F0(t,e,n),n=n.sibling}function F0(t,e,n){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(kc,n)}catch{}switch(n.tag){case 5:Ot||Vs(n,e);case 6:var r=gt,i=In;gt=null,br(t,e,n),gt=r,In=i,gt!==null&&(In?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(In?(t=gt,n=n.stateNode,t.nodeType===8?Vd(t.parentNode,n):t.nodeType===1&&Vd(t,n),xa(t)):Vd(gt,n.stateNode));break;case 4:r=gt,i=In,gt=n.stateNode.containerInfo,In=!0,br(t,e,n),gt=r,In=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Zh(n,e,o),i=i.next}while(i!==r)}br(t,e,n);break;case 1:if(!Ot&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ke(n,e,l)}br(t,e,n);break;case 21:br(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,br(t,e,n),Ot=r):br(t,e,n);break;default:br(t,e,n)}}function qg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lI),e.forEach(function(r){var i=vI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:gt=l.stateNode,In=!1;break e;case 3:gt=l.stateNode.containerInfo,In=!0;break e;case 4:gt=l.stateNode.containerInfo,In=!0;break e}l=l.return}if(gt===null)throw Error($(160));F0(s,o,i),gt=null,In=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)j0(e,t),e=e.sibling}function j0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),Hn(t),r&4){try{ga(3,t,t.return),Vc(3,t)}catch(N){Ke(t,t.return,N)}try{ga(5,t,t.return)}catch(N){Ke(t,t.return,N)}}break;case 1:Tn(e,t),Hn(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(Tn(e,t),Hn(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var i=t.stateNode;try{Ra(i,"")}catch(N){Ke(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&a_(i,s),Rh(l,o);var c=Rh(l,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?h_(i,p):f==="dangerouslySetInnerHTML"?c_(i,p):f==="children"?Ra(i,p):$f(i,f,p,c)}switch(l){case"input":Eh(i,s);break;case"textarea":l_(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?zs(i,!!s.multiple,C,!1):m!==!!s.multiple&&(s.defaultValue!=null?zs(i,!!s.multiple,s.defaultValue,!0):zs(i,!!s.multiple,s.multiple?[]:"",!1))}i[ba]=s}catch(N){Ke(t,t.return,N)}}break;case 6:if(Tn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){Ke(t,t.return,N)}}break;case 3:if(Tn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xa(e.containerInfo)}catch(N){Ke(t,t.return,N)}break;case 4:Tn(e,t),Hn(t);break;case 13:Tn(e,t),Hn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Tp=qe())),r&4&&qg(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(c=Ot)||f,Tn(e,t),Ot=c):Tn(e,t),Hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Q=t,f=t.child;f!==null;){for(p=Q=f;Q!==null;){switch(m=Q,C=m.child,m.tag){case 0:case 11:case 14:case 15:ga(4,m,m.return);break;case 1:Vs(m,m.return);var R=m.stateNode;if(typeof R.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(N){Ke(r,n,N)}}break;case 5:Vs(m,m.return);break;case 22:if(m.memoizedState!==null){Yg(p);continue}}C!==null?(C.return=m,Q=C):Yg(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=d_("display",o))}catch(N){Ke(t,t.return,N)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(N){Ke(t,t.return,N)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Tn(e,t),Hn(t),r&4&&qg(t);break;case 21:break;default:Tn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(V0(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ra(i,""),r.flags&=-33);var s=Gg(t);nf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Gg(t);tf(t,l,o);break;default:throw Error($(161))}}catch(u){Ke(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cI(t,e,n){Q=t,U0(t)}function U0(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xl;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Ot;l=Xl;var c=Ot;if(Xl=o,(Ot=u)&&!c)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?Xg(i):u!==null?(u.return=o,Q=u):Xg(i);for(;s!==null;)Q=s,U0(s),s=s.sibling;Q=i,Xl=l,Ot=c}Qg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):Qg(t)}}function Qg(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||Vc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Og(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Og(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&xa(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ot||e.flags&512&&ef(e)}catch(m){Ke(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Yg(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Xg(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vc(4,e)}catch(u){Ke(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ke(e,i,u)}}var s=e.return;try{ef(e)}catch(u){Ke(e,s,u)}break;case 5:var o=e.return;try{ef(e)}catch(u){Ke(e,o,u)}}}catch(u){Ke(e,e.return,u)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var dI=Math.ceil,Yu=Pr.ReactCurrentDispatcher,wp=Pr.ReactCurrentOwner,mn=Pr.ReactCurrentBatchConfig,ve=0,ut=null,Je=null,wt=0,Zt=0,Fs=mi(0),it=0,za=null,Ki=0,Fc=0,Ep=0,ya=null,$t=null,Tp=0,ro=1/0,cr=null,Xu=!1,rf=null,ei=null,Jl=!1,qr=null,Ju=0,va=0,sf=null,_u=-1,wu=0;function jt(){return ve&6?qe():_u!==-1?_u:_u=qe()}function ti(t){return t.mode&1?ve&2&&wt!==0?wt&-wt:qS.transition!==null?(wu===0&&(wu=I_()),wu):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:N_(t.type)),t):1}function Dn(t,e,n,r){if(50<va)throw va=0,sf=null,Error($(185));il(t,n,r),(!(ve&2)||t!==ut)&&(t===ut&&(!(ve&2)&&(Fc|=n),it===4&&Br(t,wt)),Gt(t,r),n===1&&ve===0&&!(e.mode&1)&&(ro=qe()+500,Lc&&gi()))}function Gt(t,e){var n=t.callbackNode;qT(t,e);var r=bu(t,t===ut?wt:0);if(r===0)n!==null&&og(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&og(n),e===1)t.tag===0?GS(Jg.bind(null,t)):Y_(Jg.bind(null,t)),$S(function(){!(ve&6)&&gi()}),n=null;else{switch(C_(r)){case 1:n=qf;break;case 4:n=T_;break;case 16:n=Lu;break;case 536870912:n=S_;break;default:n=Lu}n=q0(n,z0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function z0(t,e){if(_u=-1,wu=0,ve&6)throw Error($(327));var n=t.callbackNode;if(Ks()&&t.callbackNode!==n)return null;var r=bu(t,t===ut?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zu(t,r);else{e=r;var i=ve;ve|=2;var s=$0();(ut!==t||wt!==e)&&(cr=null,ro=qe()+500,ji(t,e));do try{pI();break}catch(l){B0(t,l)}while(!0);ap(),Yu.current=s,ve=i,Je!==null?e=0:(ut=null,wt=0,e=it)}if(e!==0){if(e===2&&(i=Nh(t),i!==0&&(r=i,e=of(t,i))),e===1)throw n=za,ji(t,0),Br(t,r),Gt(t,qe()),n;if(e===6)Br(t,r);else{if(i=t.current.alternate,!(r&30)&&!hI(i)&&(e=Zu(t,r),e===2&&(s=Nh(t),s!==0&&(r=s,e=of(t,s))),e===1))throw n=za,ji(t,0),Br(t,r),Gt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:ki(t,$t,cr);break;case 3:if(Br(t,r),(r&130023424)===r&&(e=Tp+500-qe(),10<e)){if(bu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jh(ki.bind(null,t,$t,cr),e);break}ki(t,$t,cr);break;case 4:if(Br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Nn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dI(r/1960))-r,10<r){t.timeoutHandle=jh(ki.bind(null,t,$t,cr),r);break}ki(t,$t,cr);break;case 5:ki(t,$t,cr);break;default:throw Error($(329))}}}return Gt(t,qe()),t.callbackNode===n?z0.bind(null,t):null}function of(t,e){var n=ya;return t.current.memoizedState.isDehydrated&&(ji(t,e).flags|=256),t=Zu(t,e),t!==2&&(e=$t,$t=n,e!==null&&af(e)),t}function af(t){$t===null?$t=t:$t.push.apply($t,t)}function hI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ln(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~Ep,e&=~Fc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nn(e),r=1<<n;t[n]=-1,e&=~r}}function Jg(t){if(ve&6)throw Error($(327));Ks();var e=bu(t,0);if(!(e&1))return Gt(t,qe()),null;var n=Zu(t,e);if(t.tag!==0&&n===2){var r=Nh(t);r!==0&&(e=r,n=of(t,r))}if(n===1)throw n=za,ji(t,0),Br(t,e),Gt(t,qe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ki(t,$t,cr),Gt(t,qe()),null}function Sp(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(ro=qe()+500,Lc&&gi())}}function Gi(t){qr!==null&&qr.tag===0&&!(ve&6)&&Ks();var e=ve;ve|=1;var n=mn.transition,r=Ie;try{if(mn.transition=null,Ie=1,t)return t()}finally{Ie=r,mn.transition=n,ve=e,!(ve&6)&&gi()}}function Ip(){Zt=Fs.current,Ve(Fs)}function ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BS(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(ip(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uu();break;case 3:to(),Ve(Wt),Ve(Mt),fp();break;case 5:hp(r);break;case 4:to();break;case 13:Ve(Be);break;case 19:Ve(Be);break;case 10:lp(r.type._context);break;case 22:case 23:Ip()}n=n.return}if(ut=t,Je=t=ni(t.current,null),wt=Zt=e,it=0,za=null,Ep=Fc=Ki=0,$t=ya=null,Li!==null){for(e=0;e<Li.length;e++)if(n=Li[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Li=null}return t}function B0(t,e){do{var n=Je;try{if(ap(),gu.current=Qu,qu){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qu=!1}if(Wi=0,at=rt=$e=null,ma=!1,Fa=0,wp.current=null,n===null||n.return===null){it=1,za=e,Je=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=wt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var C=jg(o);if(C!==null){C.flags&=-257,Ug(C,o,l,s,e),C.mode&1&&Fg(s,c,e),e=C,u=c;var R=e.updateQueue;if(R===null){var N=new Set;N.add(u),e.updateQueue=N}else R.add(u);break e}else{if(!(e&1)){Fg(s,c,e),Cp();break e}u=Error($(426))}}else if(je&&l.mode&1){var M=jg(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Ug(M,o,l,s,e),sp(no(u,l));break e}}s=u=no(u,l),it!==4&&(it=2),ya===null?ya=[s]:ya.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=C0(s,u,e);Dg(s,T);break e;case 1:l=u;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ei===null||!ei.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=R0(s,l,e);Dg(s,L);break e}}s=s.return}while(s!==null)}W0(n)}catch(z){e=z,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function $0(){var t=Yu.current;return Yu.current=Qu,t===null?Qu:t}function Cp(){(it===0||it===3||it===2)&&(it=4),ut===null||!(Ki&268435455)&&!(Fc&268435455)||Br(ut,wt)}function Zu(t,e){var n=ve;ve|=2;var r=$0();(ut!==t||wt!==e)&&(cr=null,ji(t,e));do try{fI();break}catch(i){B0(t,i)}while(!0);if(ap(),ve=n,Yu.current=r,Je!==null)throw Error($(261));return ut=null,wt=0,it}function fI(){for(;Je!==null;)H0(Je)}function pI(){for(;Je!==null&&!jT();)H0(Je)}function H0(t){var e=G0(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?W0(t):Je=e,wp.current=null}function W0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aI(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Je=null;return}}else if(n=oI(n,e,Zt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);it===0&&(it=5)}function ki(t,e,n){var r=Ie,i=mn.transition;try{mn.transition=null,Ie=1,mI(t,e,n,r)}finally{mn.transition=i,Ie=r}return null}function mI(t,e,n,r){do Ks();while(qr!==null);if(ve&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QT(t,s),t===ut&&(Je=ut=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jl||(Jl=!0,q0(Lu,function(){return Ks(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mn.transition,mn.transition=null;var o=Ie;Ie=1;var l=ve;ve|=4,wp.current=null,uI(t,n),j0(n,t),bS(Vh),Mu=!!Mh,Vh=Mh=null,t.current=n,cI(n),UT(),ve=l,Ie=o,mn.transition=s}else t.current=n;if(Jl&&(Jl=!1,qr=t,Ju=i),s=t.pendingLanes,s===0&&(ei=null),$T(n.stateNode),Gt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xu)throw Xu=!1,t=rf,rf=null,t;return Ju&1&&t.tag!==0&&Ks(),s=t.pendingLanes,s&1?t===sf?va++:(va=0,sf=t):va=0,gi(),null}function Ks(){if(qr!==null){var t=C_(Ju),e=mn.transition,n=Ie;try{if(mn.transition=null,Ie=16>t?16:t,qr===null)var r=!1;else{if(t=qr,qr=null,Ju=0,ve&6)throw Error($(331));var i=ve;for(ve|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Q=c;Q!==null;){var f=Q;switch(f.tag){case 0:case 11:case 15:ga(8,f,s)}var p=f.child;if(p!==null)p.return=f,Q=p;else for(;Q!==null;){f=Q;var m=f.sibling,C=f.return;if(M0(f),f===c){Q=null;break}if(m!==null){m.return=C,Q=m;break}Q=C}}}var R=s.alternate;if(R!==null){var N=R.child;if(N!==null){R.child=null;do{var M=N.sibling;N.sibling=null,N=M}while(N!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ga(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Q=T;break e}Q=s.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=v;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vc(9,l)}}catch(z){Ke(l,l.return,z)}if(l===o){Q=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,Q=L;break e}Q=l.return}}if(ve=i,gi(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(kc,t)}catch{}r=!0}return r}finally{Ie=n,mn.transition=e}}return!1}function Zg(t,e,n){e=no(n,e),e=C0(t,e,1),t=Zr(t,e,1),e=jt(),t!==null&&(il(t,1,e),Gt(t,e))}function Ke(t,e,n){if(t.tag===3)Zg(t,t,n);else for(;e!==null;){if(e.tag===3){Zg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){t=no(n,t),t=R0(e,t,1),e=Zr(e,t,1),t=jt(),e!==null&&(il(e,1,t),Gt(e,t));break}}e=e.return}}function gI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(wt&n)===n&&(it===4||it===3&&(wt&130023424)===wt&&500>qe()-Tp?ji(t,0):Ep|=n),Gt(t,e)}function K0(t,e){e===0&&(t.mode&1?(e=Bl,Bl<<=1,!(Bl&130023424)&&(Bl=4194304)):e=1);var n=jt();t=Sr(t,e),t!==null&&(il(t,e,n),Gt(t,n))}function yI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K0(t,n)}function vI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),K0(t,n)}var G0;G0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,sI(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,je&&e.flags&1048576&&X_(e,$u,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vu(t,e),t=e.pendingProps;var i=Js(e,Mt.current);Ws(e,n),i=mp(null,e,r,t,i,n);var s=gp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(s=!0,zu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cp(e),i.updater=Mc,e.stateNode=i,i._reactInternals=e,Kh(e,r,t,n),e=Qh(null,e,r,!0,s,n)):(e.tag=0,je&&s&&rp(e),Ft(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=wI(r),t=Sn(r,t),i){case 0:e=qh(null,e,r,t,n);break e;case 1:e=$g(null,e,r,t,n);break e;case 11:e=zg(null,e,r,t,n);break e;case 14:e=Bg(null,e,r,Sn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),qh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),$g(t,e,r,i,n);case 3:e:{if(x0(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,r0(t,e),Ku(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=no(Error($(423)),e),e=Hg(t,e,r,n,i);break e}else if(r!==i){i=no(Error($(424)),e),e=Hg(t,e,r,n,i);break e}else for(tn=Jr(e.stateNode.containerInfo.firstChild),rn=e,je=!0,Rn=null,n=t0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zs(),r===i){e=Ir(t,e,n);break e}Ft(t,e,r,n)}e=e.child}return e;case 5:return i0(e),t===null&&$h(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Fh(r,i)?o=null:s!==null&&Fh(r,s)&&(e.flags|=32),k0(t,e),Ft(t,e,o,n),e.child;case 6:return t===null&&$h(e),null;case 13:return N0(t,e,n);case 4:return dp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=eo(e,null,r,n):Ft(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),zg(t,e,r,i,n);case 7:return Ft(t,e,e.pendingProps,n),e.child;case 8:return Ft(t,e,e.pendingProps.children,n),e.child;case 12:return Ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(Hu,r._currentValue),r._currentValue=o,s!==null)if(Ln(s.value,o)){if(s.children===i.children&&!Wt.current){e=Ir(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=yr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Hh(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ft(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ws(e,n),i=gn(i),r=r(i),e.flags|=1,Ft(t,e,r,n),e.child;case 14:return r=e.type,i=Sn(r,e.pendingProps),i=Sn(r.type,i),Bg(t,e,r,i,n);case 15:return P0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),vu(t,e),e.tag=1,Kt(r)?(t=!0,zu(e)):t=!1,Ws(e,n),I0(e,r,i),Kh(e,r,i,n),Qh(null,e,r,!0,t,n);case 19:return D0(t,e,n);case 22:return A0(t,e,n)}throw Error($(156,e.tag))};function q0(t,e){return E_(t,e)}function _I(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,n,r){return new _I(t,e,n,r)}function Rp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wI(t){if(typeof t=="function")return Rp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wf)return 11;if(t===Kf)return 14}return 2}function ni(t,e){var n=t.alternate;return n===null?(n=pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Eu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Rp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case As:return Ui(n.children,i,s,e);case Hf:o=8,i|=8;break;case gh:return t=pn(12,n,e,i|2),t.elementType=gh,t.lanes=s,t;case yh:return t=pn(13,n,e,i),t.elementType=yh,t.lanes=s,t;case vh:return t=pn(19,n,e,i),t.elementType=vh,t.lanes=s,t;case i_:return jc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case n_:o=10;break e;case r_:o=9;break e;case Wf:o=11;break e;case Kf:o=14;break e;case jr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=pn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ui(t,e,n,r){return t=pn(7,t,r,e),t.lanes=n,t}function jc(t,e,n,r){return t=pn(22,t,r,e),t.elementType=i_,t.lanes=n,t.stateNode={isHidden:!1},t}function Wd(t,e,n){return t=pn(6,t,null,e),t.lanes=n,t}function Kd(t,e,n){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function EI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rd(0),this.expirationTimes=Rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pp(t,e,n,r,i,s,o,l,u){return t=new EI(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(s),t}function TI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Q0(t){if(!t)return ai;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Kt(n))return Q_(t,n,e)}return e}function Y0(t,e,n,r,i,s,o,l,u){return t=Pp(n,r,!0,t,i,s,o,l,u),t.context=Q0(null),n=t.current,r=jt(),i=ti(n),s=yr(r,i),s.callback=e??null,Zr(n,s,i),t.current.lanes=i,il(t,i,r),Gt(t,r),t}function Uc(t,e,n,r){var i=e.current,s=jt(),o=ti(i);return n=Q0(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zr(i,e,o),t!==null&&(Dn(t,i,o,s),mu(t,i,o)),o}function ec(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ey(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ap(t,e){ey(t,e),(t=t.alternate)&&ey(t,e)}function SI(){return null}var X0=typeof reportError=="function"?reportError:function(t){console.error(t)};function kp(t){this._internalRoot=t}zc.prototype.render=kp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Uc(t,e,null,null)};zc.prototype.unmount=kp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gi(function(){Uc(null,t,null,null)}),e[Tr]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=A_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zr.length&&e!==0&&e<zr[n].priority;n++);zr.splice(n,0,t),n===0&&x_(t)}};function xp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ty(){}function II(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ec(o);s.call(c)}}var o=Y0(e,r,t,0,null,!1,!1,"",ty);return t._reactRootContainer=o,t[Tr]=o.current,Oa(t.nodeType===8?t.parentNode:t),Gi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=ec(u);l.call(c)}}var u=Pp(t,0,!1,null,null,!1,!1,"",ty);return t._reactRootContainer=u,t[Tr]=u.current,Oa(t.nodeType===8?t.parentNode:t),Gi(function(){Uc(e,u,n,r)}),u}function $c(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=ec(o);l.call(u)}}Uc(e,o,t,i)}else o=II(n,e,t,i,r);return ec(o)}R_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ra(e.pendingLanes);n!==0&&(Qf(e,n|1),Gt(e,qe()),!(ve&6)&&(ro=qe()+500,gi()))}break;case 13:Gi(function(){var r=Sr(t,1);if(r!==null){var i=jt();Dn(r,t,1,i)}}),Ap(t,1)}};Yf=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=jt();Dn(e,t,134217728,n)}Ap(t,134217728)}};P_=function(t){if(t.tag===13){var e=ti(t),n=Sr(t,e);if(n!==null){var r=jt();Dn(n,t,e,r)}Ap(t,e)}};A_=function(){return Ie};k_=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Ah=function(t,e,n){switch(e){case"input":if(Eh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Oc(r);if(!i)throw Error($(90));o_(r),Eh(r,i)}}}break;case"textarea":l_(t,n);break;case"select":e=n.value,e!=null&&zs(t,!!n.multiple,e,!1)}};m_=Sp;g_=Gi;var CI={usingClientEntryPoint:!1,Events:[ol,Ds,Oc,f_,p_,Sp]},Ko={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RI={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=__(t),t===null?null:t.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||SI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{kc=Zl.inject(RI),qn=Zl}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CI;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xp(e))throw Error($(200));return TI(t,e,null,n)};ln.createRoot=function(t,e){if(!xp(t))throw Error($(299));var n=!1,r="",i=X0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pp(t,1,!1,null,null,n,!1,r,i),t[Tr]=e.current,Oa(t.nodeType===8?t.parentNode:t),new kp(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=__(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return Gi(t)};ln.hydrate=function(t,e,n){if(!Bc(e))throw Error($(200));return $c(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!xp(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=X0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Y0(e,null,t,1,n??null,i,!1,s,o),t[Tr]=e.current,Oa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zc(e)};ln.render=function(t,e,n){if(!Bc(e))throw Error($(200));return $c(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!Bc(t))throw Error($(40));return t._reactRootContainer?(Gi(function(){$c(null,null,t,!1,function(){t._reactRootContainer=null,t[Tr]=null})}),!0):!1};ln.unstable_batchedUpdates=Sp;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bc(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return $c(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function J0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J0)}catch(t){console.error(t)}}J0(),Jv.exports=ln;var Np=Jv.exports;const PI=Uv(Np),AI=jv({__proto__:null,default:PI},[Np]);var ny=Np;ph.createRoot=ny.createRoot,ph.hydrateRoot=ny.hydrateRoot;const kI="modulepreload",xI=function(t){return"/React-Ecommerce/"+t},ry={},Pi=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=xI(l),l in ry)return;ry[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":kI,u||(f.as="script",f.crossOrigin=""),f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fe(){return Fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fe.apply(this,arguments)}var Ye;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ye||(Ye={}));const iy="popstate";function NI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Ba("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:li(i)}return OI(e,n,null,t)}function ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function io(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DI(){return Math.random().toString(36).substr(2,8)}function sy(t,e){return{usr:t.state,key:t.key,idx:e}}function Ba(t,e,n,r){return n===void 0&&(n=null),Fe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yi(e):e,{state:n,key:e&&e.key||r||DI()})}function li(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function OI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Ye.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(Fe({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=Ye.Pop;let M=f(),T=M==null?null:M-c;c=M,u&&u({action:l,location:N.location,delta:T})}function m(M,T){l=Ye.Push;let v=Ba(N.location,M,T);c=f()+1;let w=sy(v,c),L=N.createHref(v);try{o.pushState(w,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(L)}s&&u&&u({action:l,location:N.location,delta:1})}function C(M,T){l=Ye.Replace;let v=Ba(N.location,M,T);c=f();let w=sy(v,c),L=N.createHref(v);o.replaceState(w,"",L),s&&u&&u({action:l,location:N.location,delta:0})}function R(M){let T=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof M=="string"?M:li(M);return v=v.replace(/ $/,"%20"),ae(T,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,T)}let N={get action(){return l},get location(){return t(i,o)},listen(M){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(iy,p),u=M,()=>{i.removeEventListener(iy,p),u=null}},createHref(M){return e(i,M)},createURL:R,encodeLocation(M){let T=R(M);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:C,go(M){return o.go(M)}};return N}var Re;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Re||(Re={}));const LI=new Set(["lazy","caseSensitive","path","id","index","children"]);function bI(t){return t.index===!0}function $a(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(ae(i.index!==!0||!i.children,"Cannot specify children on an index route"),ae(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),bI(i)){let u=Fe({},i,e(i),{id:l});return r[l]=u,u}else{let u=Fe({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=$a(i.children,e,o,r)),u}})}function Di(t,e,n){return n===void 0&&(n="/"),Tu(t,e,n,!1)}function Tu(t,e,n,r){let i=typeof e=="string"?yi(e):e,s=bn(i.pathname||"/",n);if(s==null)return null;let o=Z0(t);VI(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=qI(s);l=KI(o[u],c,r)}return l}function MI(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Z0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ae(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Yn([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Z0(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:HI(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of ew(s.path))i(s,o,u)}),e}function ew(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ew(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function VI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FI=/^:[\w-]+$/,jI=3,UI=2,zI=1,BI=10,$I=-2,oy=t=>t==="*";function HI(t,e){let n=t.split("/"),r=n.length;return n.some(oy)&&(r+=$I),e&&(r+=UI),n.filter(i=>!oy(i)).reduce((i,s)=>i+(FI.test(s)?jI:s===""?zI:BI),r)}function WI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KI(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=tc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=tc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Yn([s,p.pathname]),pathnameBase:XI(Yn([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Yn([s,p.pathnameBase]))}return o}function tc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:m,isOptional:C}=f;if(m==="*"){let N=l[p]||"";o=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const R=l[p];return C&&!R?c[m]=void 0:c[m]=(R||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function GI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),io(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return io(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yi(t):t;return{pathname:n?n.startsWith("/")?n:YI(n,e):e,search:JI(r),hash:ZI(i)}}function YI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dp(t,e){let n=tw(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Op(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=yi(t):(i=Fe({},t),ae(!i.pathname||!i.pathname.includes("?"),Gd("?","pathname","search",i)),ae(!i.pathname||!i.pathname.includes("#"),Gd("#","pathname","hash",i)),ae(!i.search||!i.search.includes("#"),Gd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=QI(i,l),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Yn=t=>t.join("/").replace(/\/\/+/g,"/"),XI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Ha=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,Fe({},r,{headers:i}))};class nc{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Hc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nw=["post","put","patch","delete"],eC=new Set(nw),tC=["get",...nw],nC=new Set(tC),rC=new Set([301,302,303,307,308]),iC=new Set([307,308]),qd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Go={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Lp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oC=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),rw="remix-router-transitions";function aC(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ae(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let A=t.detectErrorBoundary;i=D=>({hasErrorBoundary:A(D)})}else i=oC;let s={},o=$a(t.routes,i,void 0,s),l,u=t.basename||"/",c=t.unstable_dataStrategy||hC,f=t.unstable_patchRoutesOnMiss,p=Fe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,C=new Set,R=null,N=null,M=null,T=t.hydrationData!=null,v=Di(o,t.history.location,u),w=null;if(v==null&&!f){let A=Vt(404,{pathname:t.history.location.pathname}),{matches:D,route:V}=gy(o);v=D,w={[V.id]:A}}v&&!t.hydrationData&&zn(v,o,t.history.location.pathname).active&&(v=null);let L;if(v)if(v.some(A=>A.route.lazy))L=!1;else if(!v.some(A=>A.route.loader))L=!0;else if(p.v7_partialHydration){let A=t.hydrationData?t.hydrationData.loaderData:null,D=t.hydrationData?t.hydrationData.errors:null,V=U=>U.route.loader?typeof U.route.loader=="function"&&U.route.loader.hydrate===!0?!1:A&&A[U.route.id]!==void 0||D&&D[U.route.id]!==void 0:!0;if(D){let U=v.findIndex(G=>D[G.route.id]!==void 0);L=v.slice(0,U+1).every(V)}else L=v.every(V)}else L=t.hydrationData!=null;else if(L=!1,v=[],p.v7_partialHydration){let A=zn(null,o,t.history.location.pathname);A.active&&A.matches&&(v=A.matches)}let z,k={historyAction:t.history.action,location:t.history.location,matches:v,initialized:L,navigation:qd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},E=Ye.Pop,g=!1,_,S=!1,P=new Map,O=null,I=!1,de=!1,St=[],Fn=new Set,Ee=new Map,q=0,ee=-1,ne=new Map,ye=new Set,pe=new Map,Pe=new Map,Ze=new Set,dt=new Map,ht=new Map,vn=new Map,wo=!1;function dd(){if(m=t.history.listen(A=>{let{action:D,location:V,delta:U}=A;if(wo){wo=!1;return}io(ht.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=Po({currentLocation:k.location,nextLocation:V,historyAction:D});if(G&&U!=null){wo=!0,t.history.go(U*-1),Ti(G,{state:"blocked",location:V,proceed(){Ti(G,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),t.history.go(U)},reset(){let Y=new Map(k.blockers);Y.set(G,Go),et({blockers:Y})}});return}return Un(D,V)}),n){CC(e,P);let A=()=>RC(e,P);e.addEventListener("pagehide",A),O=()=>e.removeEventListener("pagehide",A)}return k.initialized||Un(Ye.Pop,k.location,{initialHydration:!0}),z}function hs(){m&&m(),O&&O(),C.clear(),_&&_.abort(),k.fetchers.forEach((A,D)=>ms(D)),k.blockers.forEach((A,D)=>ys(D))}function fs(A){return C.add(A),()=>C.delete(A)}function et(A,D){D===void 0&&(D={}),k=Fe({},k,A);let V=[],U=[];p.v7_fetcherPersist&&k.fetchers.forEach((G,Y)=>{G.state==="idle"&&(Ze.has(Y)?U.push(Y):V.push(Y))}),[...C].forEach(G=>G(k,{deletedFetchers:U,unstable_viewTransitionOpts:D.viewTransitionOpts,unstable_flushSync:D.flushSync===!0})),p.v7_fetcherPersist&&(V.forEach(G=>k.fetchers.delete(G)),U.forEach(G=>ms(G)))}function jn(A,D,V){var U,G;let{flushSync:Y}=V===void 0?{}:V,te=k.actionData!=null&&k.navigation.formMethod!=null&&Cn(k.navigation.formMethod)&&k.navigation.state==="loading"&&((U=A.state)==null?void 0:U._isRedirect)!==!0,W;D.actionData?Object.keys(D.actionData).length>0?W=D.actionData:W=null:te?W=k.actionData:W=null;let se=D.loaderData?py(k.loaderData,D.loaderData,D.matches||[],D.errors):k.loaderData,X=k.blockers;X.size>0&&(X=new Map(X),X.forEach((_e,Te)=>X.set(Te,Go)));let J=g===!0||k.navigation.formMethod!=null&&Cn(k.navigation.formMethod)&&((G=A.state)==null?void 0:G._isRedirect)!==!0;l&&(o=l,l=void 0),I||E===Ye.Pop||(E===Ye.Push?t.history.push(A,A.state):E===Ye.Replace&&t.history.replace(A,A.state));let ue;if(E===Ye.Pop){let _e=P.get(k.location.pathname);_e&&_e.has(A.pathname)?ue={currentLocation:k.location,nextLocation:A}:P.has(A.pathname)&&(ue={currentLocation:A,nextLocation:k.location})}else if(S){let _e=P.get(k.location.pathname);_e?_e.add(A.pathname):(_e=new Set([A.pathname]),P.set(k.location.pathname,_e)),ue={currentLocation:k.location,nextLocation:A}}et(Fe({},D,{actionData:W,loaderData:se,historyAction:E,location:A,initialized:!0,navigation:qd,revalidation:"idle",restoreScrollPosition:ko(A,D.matches||k.matches),preventScrollReset:J,blockers:X}),{viewTransitionOpts:ue,flushSync:Y===!0}),E=Ye.Pop,g=!1,S=!1,I=!1,de=!1,St=[]}async function ps(A,D){if(typeof A=="number"){t.history.go(A);return}let V=lf(k.location,k.matches,u,p.v7_prependBasename,A,p.v7_relativeSplatPath,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:U,submission:G,error:Y}=ay(p.v7_normalizeFormMethod,!1,V,D),te=k.location,W=Ba(k.location,U,D&&D.state);W=Fe({},W,t.history.encodeLocation(W));let se=D&&D.replace!=null?D.replace:void 0,X=Ye.Push;se===!0?X=Ye.Replace:se===!1||G!=null&&Cn(G.formMethod)&&G.formAction===k.location.pathname+k.location.search&&(X=Ye.Replace);let J=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,ue=(D&&D.unstable_flushSync)===!0,_e=Po({currentLocation:te,nextLocation:W,historyAction:X});if(_e){Ti(_e,{state:"blocked",location:W,proceed(){Ti(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),ps(A,D)},reset(){let Te=new Map(k.blockers);Te.set(_e,Go),et({blockers:Te})}});return}return await Un(X,W,{submission:G,pendingError:Y,preventScrollReset:J,replace:D&&D.replace,enableViewTransition:D&&D.unstable_viewTransition,flushSync:ue})}function Eo(){if(nt(),et({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){Un(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}Un(E||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation})}}async function Un(A,D,V){_&&_.abort(),_=null,E=A,I=(V&&V.startUninterruptedRevalidation)===!0,vs(k.location,k.matches),g=(V&&V.preventScrollReset)===!0,S=(V&&V.enableViewTransition)===!0;let U=l||o,G=V&&V.overrideNavigation,Y=Di(U,D,u),te=(V&&V.flushSync)===!0,W=zn(Y,U,D.pathname);if(W.active&&W.matches&&(Y=W.matches),!Y){let{error:me,notFoundMatches:Ge,route:Ue}=ir(D.pathname);jn(D,{matches:Ge,loaderData:{},errors:{[Ue.id]:me}},{flushSync:te});return}if(k.initialized&&!de&&vC(k.location,D)&&!(V&&V.submission&&Cn(V.submission.formMethod))){jn(D,{matches:Y},{flushSync:te});return}_=new AbortController;let se=Is(t.history,D,_.signal,V&&V.submission),X;if(V&&V.pendingError)X=[js(Y).route.id,{type:Re.error,error:V.pendingError}];else if(V&&V.submission&&Cn(V.submission.formMethod)){let me=await hd(se,D,V.submission,Y,W.active,{replace:V.replace,flushSync:te});if(me.shortCircuited)return;if(me.pendingActionResult){let[Ge,Ue]=me.pendingActionResult;if(en(Ue)&&Hc(Ue.error)&&Ue.error.status===404){_=null,jn(D,{matches:me.matches,loaderData:{},errors:{[Ge]:Ue.error}});return}}Y=me.matches||Y,X=me.pendingActionResult,G=Qd(D,V.submission),te=!1,W.active=!1,se=Is(t.history,se.url,se.signal)}let{shortCircuited:J,matches:ue,loaderData:_e,errors:Te}=await fd(se,D,Y,W.active,G,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,te,X);J||(_=null,jn(D,Fe({matches:ue||Y},my(X),{loaderData:_e,errors:Te})))}async function hd(A,D,V,U,G,Y){Y===void 0&&(Y={}),nt();let te=SC(D,V);if(et({navigation:te},{flushSync:Y.flushSync===!0}),G){let X=await Ii(U,D.pathname,A.signal);if(X.type==="aborted")return{shortCircuited:!0};if(X.type==="error"){let{boundaryId:J,error:ue}=xr(D.pathname,X);return{matches:X.partialMatches,pendingActionResult:[J,{type:Re.error,error:ue}]}}else if(X.matches)U=X.matches;else{let{notFoundMatches:J,error:ue,route:_e}=ir(D.pathname);return{matches:J,pendingActionResult:[_e.id,{type:Re.error,error:ue}]}}}let W,se=sa(U,D);if(!se.route.action&&!se.route.lazy)W={type:Re.error,error:Vt(405,{method:A.method,pathname:D.pathname,routeId:se.route.id})};else if(W=(await kr("action",A,[se],U))[0],A.signal.aborted)return{shortCircuited:!0};if(Vi(W)){let X;return Y&&Y.replace!=null?X=Y.replace:X=dy(W.response.headers.get("Location"),new URL(A.url),u)===k.location.pathname+k.location.search,await rr(A,W,{submission:V,replace:X}),{shortCircuited:!0}}if(Mi(W))throw Vt(400,{type:"defer-action"});if(en(W)){let X=js(U,se.route.id);return(Y&&Y.replace)!==!0&&(E=Ye.Push),{matches:U,pendingActionResult:[X.route.id,W]}}return{matches:U,pendingActionResult:[se.route.id,W]}}async function fd(A,D,V,U,G,Y,te,W,se,X,J){let ue=G||Qd(D,Y),_e=Y||te||wy(ue),Te=!I&&(!p.v7_partialHydration||!se);if(U){if(Te){let Le=To(J);et(Fe({navigation:ue},Le!==void 0?{actionData:Le}:{}),{flushSync:X})}let oe=await Ii(V,D.pathname,A.signal);if(oe.type==="aborted")return{shortCircuited:!0};if(oe.type==="error"){let{boundaryId:Le,error:Ct}=xr(D.pathname,oe);return{matches:oe.partialMatches,loaderData:{},errors:{[Le]:Ct}}}else if(oe.matches)V=oe.matches;else{let{error:Le,notFoundMatches:Ct,route:Ce}=ir(D.pathname);return{matches:Ct,loaderData:{},errors:{[Ce.id]:Le}}}}let me=l||o,[Ge,Ue]=ly(t.history,k,V,_e,D,p.v7_partialHydration&&se===!0,p.v7_skipActionErrorRevalidation,de,St,Fn,Ze,pe,ye,me,u,J);if(Si(oe=>!(V&&V.some(Le=>Le.route.id===oe))||Ge&&Ge.some(Le=>Le.route.id===oe)),ee=++q,Ge.length===0&&Ue.length===0){let oe=gs();return jn(D,Fe({matches:V,loaderData:{},errors:J&&en(J[1])?{[J[0]]:J[1].error}:null},my(J),oe?{fetchers:new Map(k.fetchers)}:{}),{flushSync:X}),{shortCircuited:!0}}if(Te){let oe={};if(!U){oe.navigation=ue;let Le=To(J);Le!==void 0&&(oe.actionData=Le)}Ue.length>0&&(oe.fetchers=So(Ue)),et(oe,{flushSync:X})}Ue.forEach(oe=>{Ee.has(oe.key)&&_n(oe.key),oe.controller&&Ee.set(oe.key,oe.controller)});let Nr=()=>Ue.forEach(oe=>_n(oe.key));_&&_.signal.addEventListener("abort",Nr);let{loaderResults:Bn,fetcherResults:wn}=await tt(k.matches,V,Ge,Ue,A);if(A.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",Nr),Ue.forEach(oe=>Ee.delete(oe.key));let or=yy([...Bn,...wn]);if(or){if(or.idx>=Ge.length){let oe=Ue[or.idx-Ge.length].key;ye.add(oe)}return await rr(A,or.result,{replace:W}),{shortCircuited:!0}}let{loaderData:$n,errors:It}=fy(k,V,Ge,Bn,J,Ue,wn,dt);dt.forEach((oe,Le)=>{oe.subscribe(Ct=>{(Ct||oe.done)&&dt.delete(Le)})}),p.v7_partialHydration&&se&&k.errors&&Object.entries(k.errors).filter(oe=>{let[Le]=oe;return!Ge.some(Ct=>Ct.route.id===Le)}).forEach(oe=>{let[Le,Ct]=oe;It=Object.assign(It||{},{[Le]:Ct})});let dn=gs(),Dr=Il(ee),_s=dn||Dr||Ue.length>0;return Fe({matches:V,loaderData:$n,errors:It},_s?{fetchers:new Map(k.fetchers)}:{})}function To(A){if(A&&!en(A[1]))return{[A[0]]:A[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function So(A){return A.forEach(D=>{let V=k.fetchers.get(D.key),U=qo(void 0,V?V.data:void 0);k.fetchers.set(D.key,U)}),new Map(k.fetchers)}function Sl(A,D,V,U){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ee.has(A)&&_n(A);let G=(U&&U.unstable_flushSync)===!0,Y=l||o,te=lf(k.location,k.matches,u,p.v7_prependBasename,V,p.v7_relativeSplatPath,D,U==null?void 0:U.relative),W=Di(Y,te,u),se=zn(W,Y,te);if(se.active&&se.matches&&(W=se.matches),!W){cn(A,D,Vt(404,{pathname:te}),{flushSync:G});return}let{path:X,submission:J,error:ue}=ay(p.v7_normalizeFormMethod,!0,te,U);if(ue){cn(A,D,ue,{flushSync:G});return}let _e=sa(W,X);if(g=(U&&U.preventScrollReset)===!0,J&&Cn(J.formMethod)){pd(A,D,X,_e,W,se.active,G,J);return}pe.set(A,{routeId:D,path:X}),Io(A,D,X,_e,W,se.active,G,J)}async function pd(A,D,V,U,G,Y,te,W){nt(),pe.delete(A);function se(Ce){if(!Ce.route.action&&!Ce.route.lazy){let Yt=Vt(405,{method:W.formMethod,pathname:V,routeId:D});return cn(A,D,Yt,{flushSync:te}),!0}return!1}if(!Y&&se(U))return;let X=k.fetchers.get(A);Qt(A,IC(W,X),{flushSync:te});let J=new AbortController,ue=Is(t.history,V,J.signal,W);if(Y){let Ce=await Ii(G,V,ue.signal);if(Ce.type==="aborted")return;if(Ce.type==="error"){let{error:Yt}=xr(V,Ce);cn(A,D,Yt,{flushSync:te});return}else if(Ce.matches){if(G=Ce.matches,U=sa(G,V),se(U))return}else{cn(A,D,Vt(404,{pathname:V}),{flushSync:te});return}}Ee.set(A,J);let _e=q,me=(await kr("action",ue,[U],G))[0];if(ue.signal.aborted){Ee.get(A)===J&&Ee.delete(A);return}if(p.v7_fetcherPersist&&Ze.has(A)){if(Vi(me)||en(me)){Qt(A,Fr(void 0));return}}else{if(Vi(me))if(Ee.delete(A),ee>_e){Qt(A,Fr(void 0));return}else return ye.add(A),Qt(A,qo(W)),rr(ue,me,{fetcherSubmission:W});if(en(me)){cn(A,D,me.error);return}}if(Mi(me))throw Vt(400,{type:"defer-action"});let Ge=k.navigation.location||k.location,Ue=Is(t.history,Ge,J.signal),Nr=l||o,Bn=k.navigation.state!=="idle"?Di(Nr,k.navigation.location,u):k.matches;ae(Bn,"Didn't find any matches after fetcher action");let wn=++q;ne.set(A,wn);let or=qo(W,me.data);k.fetchers.set(A,or);let[$n,It]=ly(t.history,k,Bn,W,Ge,!1,p.v7_skipActionErrorRevalidation,de,St,Fn,Ze,pe,ye,Nr,u,[U.route.id,me]);It.filter(Ce=>Ce.key!==A).forEach(Ce=>{let Yt=Ce.key,xo=k.fetchers.get(Yt),Rl=qo(void 0,xo?xo.data:void 0);k.fetchers.set(Yt,Rl),Ee.has(Yt)&&_n(Yt),Ce.controller&&Ee.set(Yt,Ce.controller)}),et({fetchers:new Map(k.fetchers)});let dn=()=>It.forEach(Ce=>_n(Ce.key));J.signal.addEventListener("abort",dn);let{loaderResults:Dr,fetcherResults:_s}=await tt(k.matches,Bn,$n,It,Ue);if(J.signal.aborted)return;J.signal.removeEventListener("abort",dn),ne.delete(A),Ee.delete(A),It.forEach(Ce=>Ee.delete(Ce.key));let oe=yy([...Dr,..._s]);if(oe){if(oe.idx>=$n.length){let Ce=It[oe.idx-$n.length].key;ye.add(Ce)}return rr(Ue,oe.result)}let{loaderData:Le,errors:Ct}=fy(k,k.matches,$n,Dr,void 0,It,_s,dt);if(k.fetchers.has(A)){let Ce=Fr(me.data);k.fetchers.set(A,Ce)}Il(wn),k.navigation.state==="loading"&&wn>ee?(ae(E,"Expected pending action"),_&&_.abort(),jn(k.navigation.location,{matches:Bn,loaderData:Le,errors:Ct,fetchers:new Map(k.fetchers)})):(et({errors:Ct,loaderData:py(k.loaderData,Le,Bn,Ct),fetchers:new Map(k.fetchers)}),de=!1)}async function Io(A,D,V,U,G,Y,te,W){let se=k.fetchers.get(A);Qt(A,qo(W,se?se.data:void 0),{flushSync:te});let X=new AbortController,J=Is(t.history,V,X.signal);if(Y){let me=await Ii(G,V,J.signal);if(me.type==="aborted")return;if(me.type==="error"){let{error:Ge}=xr(V,me);cn(A,D,Ge,{flushSync:te});return}else if(me.matches)G=me.matches,U=sa(G,V);else{cn(A,D,Vt(404,{pathname:V}),{flushSync:te});return}}Ee.set(A,X);let ue=q,Te=(await kr("loader",J,[U],G))[0];if(Mi(Te)&&(Te=await lw(Te,J.signal,!0)||Te),Ee.get(A)===X&&Ee.delete(A),!J.signal.aborted){if(Ze.has(A)){Qt(A,Fr(void 0));return}if(Vi(Te))if(ee>ue){Qt(A,Fr(void 0));return}else{ye.add(A),await rr(J,Te);return}if(en(Te)){cn(A,D,Te.error);return}ae(!Mi(Te),"Unhandled fetcher deferred data"),Qt(A,Fr(Te.data))}}async function rr(A,D,V){let{submission:U,fetcherSubmission:G,replace:Y}=V===void 0?{}:V;D.response.headers.has("X-Remix-Revalidate")&&(de=!0);let te=D.response.headers.get("Location");ae(te,"Expected a Location header on the redirect Response"),te=dy(te,new URL(A.url),u);let W=Ba(k.location,te,{_isRedirect:!0});if(n){let Te=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Te=!0;else if(Lp.test(te)){const me=t.history.createURL(te);Te=me.origin!==e.location.origin||bn(me.pathname,u)==null}if(Te){Y?e.location.replace(te):e.location.assign(te);return}}_=null;let se=Y===!0||D.response.headers.has("X-Remix-Replace")?Ye.Replace:Ye.Push,{formMethod:X,formAction:J,formEncType:ue}=k.navigation;!U&&!G&&X&&J&&ue&&(U=wy(k.navigation));let _e=U||G;if(iC.has(D.response.status)&&_e&&Cn(_e.formMethod))await Un(se,W,{submission:Fe({},_e,{formAction:te}),preventScrollReset:g});else{let Te=Qd(W,U);await Un(se,W,{overrideNavigation:Te,fetcherSubmission:G,preventScrollReset:g})}}async function kr(A,D,V,U){try{let G=await fC(c,A,D,V,U,s,i);return await Promise.all(G.map((Y,te)=>{if(wC(Y)){let W=Y.result;return{type:Re.redirect,response:gC(W,D,V[te].route.id,U,u,p.v7_relativeSplatPath)}}return mC(Y)}))}catch(G){return V.map(()=>({type:Re.error,error:G}))}}async function tt(A,D,V,U,G){let[Y,...te]=await Promise.all([V.length?kr("loader",G,V,D):[],...U.map(W=>{if(W.matches&&W.match&&W.controller){let se=Is(t.history,W.path,W.controller.signal);return kr("loader",se,[W.match],W.matches).then(X=>X[0])}else return Promise.resolve({type:Re.error,error:Vt(404,{pathname:W.path})})})]);return await Promise.all([_y(A,V,Y,Y.map(()=>G.signal),!1,k.loaderData),_y(A,U.map(W=>W.match),te,U.map(W=>W.controller?W.controller.signal:null),!0)]),{loaderResults:Y,fetcherResults:te}}function nt(){de=!0,St.push(...Si()),pe.forEach((A,D)=>{Ee.has(D)&&(Fn.add(D),_n(D))})}function Qt(A,D,V){V===void 0&&(V={}),k.fetchers.set(A,D),et({fetchers:new Map(k.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function cn(A,D,V,U){U===void 0&&(U={});let G=js(k.matches,D);ms(A),et({errors:{[G.route.id]:V},fetchers:new Map(k.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function Co(A){return p.v7_fetcherPersist&&(Pe.set(A,(Pe.get(A)||0)+1),Ze.has(A)&&Ze.delete(A)),k.fetchers.get(A)||sC}function ms(A){let D=k.fetchers.get(A);Ee.has(A)&&!(D&&D.state==="loading"&&ne.has(A))&&_n(A),pe.delete(A),ne.delete(A),ye.delete(A),Ze.delete(A),Fn.delete(A),k.fetchers.delete(A)}function Ei(A){if(p.v7_fetcherPersist){let D=(Pe.get(A)||0)-1;D<=0?(Pe.delete(A),Ze.add(A)):Pe.set(A,D)}else ms(A);et({fetchers:new Map(k.fetchers)})}function _n(A){let D=Ee.get(A);ae(D,"Expected fetch controller: "+A),D.abort(),Ee.delete(A)}function Ro(A){for(let D of A){let V=Co(D),U=Fr(V.data);k.fetchers.set(D,U)}}function gs(){let A=[],D=!1;for(let V of ye){let U=k.fetchers.get(V);ae(U,"Expected fetcher: "+V),U.state==="loading"&&(ye.delete(V),A.push(V),D=!0)}return Ro(A),D}function Il(A){let D=[];for(let[V,U]of ne)if(U<A){let G=k.fetchers.get(V);ae(G,"Expected fetcher: "+V),G.state==="loading"&&(_n(V),ne.delete(V),D.push(V))}return Ro(D),D.length>0}function md(A,D){let V=k.blockers.get(A)||Go;return ht.get(A)!==D&&ht.set(A,D),V}function ys(A){k.blockers.delete(A),ht.delete(A)}function Ti(A,D){let V=k.blockers.get(A)||Go;ae(V.state==="unblocked"&&D.state==="blocked"||V.state==="blocked"&&D.state==="blocked"||V.state==="blocked"&&D.state==="proceeding"||V.state==="blocked"&&D.state==="unblocked"||V.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+D.state);let U=new Map(k.blockers);U.set(A,D),et({blockers:U})}function Po(A){let{currentLocation:D,nextLocation:V,historyAction:U}=A;if(ht.size===0)return;ht.size>1&&io(!1,"A router only supports one blocker at a time");let G=Array.from(ht.entries()),[Y,te]=G[G.length-1],W=k.blockers.get(Y);if(!(W&&W.state==="proceeding")&&te({currentLocation:D,nextLocation:V,historyAction:U}))return Y}function ir(A){let D=Vt(404,{pathname:A}),V=l||o,{matches:U,route:G}=gy(V);return Si(),{notFoundMatches:U,route:G,error:D}}function xr(A,D){return{boundaryId:js(D.partialMatches).route.id,error:Vt(400,{type:"route-discovery",pathname:A,message:D.error!=null&&"message"in D.error?D.error:String(D.error)})}}function Si(A){let D=[];return dt.forEach((V,U)=>{(!A||A(U))&&(V.cancel(),D.push(U),dt.delete(U))}),D}function sr(A,D,V){if(R=A,M=D,N=V||null,!T&&k.navigation===qd){T=!0;let U=ko(k.location,k.matches);U!=null&&et({restoreScrollPosition:U})}return()=>{R=null,M=null,N=null}}function Ao(A,D){return N&&N(A,D.map(U=>MI(U,k.loaderData)))||A.key}function vs(A,D){if(R&&M){let V=Ao(A,D);R[V]=M()}}function ko(A,D){if(R){let V=Ao(A,D),U=R[V];if(typeof U=="number")return U}return null}function zn(A,D,V){if(f)if(A){let U=A[A.length-1].route;if(U.path&&(U.path==="*"||U.path.endsWith("/*")))return{active:!0,matches:Tu(D,V,u,!0)}}else return{active:!0,matches:Tu(D,V,u,!0)||[]};return{active:!1,matches:null}}async function Ii(A,D,V){let U=A,G=U.length>0?U[U.length-1].route:null;for(;;){let Y=l==null,te=l||o;try{await dC(f,D,U,te,s,i,vn,V)}catch(J){return{type:"error",error:J,partialMatches:U}}finally{Y&&(o=[...o])}if(V.aborted)return{type:"aborted"};let W=Di(te,D,u),se=!1;if(W){let J=W[W.length-1].route;if(J.index)return{type:"success",matches:W};if(J.path&&J.path.length>0)if(J.path==="*")se=!0;else return{type:"success",matches:W}}let X=Tu(te,D,u,!0);if(!X||U.map(J=>J.route.id).join("-")===X.map(J=>J.route.id).join("-"))return{type:"success",matches:se?W:null};if(U=X,G=U[U.length-1].route,G.path==="*")return{type:"success",matches:U}}}function ft(A){s={},l=$a(A,i,void 0,s)}function Cl(A,D){let V=l==null;sw(A,D,l||o,s,i),V&&(o=[...o],et({}))}return z={get basename(){return u},get future(){return p},get state(){return k},get routes(){return o},get window(){return e},initialize:dd,subscribe:fs,enableScrollRestoration:sr,navigate:ps,fetch:Sl,revalidate:Eo,createHref:A=>t.history.createHref(A),encodeLocation:A=>t.history.encodeLocation(A),getFetcher:Co,deleteFetcher:Ei,dispose:hs,getBlocker:md,deleteBlocker:ys,patchRoutes:Cl,_internalFetchControllers:Ee,_internalActiveDeferreds:dt,_internalSetRoutes:ft},z}function lC(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function lf(t,e,n,r,i,s,o,l){let u,c;if(o){u=[];for(let p of e)if(u.push(p),p.route.id===o){c=p;break}}else u=e,c=e[e.length-1];let f=Op(i||".",Dp(u,s),bn(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!bp(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Yn([n,f.pathname])),li(f)}function ay(t,e,n,r){if(!r||!lC(r))return{path:n};if(r.formMethod&&!TC(r.formMethod))return{path:n,error:Vt(405,{method:r.formMethod})};let i=()=>({path:n,error:Vt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=ow(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Cn(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((C,R)=>{let[N,M]=R;return""+C+N+"="+M+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Cn(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}ae(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=uf(r.formData),c=r.formData;else if(r.body instanceof FormData)u=uf(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=hy(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=hy(u)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Cn(f.formMethod))return{path:n,submission:f};let p=yi(n);return e&&p.search&&bp(p.search)&&u.append("index",""),p.search="?"+u,{path:li(p),submission:f}}function uC(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function ly(t,e,n,r,i,s,o,l,u,c,f,p,m,C,R,N){let M=N?en(N[1])?N[1].error:N[1].data:void 0,T=t.createURL(e.location),v=t.createURL(i),w=N&&en(N[1])?N[0]:void 0,L=w?uC(n,w):n,z=N?N[1].statusCode:void 0,k=o&&z&&z>=400,E=L.filter((_,S)=>{let{route:P}=_;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return typeof P.loader!="function"||P.loader.hydrate?!0:e.loaderData[P.id]===void 0&&(!e.errors||e.errors[P.id]===void 0);if(cC(e.loaderData,e.matches[S],_)||u.some(de=>de===_.route.id))return!0;let O=e.matches[S],I=_;return uy(_,Fe({currentUrl:T,currentParams:O.params,nextUrl:v,nextParams:I.params},r,{actionResult:M,actionStatus:z,defaultShouldRevalidate:k?!1:l||T.pathname+T.search===v.pathname+v.search||T.search!==v.search||iw(O,I)}))}),g=[];return p.forEach((_,S)=>{if(s||!n.some(St=>St.route.id===_.routeId)||f.has(S))return;let P=Di(C,_.path,R);if(!P){g.push({key:S,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(S),I=sa(P,_.path),de=!1;m.has(S)?de=!1:c.has(S)?(c.delete(S),de=!0):O&&O.state!=="idle"&&O.data===void 0?de=l:de=uy(I,Fe({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:M,actionStatus:z,defaultShouldRevalidate:k?!1:l})),de&&g.push({key:S,routeId:_.routeId,path:_.path,matches:P,match:I,controller:new AbortController})}),[E,g]}function cC(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function iw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function uy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function dC(t,e,n,r,i,s,o,l){let u=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(u);c||(c=t({path:e,matches:n,patch:(f,p)=>{l.aborted||sw(f,p,r,i,s)}}),o.set(u,c)),c&&_C(c)&&await c}finally{o.delete(u)}}function sw(t,e,n,r,i){if(t){var s;let o=r[t];ae(o,"No route found to patch children into: routeId = "+t);let l=$a(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=$a(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function cy(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ae(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";io(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!LI.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Fe({},e(i),{lazy:void 0}))}function hC(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function fC(t,e,n,r,i,s,o,l){let u=r.reduce((p,m)=>p.add(m.route.id),new Set),c=new Set,f=await t({matches:i.map(p=>{let m=u.has(p.route.id);return Fe({},p,{shouldLoad:m,resolve:R=>(c.add(p.route.id),m?pC(e,n,p,s,o,R,l):Promise.resolve({type:Re.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(p=>ae(c.has(p.route.id),'`match.resolve()` was not called for route id "'+p.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((p,m)=>u.has(i[m].route.id))}async function pC(t,e,n,r,i,s,o){let l,u,c=f=>{let p,m=new Promise((N,M)=>p=M);u=()=>p(),e.signal.addEventListener("abort",u);let C=N=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:o},...N!==void 0?[N]:[]),R;return s?R=s(N=>C(N)):R=(async()=>{try{return{type:"data",result:await C()}}catch(N){return{type:"error",result:N}}})(),Promise.race([R,m])};try{let f=n.route[t];if(n.route.lazy)if(f){let p,[m]=await Promise.all([c(f).catch(C=>{p=C}),cy(n.route,i,r)]);if(p!==void 0)throw p;l=m}else if(await cy(n.route,i,r),f=n.route[t],f)l=await c(f);else if(t==="action"){let p=new URL(e.url),m=p.pathname+p.search;throw Vt(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Re.data,result:void 0};else if(f)l=await c(f);else{let p=new URL(e.url),m=p.pathname+p.search;throw Vt(404,{pathname:m})}ae(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:Re.error,result:f}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function mC(t){let{result:e,type:n}=t;if(aw(e)){let c;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(f){return{type:Re.error,error:f}}return n===Re.error?{type:Re.error,error:new nc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Re.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Re.error){if(vy(e)){var r;if(e.data instanceof Error){var i;return{type:Re.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new nc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Re.error,error:e,statusCode:Hc(e)?e.status:void 0}}if(EC(e)){var s,o;return{type:Re.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(vy(e)){var l,u;return{type:Re.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Re.data,data:e}}function gC(t,e,n,r,i,s){let o=t.headers.get("Location");if(ae(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Lp.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=lf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function dy(t,e,n){if(Lp.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=bn(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Is(t,e,n,r){let i=t.createURL(ow(e)).toString(),s={signal:n};if(r&&Cn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=uf(r.formData):s.body=r.formData}return new Request(i,s)}function uf(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function hy(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function yC(t,e,n,r,i,s){let o={},l=null,u,c=!1,f={},p=r&&en(r[1])?r[1].error:void 0;return n.forEach((m,C)=>{let R=e[C].route.id;if(ae(!Vi(m),"Cannot handle redirect results in processLoaderData"),en(m)){let N=m.error;p!==void 0&&(N=p,p=void 0),l=l||{};{let M=js(t,R);l[M.route.id]==null&&(l[M.route.id]=N)}o[R]=void 0,c||(c=!0,u=Hc(m.error)?m.error.status:500),m.headers&&(f[R]=m.headers)}else Mi(m)?(i.set(R,m.deferredData),o[R]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(f[R]=m.headers)):(o[R]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(f[R]=m.headers))}),p!==void 0&&r&&(l={[r[0]]:p},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:f}}function fy(t,e,n,r,i,s,o,l){let{loaderData:u,errors:c}=yC(e,n,r,i,l);for(let f=0;f<s.length;f++){let{key:p,match:m,controller:C}=s[f];ae(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let R=o[f];if(!(C&&C.signal.aborted))if(en(R)){let N=js(t.matches,m==null?void 0:m.route.id);c&&c[N.route.id]||(c=Fe({},c,{[N.route.id]:R.error})),t.fetchers.delete(p)}else if(Vi(R))ae(!1,"Unhandled fetcher revalidation redirect");else if(Mi(R))ae(!1,"Unhandled fetcher deferred data");else{let N=Fr(R.data);t.fetchers.set(p,N)}}return{loaderData:u,errors:c}}function py(t,e,n,r){let i=Fe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function my(t){return t?en(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function js(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function gy(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Vt(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new nc(t||500,l,new Error(u),!0)}function yy(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Vi(n))return{result:n,idx:e}}}function ow(t){let e=typeof t=="string"?yi(t):t;return li(Fe({},e,{hash:""}))}function vC(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function _C(t){return typeof t=="object"&&t!=null&&"then"in t}function wC(t){return aw(t.result)&&rC.has(t.result.status)}function Mi(t){return t.type===Re.deferred}function en(t){return t.type===Re.error}function Vi(t){return(t&&t.type)===Re.redirect}function vy(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function EC(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function aw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function TC(t){return nC.has(t.toLowerCase())}function Cn(t){return eC.has(t.toLowerCase())}async function _y(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],u=e[o];if(!u)continue;let c=t.find(p=>p.route.id===u.route.id),f=c!=null&&!iw(c,u)&&(s&&s[u.route.id])!==void 0;if(Mi(l)&&(i||f)){let p=r[o];ae(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await lw(l,p,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function lw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Re.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Re.error,error:i}}return{type:Re.data,data:t.deferredData.data}}}function bp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function sa(t,e){let n=typeof e=="string"?yi(e).search:e.search;if(t[t.length-1].route.index&&bp(n||""))return t[t.length-1];let r=tw(t);return r[r.length-1]}function wy(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Qd(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function SC(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function qo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function IC(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Fr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function CC(t,e){try{let n=t.sessionStorage.getItem(rw);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function RC(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(rw,JSON.stringify(n))}catch(r){io(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}const ll=j.createContext(null),Mp=j.createContext(null),tr=j.createContext(null),Vp=j.createContext(null),nr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),uw=j.createContext(null);function PC(t,e){let{relative:n}=e===void 0?{}:e;ul()||ae(!1);let{basename:r,navigator:i}=j.useContext(tr),{hash:s,pathname:o,search:l}=cl(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Yn([r,o])),i.createHref({pathname:u,search:l,hash:s})}function ul(){return j.useContext(Vp)!=null}function ls(){return ul()||ae(!1),j.useContext(Vp).location}function cw(t){j.useContext(tr).static||j.useLayoutEffect(t)}function vi(){let{isDataRoute:t}=j.useContext(nr);return t?zC():AC()}function AC(){ul()||ae(!1);let t=j.useContext(ll),{basename:e,future:n,navigator:r}=j.useContext(tr),{matches:i}=j.useContext(nr),{pathname:s}=ls(),o=JSON.stringify(Dp(i,n.v7_relativeSplatPath)),l=j.useRef(!1);return cw(()=>{l.current=!0}),j.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=Op(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Yn([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}const kC=j.createContext(null);function xC(t){let e=j.useContext(nr).outlet;return e&&j.createElement(kC.Provider,{value:t},e)}function NC(){let{matches:t}=j.useContext(nr),e=t[t.length-1];return e?e.params:{}}function cl(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(tr),{matches:i}=j.useContext(nr),{pathname:s}=ls(),o=JSON.stringify(Dp(i,r.v7_relativeSplatPath));return j.useMemo(()=>Op(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function DC(t,e,n,r){ul()||ae(!1);let{navigator:i}=j.useContext(tr),{matches:s}=j.useContext(nr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ls(),f;f=c;let p=f.pathname||"/",m=p;if(u!=="/"){let N=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=Di(t,{pathname:m});return VC(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Yn([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Yn([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r)}function OC(){let t=fw(),e=Hc(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const LC=j.createElement(OC,null);class bC extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(nr.Provider,{value:this.props.routeContext},j.createElement(uw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MC(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(ll);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(nr.Provider,{value:e},r)}function VC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||ae(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:C}=n,R=p.route.loader&&m[p.route.id]===void 0&&(!C||C[p.route.id]===void 0);if(p.route.lazy||R){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,p,m)=>{let C,R=!1,N=null,M=null;n&&(C=l&&p.route.id?l[p.route.id]:void 0,N=p.route.errorElement||LC,u&&(c<0&&m===0?(R=!0,M=null):c===m&&(R=!0,M=p.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,m+1)),v=()=>{let w;return C?w=N:R?w=M:p.route.Component?w=j.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=f,j.createElement(MC,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:w})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?j.createElement(bC,{location:n.location,revalidation:n.revalidation,component:N,error:C,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):v()},null)}var dw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dw||{}),qi=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qi||{});function FC(t){let e=j.useContext(ll);return e||ae(!1),e}function hw(t){let e=j.useContext(Mp);return e||ae(!1),e}function jC(t){let e=j.useContext(nr);return e||ae(!1),e}function Wc(t){let e=jC(),n=e.matches[e.matches.length-1];return n.route.id||ae(!1),n.route.id}function UC(){return Wc(qi.UseRouteId)}function Fp(){let t=hw(qi.UseLoaderData),e=Wc(qi.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function fw(){var t;let e=j.useContext(uw),n=hw(qi.UseRouteError),r=Wc(qi.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zC(){let{router:t}=FC(dw.UseNavigateStable),e=Wc(qi.UseNavigateStable),n=j.useRef(!1);return cw(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,rc({fromRouteId:e},s)))},[t,e])}function jp(t){return xC(t.context)}function BC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ye.Pop,navigator:s,static:o=!1,future:l}=t;ul()&&ae(!1);let u=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:u,navigator:s,static:o,future:rc({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=yi(r));let{pathname:f="/",search:p="",hash:m="",state:C=null,key:R="default"}=r,N=j.useMemo(()=>{let M=bn(f,u);return M==null?null:{location:{pathname:M,search:p,hash:m,state:C,key:R},navigationType:i}},[u,f,p,m,C,R,i]);return N==null?null:j.createElement(tr.Provider,{value:c},j.createElement(Vp.Provider,{children:n,value:N}))}new Promise(()=>{});function $C(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:j.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ui(){return ui=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ui.apply(this,arguments)}function Up(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Su="get",Yd="application/x-www-form-urlencoded";function Kc(t){return t!=null&&typeof t.tagName=="string"}function HC(t){return Kc(t)&&t.tagName.toLowerCase()==="button"}function WC(t){return Kc(t)&&t.tagName.toLowerCase()==="form"}function KC(t){return Kc(t)&&t.tagName.toLowerCase()==="input"}function GC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qC(t,e){return t.button===0&&(!e||e==="_self")&&!GC(t)}function cf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function QC(t,e){let n=cf(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}let eu=null;function YC(){if(eu===null)try{new FormData(document.createElement("form"),0),eu=!1}catch{eu=!0}return eu}const XC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xd(t){return t!=null&&!XC.has(t)?null:t}function JC(t,e){let n,r,i,s,o;if(WC(t)){let l=t.getAttribute("action");r=l?bn(l,e):null,n=t.getAttribute("method")||Su,i=Xd(t.getAttribute("enctype"))||Yd,s=new FormData(t)}else if(HC(t)||KC(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?bn(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Su,i=Xd(t.getAttribute("formenctype"))||Xd(l.getAttribute("enctype"))||Yd,s=new FormData(l,t),!YC()){let{name:c,type:f,value:p}=t;if(f==="image"){let m=c?c+".":"";s.append(m+"x","0"),s.append(m+"y","0")}else c&&s.append(c,p)}}else{if(Kc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Su,r=null,i=Yd,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}const ZC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],eR=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],tR=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"],nR="6";try{window.__reactRouterVersion=nR}catch{}function rR(t,e){return aC({basename:e==null?void 0:e.basename,future:ui({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:NI({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||iR(),routes:t,mapRouteProperties:$C,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnMiss:e==null?void 0:e.unstable_patchRoutesOnMiss,window:e==null?void 0:e.window}).initialize()}function iR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ui({},e,{errors:sR(e.errors)})),e}function sR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new nc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const pw=j.createContext({isTransitioning:!1}),oR=j.createContext(new Map),aR="startTransition",Ey=fh[aR],lR="flushSync",Ty=AI[lR];function uR(t){Ey?Ey(t):t()}function Qo(t){Ty?Ty(t):t()}let cR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function dR(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=j.useState(n.state),[o,l]=j.useState(),[u,c]=j.useState({isTransitioning:!1}),[f,p]=j.useState(),[m,C]=j.useState(),[R,N]=j.useState(),M=j.useRef(new Map),{v7_startTransition:T}=r||{},v=j.useCallback(g=>{T?uR(g):g()},[T]),w=j.useCallback((g,_)=>{let{deletedFetchers:S,unstable_flushSync:P,unstable_viewTransitionOpts:O}=_;S.forEach(de=>M.current.delete(de)),g.fetchers.forEach((de,St)=>{de.data!==void 0&&M.current.set(St,de.data)});let I=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!O||I){P?Qo(()=>s(g)):v(()=>s(g));return}if(P){Qo(()=>{m&&(f&&f.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let de=n.window.document.startViewTransition(()=>{Qo(()=>s(g))});de.finished.finally(()=>{Qo(()=>{p(void 0),C(void 0),l(void 0),c({isTransitioning:!1})})}),Qo(()=>C(de));return}m?(f&&f.resolve(),m.skipTransition(),N({state:g,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(l(g),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,m,f,M,v]);j.useLayoutEffect(()=>n.subscribe(w),[n,w]),j.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new cR)},[u]),j.useEffect(()=>{if(f&&o&&n.window){let g=o,_=f.promise,S=n.window.document.startViewTransition(async()=>{v(()=>s(g)),await _});S.finished.finally(()=>{p(void 0),C(void 0),l(void 0),c({isTransitioning:!1})}),C(S)}},[v,o,f,n.window]),j.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,m,i.location,o]),j.useEffect(()=>{!u.isTransitioning&&R&&(l(R.state),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),N(void 0))},[u.isTransitioning,R]),j.useEffect(()=>{},[]);let L=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,_,S)=>n.navigate(g,{state:_,preventScrollReset:S==null?void 0:S.preventScrollReset}),replace:(g,_,S)=>n.navigate(g,{replace:!0,state:_,preventScrollReset:S==null?void 0:S.preventScrollReset})}),[n]),z=n.basename||"/",k=j.useMemo(()=>({router:n,navigator:L,static:!1,basename:z}),[n,L,z]),E=j.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return j.createElement(j.Fragment,null,j.createElement(ll.Provider,{value:k},j.createElement(Mp.Provider,{value:i},j.createElement(oR.Provider,{value:M.current},j.createElement(pw.Provider,{value:u},j.createElement(BC,{basename:z,location:i.location,navigationType:i.historyAction,navigator:L,future:E},i.initialized||n.future.v7_partialHydration?j.createElement(hR,{routes:n.routes,future:n.future,state:i}):e))))),null)}const hR=j.memo(fR);function fR(t){let{routes:e,future:n,state:r}=t;return DC(e,void 0,r,n)}const pR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:f,unstable_viewTransition:p}=e,m=Up(e,ZC),{basename:C}=j.useContext(tr),R,N=!1;if(typeof c=="string"&&mR.test(c)&&(R=c,pR))try{let w=new URL(window.location.href),L=c.startsWith("//")?new URL(w.protocol+c):new URL(c),z=bn(L.pathname,C);L.origin===w.origin&&z!=null?c=z+L.search+L.hash:N=!0}catch{}let M=PC(c,{relative:i}),T=yR(c,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:p});function v(w){r&&r(w),w.defaultPrevented||T(w)}return j.createElement("a",ui({},m,{href:R||M,onClick:N||s?r:v,ref:n,target:u}))}),Jd=j.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:u,unstable_viewTransition:c,children:f}=e,p=Up(e,eR),m=cl(u,{relative:p.relative}),C=ls(),R=j.useContext(Mp),{navigator:N,basename:M}=j.useContext(tr),T=R!=null&&SR(m)&&c===!0,v=N.encodeLocation?N.encodeLocation(m).pathname:m.pathname,w=C.pathname,L=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(w=w.toLowerCase(),L=L?L.toLowerCase():null,v=v.toLowerCase()),L&&M&&(L=bn(L,M)||L);const z=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let k=w===v||!o&&w.startsWith(v)&&w.charAt(z)==="/",E=L!=null&&(L===v||!o&&L.startsWith(v)&&L.charAt(v.length)==="/"),g={isActive:k,isPending:E,isTransitioning:T},_=k?r:void 0,S;typeof s=="function"?S=s(g):S=[s,k?"active":null,E?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(g):l;return j.createElement(Bt,ui({},p,{"aria-current":_,className:S,ref:n,style:P,to:u,unstable_viewTransition:c}),typeof f=="function"?f(g):f)}),gR=j.forwardRef((t,e)=>{let{fetcherKey:n,navigate:r,reloadDocument:i,replace:s,state:o,method:l=Su,action:u,onSubmit:c,relative:f,preventScrollReset:p,unstable_viewTransition:m}=t,C=Up(t,tR),R=gw(),N=TR(u,{relative:f}),M=l.toLowerCase()==="get"?"get":"post",T=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let w=v.nativeEvent.submitter,L=(w==null?void 0:w.getAttribute("formmethod"))||l;R(w||v.currentTarget,{fetcherKey:n,method:L,navigate:r,replace:s,state:o,relative:f,preventScrollReset:p,unstable_viewTransition:m})};return j.createElement("form",ui({ref:e,method:M,action:N,onSubmit:i?c:T},C))});var ic;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ic||(ic={}));var Sy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sy||(Sy={}));function mw(t){let e=j.useContext(ll);return e||ae(!1),e}function yR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=vi(),c=ls(),f=cl(t,{relative:o});return j.useCallback(p=>{if(qC(p,n)){p.preventDefault();let m=r!==void 0?r:li(c)===li(f);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,u,f,r,i,n,t,s,o,l])}function vR(t){let e=j.useRef(cf(t)),n=j.useRef(!1),r=ls(),i=j.useMemo(()=>QC(r.search,n.current?null:e.current),[r.search]),s=vi(),o=j.useCallback((l,u)=>{const c=cf(typeof l=="function"?l(i):l);n.current=!0,s("?"+c,u)},[s,i]);return[i,o]}function _R(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let wR=0,ER=()=>"__"+String(++wR)+"__";function gw(){let{router:t}=mw(ic.UseSubmit),{basename:e}=j.useContext(tr),n=UC();return j.useCallback(function(r,i){i===void 0&&(i={}),_R();let{action:s,method:o,encType:l,formData:u,body:c}=JC(r,e);if(i.navigate===!1){let f=i.fetcherKey||ER();t.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||l,unstable_flushSync:i.unstable_flushSync})}else t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,unstable_flushSync:i.unstable_flushSync,unstable_viewTransition:i.unstable_viewTransition})},[t,e,n])}function TR(t,e){let{relative:n}=e===void 0?{}:e,{basename:r}=j.useContext(tr),i=j.useContext(nr);i||ae(!1);let[s]=i.matches.slice(-1),o=ui({},cl(t||".",{relative:n})),l=ls();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search);u.has("index")&&u.get("index")===""&&(u.delete("index"),o.search=u.toString()?"?"+u.toString():"")}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Yn([r,o.pathname])),li(o)}function SR(t,e){e===void 0&&(e={});let n=j.useContext(pw);n==null&&ae(!1);let{basename:r}=mw(ic.useViewTransitionState),i=cl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=bn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=bn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tc(i.pathname,o)!=null||tc(i.pathname,s)!=null}const IR="_FallbackContainer_1j5f3_1",CR="_spinner_1j5f3_17",RR="_loading_1j5f3_1",PR="_content_1j5f3_53",Zd={FallbackContainer:IR,spinner:CR,loading:RR,content:PR},AR="_nav_1ym8y_1",kR="_link_1ym8y_19",xR="_navMenu_1ym8y_29",NR="_navItem_1ym8y_41",DR="_auth_1ym8y_43",OR="_cart_1ym8y_45",LR="_h1_1ym8y_65",bR="_red_1ym8y_77",MR="_isActive_1ym8y_85",VR="_notActive_1ym8y_93",FR="_active_1ym8y_113",jR="_icon_1ym8y_121",UR="_logout_1ym8y_131",Se={nav:AR,link:kR,navMenu:xR,navItem:NR,auth:DR,cart:OR,h1:LR,red:bR,isActive:MR,notActive:VR,active:FR,icon:jR,logout:UR},zR="data:image/svg+xml,%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%20-2%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16%2015.503A5.041%205.041%200%201%200%2016%205.42a5.041%205.041%200%200%200%200%2010.083zm0%202.215c-6.703%200-11%203.699-11%205.5v3.363h22v-3.363c0-2.178-4.068-5.5-11-5.5z'/%3e%3c/svg%3e",BR="data:image/svg+xml,%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M6.29977%205H21L19%2012H7.37671M20%2016H8L6%203H3M9%2020C9%2020.5523%208.55228%2021%208%2021C7.44772%2021%207%2020.5523%207%2020C7%2019.4477%207.44772%2019%208%2019C8.55228%2019%209%2019.4477%209%2020ZM20%2020C20%2020.5523%2019.5523%2021%2019%2021C18.4477%2021%2018%2020.5523%2018%2020C18%2019.4477%2018.4477%2019%2019%2019C19.5523%2019%2020%2019.4477%2020%2020Z'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",yw=()=>{const t=localStorage.getItem("expiration");if(t){const e=new Date(t),n=new Date;return e.getTime()-n.getTime()}else return null},dl=()=>{const t=localStorage.getItem("token");if(t){const e=yw();if(e&&e>0)return t}return null};function $R(){const t=dl();return x.jsxs("nav",{className:Se.nav,children:[x.jsx(Bt,{to:"/",className:Se.link,children:x.jsxs("h1",{className:Se.h1,children:["React",x.jsx("span",{className:Se.red,children:"Commerce"})]})}),x.jsxs("div",{className:Se.navMenu,children:[x.jsx(Jd,{className:({isActive:e})=>e?`${Se.active} ${Se.link} ${Se.navItem}`:`${Se.link} ${Se.navItem}`,to:"/",children:"Home"}),x.jsx(Jd,{className:({isActive:e})=>e?`${Se.active} ${Se.link} ${Se.navItem}`:`${Se.link} ${Se.navItem}`,to:"/shop",children:"Shop"}),x.jsx(Jd,{className:({isActive:e})=>e?`${Se.active} ${Se.link} ${Se.navItem}`:`${Se.link} ${Se.navItem}`,to:"/contactUs",children:"Contact Us"}),!t&&x.jsx(Bt,{to:"/auth?mode=login",className:`${Se.link} ${Se.auth}`,children:x.jsx("img",{className:Se.icon,src:zR,alt:"person icon"})}),t&&x.jsx(gR,{method:"POST",action:"/logout",className:`${Se.link} ${Se.logout} ${Se.navItem}`,children:x.jsx("button",{children:"Logout"})}),t&&x.jsx(Bt,{className:`${Se.link} ${Se.cart}`,to:"/cart",children:x.jsx("img",{className:Se.icon,src:BR,alt:"cart icon"})})]})]})}const HR="_footer_bdjjm_1",WR="_upperContainer_bdjjm_17",KR="_links_bdjjm_31",GR="_newsLetter_bdjjm_33",qR="_link_bdjjm_31",QR="_columnHeading_bdjjm_43",YR="_credits_bdjjm_67",XR="_love_bdjjm_77",JR="_name_bdjjm_85",ZR="_h1_bdjjm_107",eP="_red_bdjjm_129",tP="_subBtn_bdjjm_153",nP="_subEmailInput_bdjjm_155",ke={footer:HR,upperContainer:WR,links:KR,newsLetter:GR,link:qR,columnHeading:QR,credits:YR,love:XR,name:JR,h1:ZR,red:eP,subBtn:tP,subEmailInput:nP};function rP(){const t=j.useRef(null);function e(){var n,r,i,s,o;t&&((n=t.current)!=null&&n.value.includes("@"))&&((r=t.current)!=null&&r.value.includes("gmail.com"))||(i=t.current)!=null&&i.value.includes("yahoo.com")||(s=t.current)!=null&&s.value.includes("outlook.com")?console.log((o=t.current)==null?void 0:o.value.trim()):console.log("please enter valid email")}return x.jsxs("footer",{className:ke.footer,children:[x.jsx("h1",{className:ke.h1,children:x.jsxs(Bt,{to:"/",className:`${ke.link} ${ke.compName}`,children:["React",x.jsx("span",{className:ke.red,children:"Commerce"})]})}),x.jsxs("div",{className:ke.upperContainer,children:[x.jsxs("div",{className:ke.links,children:[x.jsx("h3",{className:ke.columnHeading,children:"Company"}),x.jsx(Bt,{className:ke.link,to:"/",children:"Home"}),x.jsx(Bt,{className:ke.link,to:"/shop",children:"Shop"}),x.jsx(Bt,{className:ke.link,to:"/auth",children:"Login/Signup"}),x.jsx(Bt,{className:ke.link,to:"/contactUs",children:"Contact Us"})]}),x.jsxs("div",{className:ke.links,children:[x.jsx("h3",{className:ke.columnHeading,children:"Legal"}),x.jsx(Bt,{className:ke.link,to:"",children:"Company Policy"}),x.jsx(Bt,{className:ke.link,to:"/contactUs",children:"Terms & Conditions"}),x.jsx(Bt,{className:ke.link,to:"/shop",children:"Terms of Use"}),x.jsx(Bt,{className:ke.link,to:"/auth",children:"Copyright"})]}),x.jsxs("div",{className:ke.newsLetter,children:[x.jsx("h3",{className:ke.columnHeading,children:"Subscribe to our newsletter"}),x.jsxs("form",{children:[x.jsx("input",{className:ke.subEmailInput,type:"email",placeholder:"enter your email",ref:t}),x.jsx("button",{className:ke.subBtn,onClick:e,children:"Subscribe"})]})]})]}),x.jsx("hr",{className:ke.divider}),x.jsxs("p",{className:ke.credits,children:["Made with ",x.jsx("span",{className:ke.love,children:"love"})," by"," ",x.jsx("a",{className:ke.name,href:"https://github.com/hassansheikh33",target:"_blank",children:"Muhammad Hassan Bilal"})]})]})}var vw={exports:{}},_w={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=j;function iP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sP=typeof Object.is=="function"?Object.is:iP,oP=hl.useSyncExternalStore,aP=hl.useRef,lP=hl.useEffect,uP=hl.useMemo,cP=hl.useDebugValue;_w.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=aP(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=uP(function(){function u(C){if(!c){if(c=!0,f=C,C=r(C),i!==void 0&&o.hasValue){var R=o.value;if(i(R,C))return p=R}return p=C}if(R=p,sP(f,C))return R;var N=r(C);return i!==void 0&&i(R,N)?R:(f=C,p=N)}var c=!1,f,p,m=n===void 0?null:n;return[function(){return u(e())},m===null?void 0:function(){return u(m())}]},[e,n,r,i]);var l=oP(t,s[0],s[1]);return lP(function(){o.hasValue=!0,o.value=l},[l]),cP(l),l};vw.exports=_w;var dP=vw.exports,nn="default"in fh?Uf:fh,Iy=Symbol.for("react-redux-context"),Cy=typeof globalThis<"u"?globalThis:{};function hP(){if(!nn.createContext)return{};const t=Cy[Iy]??(Cy[Iy]=new Map);let e=t.get(nn.createContext);return e||(e=nn.createContext(null),t.set(nn.createContext,e)),e}var ci=hP(),fP=()=>{throw new Error("uSES not initialized!")};function zp(t=ci){return function(){return nn.useContext(t)}}var ww=zp(),Ew=fP,pP=t=>{Ew=t},mP=(t,e)=>t===e;function gP(t=ci){const e=t===ci?ww:zp(t),n=(r,i={})=>{const{equalityFn:s=mP,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:f,identityFunctionCheck:p}=e();nn.useRef(!0);const m=nn.useCallback({[r.name](R){return r(R)}}[r.name],[r,f,o.stabilityCheck]),C=Ew(u.addNestedSub,l.getState,c||l.getState,m,s);return nn.useDebugValue(C),C};return Object.assign(n,{withTypes:()=>n}),n}var _a=gP();function yP(t){t()}function vP(){let t=null,e=null;return{clear(){t=null,e=null},notify(){yP(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Ry={notify(){},get:()=>[]};function _P(t,e){let n,r=Ry,i=0,s=!1;function o(N){f();const M=r.subscribe(N);let T=!1;return()=>{T||(T=!0,M(),p())}}function l(){r.notify()}function u(){R.onStateChange&&R.onStateChange()}function c(){return s}function f(){i++,n||(n=t.subscribe(u),r=vP())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Ry)}function m(){s||(s=!0,f())}function C(){s&&(s=!1,p())}const R={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:C,getListeners:()=>r};return R}var wP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EP=typeof navigator<"u"&&navigator.product==="ReactNative",TP=wP||EP?nn.useLayoutEffect:nn.useEffect;function SP({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=nn.useMemo(()=>{const c=_P(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),l=nn.useMemo(()=>t.getState(),[t]);TP(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const u=e||ci;return nn.createElement(u.Provider,{value:o},n)}var IP=SP;function Tw(t=ci){const e=t===ci?ww:zp(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var CP=Tw();function RP(t=ci){const e=t===ci?CP:Tw(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var us=RP();pP(dP.useSyncExternalStoreWithSelector);const PP="_notificationsContainer_p6vs7_1",AP="_notification_p6vs7_1",kP="_error_p6vs7_35",xP="_success_p6vs7_43",tu={notificationsContainer:PP,notification:AP,error:kP,success:xP};function NP(){const t=_a(e=>e.ui.notifications);if(t.length>0)return x.jsx("div",{className:tu.notificationsContainer,children:t.map((e,n)=>x.jsx("div",{className:`${tu.notification} ${e.type==="error"?tu.error:tu.success}`,children:x.jsx("p",{children:e.title})},n))})}function mt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var DP=typeof Symbol=="function"&&Symbol.observable||"@@observable",Py=DP,eh=()=>Math.random().toString(36).substring(7).split("").join("."),OP={INIT:`@@redux/INIT${eh()}`,REPLACE:`@@redux/REPLACE${eh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${eh()}`},sc=OP;function Bp(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Sw(t,e,n){if(typeof t!="function")throw new Error(mt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mt(1));return n(Sw)(t,e)}let r=t,i=e,s=new Map,o=s,l=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((M,T)=>{o.set(T,M)}))}function f(){if(u)throw new Error(mt(3));return i}function p(M){if(typeof M!="function")throw new Error(mt(4));if(u)throw new Error(mt(5));let T=!0;c();const v=l++;return o.set(v,M),function(){if(T){if(u)throw new Error(mt(6));T=!1,c(),o.delete(v),s=null}}}function m(M){if(!Bp(M))throw new Error(mt(7));if(typeof M.type>"u")throw new Error(mt(8));if(typeof M.type!="string")throw new Error(mt(17));if(u)throw new Error(mt(9));try{u=!0,i=r(i,M)}finally{u=!1}return(s=o).forEach(v=>{v()}),M}function C(M){if(typeof M!="function")throw new Error(mt(10));r=M,m({type:sc.REPLACE})}function R(){const M=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(mt(11));function v(){const L=T;L.next&&L.next(f())}return v(),{unsubscribe:M(v)}},[Py](){return this}}}return m({type:sc.INIT}),{dispatch:m,subscribe:p,getState:f,replaceReducer:C,[Py]:R}}function LP(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:sc.INIT})>"u")throw new Error(mt(12));if(typeof n(void 0,{type:sc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mt(13))})}function bP(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{LP(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let u=!1;const c={};for(let f=0;f<r.length;f++){const p=r[f],m=n[p],C=o[p],R=m(C,l);if(typeof R>"u")throw l&&l.type,new Error(mt(14));c[p]=R,u=u||R!==C}return u=u||r.length!==Object.keys(o).length,u?c:o}}function oc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function MP(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(mt(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},l=t.map(u=>u(o));return s=oc(...l)(i.dispatch),{...i,dispatch:s}}}function VP(t){return Bp(t)&&"type"in t&&typeof t.type=="string"}var Iw=Symbol.for("immer-nothing"),Ay=Symbol.for("immer-draftable"),on=Symbol.for("immer-state");function An(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var so=Object.getPrototypeOf;function Qi(t){return!!t&&!!t[on]}function Cr(t){var e;return t?Cw(t)||Array.isArray(t)||!!t[Ay]||!!((e=t.constructor)!=null&&e[Ay])||qc(t)||Qc(t):!1}var FP=Object.prototype.constructor.toString();function Cw(t){if(!t||typeof t!="object")return!1;const e=so(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===FP}function ac(t,e){Gc(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Gc(t){const e=t[on];return e?e.type_:Array.isArray(t)?1:qc(t)?2:Qc(t)?3:0}function df(t,e){return Gc(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Rw(t,e,n){const r=Gc(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function jP(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qc(t){return t instanceof Map}function Qc(t){return t instanceof Set}function xi(t){return t.copy_||t.base_}function hf(t,e){if(qc(t))return new Map(t);if(Qc(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Cw(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[on];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(so(t),r)}else{const r=so(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function $p(t,e=!1){return Yc(t)||Qi(t)||!Cr(t)||(Gc(t)>1&&(t.set=t.add=t.clear=t.delete=UP),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>$p(r,!0))),t}function UP(){An(2)}function Yc(t){return Object.isFrozen(t)}var zP={};function Yi(t){const e=zP[t];return e||An(0,t),e}var Wa;function Pw(){return Wa}function BP(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ky(t,e){e&&(Yi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ff(t){pf(t),t.drafts_.forEach($P),t.drafts_=null}function pf(t){t===Wa&&(Wa=t.parent_)}function xy(t){return Wa=BP(Wa,t)}function $P(t){const e=t[on];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Ny(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[on].modified_&&(ff(e),An(4)),Cr(t)&&(t=lc(e,t),e.parent_||uc(e,t)),e.patches_&&Yi("Patches").generateReplacementPatches_(n[on].base_,t,e.patches_,e.inversePatches_)):t=lc(e,n,[]),ff(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Iw?t:void 0}function lc(t,e,n){if(Yc(e))return e;const r=e[on];if(!r)return ac(e,(i,s)=>Dy(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return uc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),ac(s,(l,u)=>Dy(t,r,i,l,u,n,o)),uc(t,i,!1),n&&t.patches_&&Yi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Dy(t,e,n,r,i,s,o){if(Qi(i)){const l=s&&e&&e.type_!==3&&!df(e.assigned_,r)?s.concat(r):void 0,u=lc(t,i,l);if(Rw(n,r,u),Qi(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Cr(i)&&!Yc(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;lc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&uc(t,i)}}function uc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$p(e,n)}function HP(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Pw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Hp;n&&(i=[r],s=Ka);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var Hp={get(t,e){if(e===on)return t;const n=xi(t);if(!df(n,e))return WP(t,n,e);const r=n[e];return t.finalized_||!Cr(r)?r:r===th(t.base_,e)?(nh(t),t.copy_[e]=gf(r,t)):r},has(t,e){return e in xi(t)},ownKeys(t){return Reflect.ownKeys(xi(t))},set(t,e,n){const r=Aw(xi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=th(xi(t),e),s=i==null?void 0:i[on];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(jP(n,i)&&(n!==void 0||df(t.base_,e)))return!0;nh(t),mf(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return th(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,nh(t),mf(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=xi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){An(11)},getPrototypeOf(t){return so(t.base_)},setPrototypeOf(){An(12)}},Ka={};ac(Hp,(t,e)=>{Ka[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ka.deleteProperty=function(t,e){return Ka.set.call(this,t,e,void 0)};Ka.set=function(t,e,n){return Hp.set.call(this,t[0],e,n,t[0])};function th(t,e){const n=t[on];return(n?xi(n):t)[e]}function WP(t,e,n){var i;const r=Aw(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Aw(t,e){if(!(e in t))return;let n=so(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=so(n)}}function mf(t){t.modified_||(t.modified_=!0,t.parent_&&mf(t.parent_))}function nh(t){t.copy_||(t.copy_=hf(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var KP=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,f=>n.call(this,f,...c))}}typeof n!="function"&&An(6),r!==void 0&&typeof r!="function"&&An(7);let i;if(Cr(e)){const s=xy(this),o=gf(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?ff(s):pf(s)}return ky(s,r),Ny(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Iw&&(i=void 0),this.autoFreeze_&&$p(i,!0),r){const s=[],o=[];Yi("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else An(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Cr(t)||An(8),Qi(t)&&(t=GP(t));const e=xy(this),n=gf(t,void 0);return n[on].isManual_=!0,pf(e),n}finishDraft(t,e){const n=t&&t[on];(!n||!n.isManual_)&&An(9);const{scope_:r}=n;return ky(r,e),Ny(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Yi("Patches").applyPatches_;return Qi(t)?r(t,e):this.produce(t,i=>r(i,e))}};function gf(t,e){const n=qc(t)?Yi("MapSet").proxyMap_(t,e):Qc(t)?Yi("MapSet").proxySet_(t,e):HP(t,e);return(e?e.scope_:Pw()).drafts_.push(n),n}function GP(t){return Qi(t)||An(10,t),kw(t)}function kw(t){if(!Cr(t)||Yc(t))return t;const e=t[on];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hf(t,e.scope_.immer_.useStrictShallowCopy_)}else n=hf(t,!0);return ac(n,(r,i)=>{Rw(n,r,kw(i))}),e&&(e.finalized_=!1),n}var an=new KP,xw=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseStrictShallowCopy.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function Nw(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var qP=Nw(),QP=Nw,YP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?oc:oc.apply(null,arguments)};function Oy(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(On(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>VP(r)&&r.type===t,n}var Dw=class oa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,oa.prototype)}static get[Symbol.species](){return oa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new oa(...e[0].concat(this)):new oa(...e.concat(this))}};function Ly(t){return Cr(t)?xw(t,()=>{}):t}function by(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(On(10));const r=n.insert(e,t);return t.set(e,r),r}function XP(t){return typeof t=="boolean"}var JP=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new Dw;return n&&(XP(n)?o.push(qP):o.push(QP(n.extraArgument))),o},ZP="RTK_autoBatch",Ow=t=>e=>{setTimeout(e,t)},eA=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ow(10),tA=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?eA:t.type==="callback"?t.queueNotification:Ow(t.timeout),c=()=>{o=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),m=r.subscribe(p);return l.add(f),()=>{m(),l.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[ZP]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(f)}finally{i=!0}}})},nA=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Dw(t);return r&&i.push(tA(typeof r=="object"?r:void 0)),i};function rA(t){const e=JP(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Bp(n))l=bP(n);else throw new Error(On(1));let u;typeof r=="function"?u=r(e):u=e();let c=oc;i&&(c=YP({trace:!1,...typeof i=="object"&&i}));const f=MP(...u),p=nA(f);let m=typeof o=="function"?o(p):p();const C=c(...m);return Sw(l,s,C)}function Lw(t){const e={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(On(28));if(l in e)throw new Error(On(29));return e[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function iA(t){return typeof t=="function"}function sA(t,e){let[n,r,i]=Lw(e),s;if(iA(t))s=()=>Ly(t());else{const l=Ly(t);s=()=>l}function o(l=s(),u){let c=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[i]),c.reduce((f,p)=>{if(p)if(Qi(f)){const C=p(f,u);return C===void 0?f:C}else{if(Cr(f))return xw(f,m=>p(m,u));{const m=p(f,u);if(m===void 0){if(f===null)return f;throw new Error(On(9))}return m}}return f},l)}return o.getInitialState=s,o}var oA=Symbol.for("rtk-slice-createasyncthunk");function aA(t,e){return`${t}/${e}`}function lA({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[oA];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(On(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(cA()):i.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(w,L){const z=typeof w=="string"?w:w.type;if(!z)throw new Error(On(12));if(z in c.sliceCaseReducersByType)throw new Error(On(13));return c.sliceCaseReducersByType[z]=L,f},addMatcher(w,L){return c.sliceMatchers.push({matcher:w,reducer:L}),f},exposeAction(w,L){return c.actionCreators[w]=L,f},exposeCaseReducer(w,L){return c.sliceCaseReducersByName[w]=L,f}};u.forEach(w=>{const L=l[w],z={reducerName:w,type:aA(s,w),createNotation:typeof i.reducers=="function"};hA(L)?pA(z,L,f,e):dA(z,L,f)});function p(){const[w={},L=[],z=void 0]=typeof i.extraReducers=="function"?Lw(i.extraReducers):[i.extraReducers],k={...w,...c.sliceCaseReducersByType};return sA(i.initialState,E=>{for(let g in k)E.addCase(g,k[g]);for(let g of c.sliceMatchers)E.addMatcher(g.matcher,g.reducer);for(let g of L)E.addMatcher(g.matcher,g.reducer);z&&E.addDefaultCase(z)})}const m=w=>w,C=new Map;let R;function N(w,L){return R||(R=p()),R(w,L)}function M(){return R||(R=p()),R.getInitialState()}function T(w,L=!1){function z(E){let g=E[w];return typeof g>"u"&&L&&(g=M()),g}function k(E=m){const g=by(C,L,{insert:()=>new WeakMap});return by(g,E,{insert:()=>{const _={};for(const[S,P]of Object.entries(i.selectors??{}))_[S]=uA(P,E,M,L);return _}})}return{reducerPath:w,getSelectors:k,get selectors(){return k(z)},selectSlice:z}}const v={name:s,reducer:N,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:M,...T(o),injectInto(w,{reducerPath:L,...z}={}){const k=L??o;return w.inject({reducerPath:k,reducer:N},z),{...v,...T(k,!0)}}};return v}}function uA(t,e,n,r){function i(s,...o){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var bw=lA();function cA(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function dA({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!fA(r))throw new Error(On(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Oy(t,o):Oy(t))}function hA(t){return t._reducerDefinitionType==="asyncThunk"}function fA(t){return t._reducerDefinitionType==="reducerWithPrepare"}function pA({type:t,reducerName:e},n,r,i){if(!i)throw new Error(On(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:u,settled:c,options:f}=n,p=i(t,s,f);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),c&&r.addMatcher(p.settled,c),r.exposeCaseReducer(e,{fulfilled:o||nu,pending:l||nu,rejected:u||nu,settled:c||nu})}function nu(){}function On(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}let mA={notifications:[],toggleNav:!1,loading:!1,token:dl()};const Mw=bw({name:"ui",initialState:mA,reducers:{toggleNav(t){t.toggleNav=!t.toggleNav},addNotification(t,e){t.notifications.push({...e.payload})},removeNotification(t){t.notifications.shift()},setLoading(t,e){t.loading=e.payload},setToken(t,e){localStorage.setItem("token",e.payload),t.token=e.payload},clearToken(t){t.token=null,localStorage.clear()}}}),gA=Mw.reducer,xe=Mw.actions;function yA(){const t=gw(),e=dl(),n=us();return j.useEffect(()=>{if(e){const r=yw();r&&(r<=0&&(n(xe.addNotification({title:"Session expired! Please login again",type:"error"})),setTimeout(()=>n(xe.removeNotification()),2e3),t(null,{method:"POST",action:"/logout"})),setTimeout(()=>{n(xe.addNotification({title:"Session expired! Please login again",type:"error"})),setTimeout(()=>n(xe.removeNotification()),2e3),t(null,{method:"POST",action:"/logout"})},r))}else return},[e]),x.jsxs(x.Fragment,{children:[x.jsx("header",{children:x.jsx($R,{})}),x.jsx("main",{className:Zd.content,children:x.jsxs(j.Suspense,{fallback:x.jsxs("div",{className:Zd.FallbackContainer,children:[x.jsx("h1",{children:"Loading.... "}),x.jsx("div",{className:Zd.spinner})]}),children:[x.jsx(NP,{}),x.jsx(jp,{})]})}),x.jsx(rP,{})]})}const vA=()=>(localStorage.clear(),Ha("/auth?mode=login"));function _A(){const t=fw();return console.log(t,typeof t),x.jsxs("div",{style:{textAlign:"center"},children:[x.jsx("h1",{children:"Some Error Occured"}),t.data&&x.jsxs("h2",{children:["Details :",t.data]}),!t.data&&x.jsx("h2",{children:t.toString()}),x.jsx("p",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>window.history.back(),children:"Go back?"})]})}const wA="_productContainer_1c39w_1",EA="_image_1c39w_9",TA="_priceRating_1c39w_19",SA="_price_1c39w_19",IA="_rating_1c39w_43",CA="_pointer_1c39w_57",RA="_buttonContainer_1c39w_65",PA="_red_1c39w_75",AA="_seeDetailsBtn_1c39w_83",ur={productContainer:wA,image:EA,priceRating:TA,price:SA,rating:IA,pointer:CA,buttonContainer:RA,red:PA,seeDetailsBtn:AA},kA="_card_1krw5_1",xA={card:kA};function Xc(t){return x.jsx("div",{className:`${xA.card} ${t.className?t.className:""}`,style:t.style,children:t.children})}let NA={items:[],totalAmount:0,totalNumItems:0};const Vw=bw({name:"cart",initialState:NA,reducers:{addItem(t,e){t.totalAmount+=e.payload.price,t.totalNumItems+=e.payload.amount;const n=t.items.findIndex(r=>r.id===e.payload.id);if(n>-1){let r=t.items[n];r={...r,amount:r.amount+e.payload.amount},t.items[n]=r}else t.items.push(e.payload)},removeItem(t,e){t.totalAmount-=e.payload.price,t.totalNumItems-=e.payload.amount;const n=t.items.findIndex(r=>r.id===e.payload.id);if(n>-1){let r=t.items[n];r.amount===1?t.items=t.items.filter(i=>i.id!==e.payload.id):(r={...r,amount:r.amount-e.payload.amount},t.items[n]=r)}},deleteFromCart(t,e){t.totalAmount=t.totalAmount-=e.payload.price*e.payload.amount,t.totalNumItems=t.totalNumItems-=e.payload.amount,t.items=t.items.filter(n=>n.id!==e.payload.id)},clearCart(t){t.totalAmount=0,t.totalNumItems=0,t.items=[]}}}),DA=Vw.reducer,Xi=Vw.actions,OA="_btn_n8j9c_1",My={btn:OA};function Ji(t){return x.jsx("button",{disabled:t.disabled,type:t.type?t.type:"button",className:t.className?`${My.btn} ${t.className}`:My.btn,onClick:t.onClick,children:t.children})}function Wp(t){const e=us(),n=()=>{e(xe.addNotification({title:"item added to cart!",type:"success"})),setTimeout(()=>{e(xe.removeNotification())},1500),e(Xi.addItem({...t.product,amount:1}))};return x.jsxs(Xc,{className:ur.productContainer,children:[x.jsxs("div",{className:ur.pointer,onClick:t.onClick,children:[x.jsx("img",{src:t.product.image,alt:"product image",className:ur.image}),x.jsxs("h3",{children:[t.product.title.slice(0,15),"..."]})]}),x.jsx("hr",{}),x.jsxs("p",{className:ur.priceRating,children:[x.jsxs("span",{className:ur.price,children:["$",t.product.price]}),x.jsxs("span",{className:ur.rating,children:[x.jsxs("span",{children:[t.product.rating.rate," stars"]}),x.jsxs("span",{children:["(",t.product.rating.count," ratings)"]})]})]}),x.jsxs("div",{className:ur.buttonContainer,children:[x.jsx(Ji,{onClick:n,className:ur.red,children:"Add to Cart"}),x.jsx(Ji,{className:ur.seeDetailsBtn,onClick:t.onClick,children:"See Details"})]})]})}const LA="_heading_1g6if_1",bA="_filter_1g6if_13",MA="_label_1g6if_25",VA="_select_1g6if_39",Yo={heading:LA,filter:bA,label:MA,select:VA},FA="_productsContainer_1bh8d_1",jA={productsContainer:FA};function Fw(t){return x.jsx("div",{style:t.style,className:jA.productsContainer,children:t.children})}function UA(){const{data:t,category:e}=Fp(),[n,r]=j.useState("none"),i=u=>{r(u.target.value)};let s=[];switch(n){case"PLTH":s=t.sort((u,c)=>u.price-c.price);break;case"PHTL":s=t.sort((u,c)=>c.price-u.price);break;case"RLTH":s=t.sort((u,c)=>u.rating.rate-c.rating.rate);break;case"RHTL":s=t.sort((u,c)=>c.rating.rate-u.rating.rate);break;default:s=t.sort(()=>.5-Math.random())}const[o]=j.useState(s),l=vi();return x.jsxs("div",{className:Yo.container,children:[x.jsx("h1",{className:Yo.heading,children:e}),x.jsxs("div",{className:Yo.filter,children:[x.jsx("label",{htmlFor:"filter",className:Yo.label,children:"Filter"}),x.jsxs("select",{name:"filter",id:"filter",className:Yo.select,value:n,onChange:i,children:[x.jsx("option",{value:"none",children:"none"}),x.jsx("option",{value:"PLTH",children:"Price: Low to High"}),x.jsx("option",{value:"PHTL",children:"Price: High to Low"}),x.jsx("option",{value:"RLTH",children:"Rating: Low to High"}),x.jsx("option",{value:"RHTL",children:"Rating: High to Low"})]})]}),x.jsx(Fw,{children:o.map(u=>x.jsx(Wp,{onClick:()=>l(`/shop/category/${e}/${u.id}`),product:u},u.id))})]})}function zA(){return x.jsx(UA,{})}const jw=async({params:t})=>{const e=t.categoryName;let n="";if(e==="jewelery"||e==="men's clothing"||e==="women's clothing"||e==="electronics")n=`/category/${e}`;else throw new Error("unrecognized category");try{const r=await fetch(`https://fakestoreapi.com/products/${n}`);if(!r.ok)throw new Error(`Error ${r.status}: ${r.statusText}`);return{data:await r.json(),category:e}}catch(r){console.log(r)}},BA=Object.freeze(Object.defineProperty({__proto__:null,CategoryProductsLoader:jw,default:zA},Symbol.toStringTag,{value:"Module"})),$A="_browseCategories_zf1da_1",HA="_categoriesContainer_zf1da_19",WA="_categoryName_zf1da_31",KA="_category_zf1da_31",GA="_image_zf1da_59",Xo={browseCategories:$A,categoriesContainer:HA,categoryName:WA,category:KA,image:GA},qA="/React-Ecommerce/assets/jewelery-BYC-D-Cd.jpg",QA="/React-Ecommerce/assets/womenClothing-DS-wx0HS.jpg",YA="/React-Ecommerce/assets/electronics-DytI9Af2.jpg",XA="/React-Ecommerce/assets/menClothing-BVrhLnPe.jpg",JA=[{name:"electronics",image:YA},{name:"jewelery",image:qA},{name:"men's clothing",image:XA},{name:"women's clothing",image:QA}];function yf({title:t}){const e=vi();return x.jsxs("div",{className:Xo.browseCategories,children:[x.jsx("h2",{children:t}),x.jsx("div",{className:Xo.categoriesContainer,children:JA.map((n,r)=>x.jsxs("div",{className:Xo.category,children:[x.jsx("img",{className:Xo.image,src:n.image,alt:"category image",id:"image",onClick:()=>e(`/shop/category/${n.name}`)}),x.jsx("p",{className:Xo.categoryName,children:n.name})]},r))})]})}const ZA="_heading_10y83_1",ek="_filter_10y83_11",tk="_label_10y83_23",nk="_select_10y83_37",ru={heading:ZA,filter:ek,label:tk,select:nk};function rk(t){const[e,n]=j.useState("none"),r=l=>{n(l.target.value)};let i=[];switch(e){case"PLTH":i=t.data.sort((l,u)=>l.price-u.price);break;case"PHTL":i=t.data.sort((l,u)=>u.price-l.price);break;case"RLTH":i=t.data.sort((l,u)=>l.rating.rate-u.rating.rate);break;case"RHTL":i=t.data.sort((l,u)=>u.rating.rate-l.rating.rate);break;default:i=t.data.sort(()=>.5-Math.random())}const[s]=j.useState(i),o=vi();return x.jsxs("div",{children:[x.jsx("h1",{className:ru.heading,children:"All Products"}),x.jsxs("div",{className:ru.filter,children:[x.jsx("label",{htmlFor:"filter",className:ru.label,children:"Filter"}),x.jsxs("select",{name:"filter",className:ru.select,id:"filter",value:e,onChange:r,children:[x.jsx("option",{value:"none",children:"none"}),x.jsx("option",{value:"PLTH",children:"Price: Low to High"}),x.jsx("option",{value:"PHTL",children:"Price: High to Low"}),x.jsx("option",{value:"RLTH",children:"Rating: Low to High"}),x.jsx("option",{value:"RHTL",children:"Rating: High to Low"})]})]}),x.jsx(Fw,{children:s.map(l=>x.jsx(Wp,{onClick:()=>o(`/shop/category/${l.category}/${l.id}`),product:l},l.id))}),x.jsx(yf,{title:"Browse By Category"})]})}function ik(){const t=Fp();return x.jsx(rk,{data:t})}const Uw=async()=>{try{const t=await fetch("https://fakestoreapi.com/products");if(!t.ok)throw new Error(`Error ${t.status}: ${t.statusText}`);return await t.json()}catch(t){console.log(t)}},sk=Object.freeze(Object.defineProperty({__proto__:null,AllProductsLoader:Uw,default:ik},Symbol.toStringTag,{value:"Module"})),ok="_Itemcontainer_7zcrs_1",ak="_details_7zcrs_15",lk="_imageContainer_7zcrs_23",uk="_image_7zcrs_23",ck="_moreItems_7zcrs_59",dk="_red_7zcrs_81",hk="_capitalize_7zcrs_89",fk="_moreContainer_7zcrs_99",Mr={Itemcontainer:ok,details:ak,imageContainer:lk,image:uk,moreItems:ck,red:dk,capitalize:hk,moreContainer:fk},pk="_qtyContainer_g774t_1",mk="_qtyBtn_g774t_13",gk="_qtyInput_g774t_15",yk="_decreaseBtn_g774t_61",vk="_increaseBtn_g774t_67",Cs={qtyContainer:pk,qtyBtn:mk,qtyInput:gk,decreaseBtn:yk,increaseBtn:vk};function zw(t){const e=us(),n=s=>{t.setQty&&t.setQty(Number(s.target.value))},r=()=>{t.decreaseQty?t.decreaseQty():t.cartItem&&(e(xe.addNotification({title:"item removed from cart!",type:"error"})),setTimeout(()=>{e(xe.removeNotification())},1500),e(Xi.removeItem(t.cartItem)))},i=()=>{t.increaseQty?t.increaseQty():t.cartItem&&t.cartItem.amount<10&&(e(xe.addNotification({title:"item added to cart!",type:"success"})),setTimeout(()=>{e(xe.removeNotification())},1500),e(Xi.addItem(t.cartItem)))};return x.jsxs("div",{className:Cs.qtyContainer,children:[x.jsx("button",{type:"button",className:`${Cs.qtyBtn} ${Cs.decreaseBtn}`,onClick:r,children:"-"}),t.qty&&x.jsx("p",{className:Cs.qtyInput,onChange:n,children:t.qty}),x.jsx("button",{className:`${Cs.qtyBtn} ${Cs.increaseBtn}`,onClick:i,children:"+"}),t.children]})}function _k(){const[t,e]=j.useState(1),n=NC(),r=Number(n.productId),i=us(),s=Fp(),o=s.filter(C=>C.id===r);if(o.length===0)throw new Error("Invalid Id of product");const l=o[0],u=s.filter(C=>C.id!==r),c=vi(),f=()=>{i(xe.addNotification({title:"item added to cart!",type:"success"})),setTimeout(()=>{i(xe.removeNotification())},1500),i(Xi.addItem({...l,amount:t}))},p=()=>{t!==10&&e(C=>C+1)},m=()=>{t!==1&&e(C=>C-1)};return x.jsxs("div",{children:[x.jsxs("div",{className:Mr.Itemcontainer,children:[x.jsx("div",{className:Mr.imageContainer,children:x.jsx("img",{src:l.image,alt:"product Image",className:Mr.image})}),x.jsxs("div",{className:Mr.details,children:[x.jsx("h1",{children:l.title}),x.jsx("p",{children:l.description}),x.jsxs("h3",{children:["$",l.price,"/-"]}),x.jsxs("p",{children:[l.rating.rate," stars (",l.rating.count," ratings)"]}),x.jsxs("div",{children:[x.jsx(zw,{qty:t,setQty:e,decreaseQty:m,increaseQty:p}),x.jsx(Ji,{onClick:f,className:Mr.red,children:"Add to Cart"})]})]})]}),x.jsxs("div",{className:Mr.moreItems,children:[x.jsxs("h2",{children:["Check out other products in"," ",x.jsx("span",{className:Mr.capitalize,children:l.category})]}),x.jsx("div",{className:Mr.moreContainer,children:u.map((C,R)=>x.jsx(Wp,{product:C,onClick:()=>c(`shop/category/${C.category}/${C.id}`)},R))})]})]})}function wk(){return x.jsx(_k,{})}const Bw=async({params:t})=>{const e=t.categoryName;let n="";if(e==="jewelery"||e==="men's clothing"||e==="women's clothing"||e==="electronics")n=`category/${e}`;else throw new Error("unrecognized category");try{const r=await fetch(`https://fakestoreapi.com/products/${n}`);if(!r.ok)throw new Error(`Error ${r.status}: ${r.statusText}`);const i=await r.json();if(i.length>0)return i;throw new Error("No Data Found")}catch(r){console.log(r)}},Ek=Object.freeze(Object.defineProperty({__proto__:null,default:wk,singleProductLoader:Bw},Symbol.toStringTag,{value:"Module"})),Tk="_container_1srjl_1",Sk="_center_1srjl_11",Ik="_cartDetails_1srjl_31",Ck="_items_1srjl_41",Rk="_ItemSummary_1srjl_59",Pk="_summaryHeading_1srjl_71",Ak="_summary_1srjl_71",kk="_checkoutBtn_1srjl_87",xk="_red_1srjl_95",Nk="_clear_1srjl_101",xt={container:Tk,center:Sk,cartDetails:Ik,items:Ck,ItemSummary:Rk,summaryHeading:Pk,summary:Ak,checkoutBtn:kk,red:xk,clear:Nk},Dk="_image_m8cmz_1",Ok="_itemTitle_m8cmz_13",Lk="_itemContainer_m8cmz_21",bk="_detailsContainer_m8cmz_35",Mk="_delBtn_m8cmz_43",Jo={image:Dk,itemTitle:Ok,itemContainer:Lk,detailsContainer:bk,delBtn:Mk};function Vk({item:t}){const e=vi(),n=us(),r=()=>{n(xe.addNotification({title:"Removed Item from cart!",type:"error"})),setTimeout(()=>{n(xe.removeNotification())},1500),n(Xi.deleteFromCart(t))};return x.jsxs(Xc,{className:Jo.itemContainer,children:[x.jsx("img",{src:t.image,alt:"item image",className:Jo.image,onClick:()=>e(`/shop/category/${t.category}/${t.id}`)}),x.jsxs("div",{className:Jo.detailsContainer,children:[x.jsx("h2",{className:Jo.itemTitle,onClick:()=>e(`/shop/category/${t.category}/${t.id}`),children:t.title}),x.jsxs("p",{children:["$",t.price.toFixed(2)," * ",t.amount," = $",(t.price*t.amount).toFixed(2)]}),x.jsxs("p",{children:["id: ",t.id]}),x.jsxs("p",{children:[t.rating.rate," stars (",t.rating.count," ratings)"]}),x.jsx(zw,{cartItem:{...t,amount:1},children:x.jsx(Ji,{className:Jo.delBtn,onClick:r,children:"Delete"})})]})]})}function Fk(){const t=_a(o=>o.cart.items),e=_a(o=>o.cart.totalAmount),n=_a(o=>o.cart.totalNumItems),r=us(),i=()=>{r(Xi.clearCart())},s=()=>{r(xe.addNotification({title:"Cart Empty!",type:"error"})),setTimeout(()=>{r(xe.removeNotification())},1500),r(Xi.clearCart())};return x.jsxs(x.Fragment,{children:[t.length>0&&x.jsxs("div",{className:xt.container,children:[x.jsxs("h1",{className:xt.center,children:["Your ",x.jsx("span",{className:xt.red,children:"Cart"})]}),x.jsxs("div",{className:xt.cartDetails,children:[x.jsx("div",{className:xt.items,children:t.map(o=>x.jsx(Vk,{item:o},o.id))}),x.jsxs(Xc,{className:`${xt.ItemSummary} ${xt.center}`,children:[x.jsxs("h2",{className:xt.summaryHeading,children:["Cart ",x.jsx("span",{className:xt.summary,children:"Summary"})]}),x.jsx("hr",{}),x.jsxs("p",{children:["Total Amount: $",e.toFixed(2)]}),x.jsxs("p",{children:["Total Number of Items: ",n]}),x.jsx(Ji,{onClick:i,className:xt.checkoutBtn,children:"Checkout?"})]})]}),x.jsx("p",{className:xt.center,children:x.jsx(Ji,{onClick:s,className:xt.clear,children:"Clear Cart"})}),x.jsx(yf,{title:"Browse More Products"})]}),t.length===0&&x.jsxs("div",{className:`${xt.container} ${xt.empty}`,children:[x.jsxs("div",{className:xt.center,children:[x.jsxs("h1",{children:["Your Cart is ",x.jsx("span",{className:xt.red,children:"Empty"})]}),x.jsx("p",{children:"Please add some items to continue"})]}),x.jsx(yf,{title:"Browse Products"})]})]})}function jk(){return x.jsx(Fk,{})}const $w=async()=>dl()?x.jsx(jp,{}):Ha("/auth?mode=login"),Uk=Object.freeze(Object.defineProperty({__proto__:null,cartLoader:$w,default:jk},Symbol.toStringTag,{value:"Module"})),zk="_container_z1h02_1",Bk="_red_z1h02_15",$k="_heading_z1h02_23",Hk="_mesText_z1h02_39",Wk="_formContainer_z1h02_49",Kk="_fieldset_z1h02_103",Gk="_submitBtn_z1h02_119",qk="_changeModeBtn_z1h02_133",Qk="_spinner_z1h02_149",Yk="_loading_z1h02_1",Jt={container:zk,red:Bk,heading:$k,mesText:Hk,formContainer:Wk,fieldset:Kk,submitBtn:Gk,changeModeBtn:qk,spinner:Qk,loading:Yk};var Vy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ww={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,C=c&63;u||(C=64,o||(m=64)),r.push(n[f],n[p],n[m],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||p==null)throw new Jk;const m=s<<2|l>>4;if(r.push(m),c!==64){const C=l<<4&240|c>>2;if(r.push(C),p!==64){const R=c<<6&192|p;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zk=function(t){const e=Hw(t);return Ww.encodeByteArray(e,!0)},cc=function(t){return Zk(t).replace(/\./g,"")},Kw=function(t){try{return Ww.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=()=>ex().__FIREBASE_DEFAULTS__,nx=()=>{if(typeof process>"u"||typeof Vy>"u")return;const t=Vy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kw(t[1]);return e&&JSON.parse(e)},Jc=()=>{try{return tx()||nx()||rx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gw=t=>{var e,n;return(n=(e=Jc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ix=t=>{const e=Gw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qw=()=>{var t;return(t=Jc())===null||t===void 0?void 0:t.config},Qw=t=>{var e;return(e=Jc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cc(JSON.stringify(n)),cc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ax(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function lx(){var t;const e=(t=Jc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ux(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dx(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hx(){return!lx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fx(){try{return typeof indexedDB=="object"}catch{return!1}}function px(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="FirebaseError";class Ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mx,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gx(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ar(i,l,r)}}function gx(t,e){return t.replace(yx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yx=/\{\$([^}]+)}/g;function vx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Fy(s)&&Fy(o)){if(!dc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function la(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _x(t,e){const n=new wx(t,e);return n.subscribe.bind(n)}class wx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ex(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rh),i.error===void 0&&(i.error=rh),i.complete===void 0&&(i.complete=rh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ex(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){return t&&t._delegate?t._delegate:t}class Zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ix(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sx(t){return t===Ni?void 0:t}function Ix(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const Rx={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},Px=he.INFO,Ax={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},kx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ax[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=Px,this._logHandler=kx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const xx=(t,e)=>e.some(n=>t instanceof n);let jy,Uy;function Nx(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dx(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yw=new WeakMap,vf=new WeakMap,Xw=new WeakMap,ih=new WeakMap,Gp=new WeakMap;function Ox(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ri(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Yw.set(n,t)}).catch(()=>{}),Gp.set(e,t),e}function Lx(t){if(vf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vf.set(t,e)}let _f={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bx(t){_f=t(_f)}function Mx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sh(this),e,...n);return Xw.set(r,e.sort?e.sort():[e]),ri(r)}:Dx().includes(t)?function(...e){return t.apply(sh(this),e),ri(Yw.get(this))}:function(...e){return ri(t.apply(sh(this),e))}}function Vx(t){return typeof t=="function"?Mx(t):(t instanceof IDBTransaction&&Lx(t),xx(t,Nx())?new Proxy(t,_f):t)}function ri(t){if(t instanceof IDBRequest)return Ox(t);if(ih.has(t))return ih.get(t);const e=Vx(t);return e!==t&&(ih.set(t,e),Gp.set(e,t)),e}const sh=t=>Gp.get(t);function Fx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=ri(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ri(o.result),u.oldVersion,u.newVersion,ri(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const jx=["get","getKey","getAll","getAllKeys","count"],Ux=["put","add","delete","clear"],oh=new Map;function zy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oh.get(e))return oh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ux.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jx.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return oh.set(e,s),s}bx(t=>({...t,get:(e,n,r)=>zy(e,n)||t.get(e,n,r),has:(e,n)=>!!zy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wf="@firebase/app",By="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Kp("@firebase/app"),$x="@firebase/app-compat",Hx="@firebase/analytics-compat",Wx="@firebase/analytics",Kx="@firebase/app-check-compat",Gx="@firebase/app-check",qx="@firebase/auth",Qx="@firebase/auth-compat",Yx="@firebase/database",Xx="@firebase/database-compat",Jx="@firebase/functions",Zx="@firebase/functions-compat",eN="@firebase/installations",tN="@firebase/installations-compat",nN="@firebase/messaging",rN="@firebase/messaging-compat",iN="@firebase/performance",sN="@firebase/performance-compat",oN="@firebase/remote-config",aN="@firebase/remote-config-compat",lN="@firebase/storage",uN="@firebase/storage-compat",cN="@firebase/firestore",dN="@firebase/vertexai-preview",hN="@firebase/firestore-compat",fN="firebase",pN="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="[DEFAULT]",mN={[wf]:"fire-core",[$x]:"fire-core-compat",[Wx]:"fire-analytics",[Hx]:"fire-analytics-compat",[Gx]:"fire-app-check",[Kx]:"fire-app-check-compat",[qx]:"fire-auth",[Qx]:"fire-auth-compat",[Yx]:"fire-rtdb",[Xx]:"fire-rtdb-compat",[Jx]:"fire-fn",[Zx]:"fire-fn-compat",[eN]:"fire-iid",[tN]:"fire-iid-compat",[nN]:"fire-fcm",[rN]:"fire-fcm-compat",[iN]:"fire-perf",[sN]:"fire-perf-compat",[oN]:"fire-rc",[aN]:"fire-rc-compat",[lN]:"fire-gcs",[uN]:"fire-gcs-compat",[cN]:"fire-fst",[hN]:"fire-fst-compat",[dN]:"fire-vertex","fire-js":"fire-js",[fN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,gN=new Map,Tf=new Map;function $y(t,e){try{t.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oo(t){const e=t.name;if(Tf.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;Tf.set(e,t);for(const n of hc.values())$y(n,t);for(const n of gN.values())$y(n,t);return!0}function qp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new fl("app","Firebase",yN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=pN;function Jw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ef,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=qw()),!n)throw ii.create("no-options");const s=hc.get(i);if(s){if(dc(n,s.options)&&dc(r,s.config))return s;throw ii.create("duplicate-app",{appName:i})}const o=new Cx(i);for(const u of Tf.values())o.addComponent(u);const l=new vN(n,r,o);return hc.set(i,l),l}function Zw(t=Ef){const e=hc.get(t);if(!e&&t===Ef&&qw())return Jw();if(!e)throw ii.create("no-app",{appName:t});return e}function si(t,e,n){var r;let i=(r=mN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(l.join(" "));return}oo(new Zi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="firebase-heartbeat-database",wN=1,Ga="firebase-heartbeat-store";let ah=null;function eE(){return ah||(ah=Fx(_N,wN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ga)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),ah}async function EN(t){try{const n=(await eE()).transaction(Ga),r=await n.objectStore(Ga).get(tE(t));return await n.done,r}catch(e){if(e instanceof Ar)es.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(n.message)}}}async function Hy(t,e){try{const r=(await eE()).transaction(Ga,"readwrite");await r.objectStore(Ga).put(e,tE(t)),await r.done}catch(n){if(n instanceof Ar)es.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(r.message)}}}function tE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1024,SN=30*24*60*60*1e3;class IN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=SN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wy(),{heartbeatsToSend:r,unsentEntries:i}=CN(this._heartbeatsCache.heartbeats),s=cc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Wy(){return new Date().toISOString().substring(0,10)}function CN(t,e=TN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ky(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ky(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fx()?px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ky(t){return cc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){oo(new Zi("platform-logger",e=>new zx(e),"PRIVATE")),oo(new Zi("heartbeat",e=>new IN(e),"PRIVATE")),si(wf,By,t),si(wf,By,"esm2017"),si("fire-js","")}PN("");function Qp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AN=nE,rE=new fl("auth","Firebase",nE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Kp("@firebase/auth");function kN(t,...e){fc.logLevel<=he.WARN&&fc.warn(`Auth (${go}): ${t}`,...e)}function Iu(t,...e){fc.logLevel<=he.ERROR&&fc.error(`Auth (${go}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw Yp(t,...e)}function Xn(t,...e){return Yp(t,...e)}function iE(t,e,n){const r=Object.assign(Object.assign({},AN()),{[e]:n});return new fl("auth","Firebase",r).create(e,{appName:t.name})}function vr(t){return iE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rE.create(t,...e)}function re(t,e,...n){if(!t)throw Yp(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Iu(e),new Error(e)}function Rr(t,e){t||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xN(){return Gy()==="http:"||Gy()==="https:"}function Gy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xN()||ux()||"connection"in navigator)?navigator.onLine:!0}function DN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rr(n>e,"Short delay should be less than long delay!"),this.isMobile=ax()||cx()}get(){return NN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t,e){Rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new ml(3e4,6e4);function _i(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wi(t,e,n,r,i={}){return oE(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=pl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),sE.fetch()(aE(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function oE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ON),e);try{const i=new MN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw iu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw iu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw iu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw iu(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw iE(t,f,c);Vn(t,f)}}catch(i){if(i instanceof Ar)throw i;Vn(t,"network-request-failed",{message:String(i)})}}async function gl(t,e,n,r,i={}){const s=await wi(t,e,n,r,i);return"mfaPendingCredential"in s&&Vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function aE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Xp(t.config,i):`${t.config.apiScheme}://${i}`}function bN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),LN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xn(t,e,r);return i.customData._tokenResponse=n,i}function qy(t){return t!==void 0&&t.enterprise!==void 0}class VN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function FN(t,e){return wi(t,"GET","/v2/recaptchaConfig",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e){return wi(t,"POST","/v1/accounts:delete",e)}async function lE(t,e){return wi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UN(t,e=!1){const n=Mn(t),r=await n.getIdToken(e),i=Jp(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wa(lh(i.auth_time)),issuedAtTime:wa(lh(i.iat)),expirationTime:wa(lh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lh(t){return Number(t)*1e3}function Jp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Iu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Kw(n);return i?JSON.parse(i):(Iu("Failed to decode base64 JWT payload"),null)}catch(i){return Iu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Qy(t){const e=Jp(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ar&&zN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qa(t,lE(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?uE(s.providerUserInfo):[],l=HN(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new If(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function $N(t){const e=Mn(t);await pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uE(t){return t.map(e=>{var{providerId:n}=e,r=Qp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e){const n=await oE(t,{},async()=>{const r=pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=aE(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",sE.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KN(t,e){return wi(t,"POST","/v2/accounts:revokeToken",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=Qy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await WN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Gs;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gs,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new If(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qa(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UN(this,e)}reload(){return $N(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(vr(this.auth));const e=await this.getIdToken();return await qa(this,jN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,C=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,R=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:w,emailVerified:L,isAnonymous:z,providerData:k,stsTokenManager:E}=n;re(w&&E,e,"internal-error");const g=Gs.fromJSON(this.name,E);re(typeof w=="string",e,"internal-error"),Vr(p,e.name),Vr(m,e.name),re(typeof L=="boolean",e,"internal-error"),re(typeof z=="boolean",e,"internal-error"),Vr(C,e.name),Vr(R,e.name),Vr(N,e.name),Vr(M,e.name),Vr(T,e.name),Vr(v,e.name);const _=new mr({uid:w,auth:e,email:m,emailVerified:L,displayName:p,isAnonymous:z,photoURL:R,phoneNumber:C,tenantId:N,stsTokenManager:g,createdAt:T,lastLoginAt:v});return k&&Array.isArray(k)&&(_.providerData=k.map(S=>Object.assign({},S))),M&&(_._redirectEventId=M),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gs;i.updateFromServerResponse(n);const s=new mr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?uE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Gs;l.updateFromIdToken(r);const u=new mr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new If(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map;function gr(t){Rr(t instanceof Function,"Expected a class definition");let e=Yy.get(t);return e?(Rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cE.type="NONE";const Xy=cE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e,n){return`firebase:${t}:${e}:${n}`}class qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qs(gr(Xy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||gr(Xy);const o=Cu(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(o);if(f){const p=mr._fromJSON(e,f);c!==s&&(l=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new qs(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new qs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mE(e))return"Blackberry";if(gE(e))return"Webos";if(Zp(e))return"Safari";if((e.includes("chrome/")||hE(e))&&!e.includes("edge/"))return"Chrome";if(pE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dE(t=Tt()){return/firefox\//i.test(t)}function Zp(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hE(t=Tt()){return/crios\//i.test(t)}function fE(t=Tt()){return/iemobile/i.test(t)}function pE(t=Tt()){return/android/i.test(t)}function mE(t=Tt()){return/blackberry/i.test(t)}function gE(t=Tt()){return/webos/i.test(t)}function Zc(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GN(t=Tt()){var e;return Zc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qN(){return dx()&&document.documentMode===10}function yE(t=Tt()){return Zc(t)||pE(t)||gE(t)||mE(t)||/windows phone/i.test(t)||fE(t)}function QN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t,e=[]){let n;switch(t){case"Browser":n=Jy(Tt());break;case"Worker":n=`${Jy(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e={}){return wi(t,"GET","/v2/passwordPolicy",_i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=6;class ZN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zy(this),this.idTokenSubscription=new Zy(this),this.beforeStateQueue=new YN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await qs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lE(this,{idToken:e}),r=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(vr(this));const n=e?Mn(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XN(this),n=new ZN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cs(t){return Mn(t)}class Zy{constructor(e){this.auth=e,this.observer=null,this.addObserver=_x(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tD(t){ed=t}function _E(t){return ed.loadJS(t)}function nD(){return ed.recaptchaEnterpriseScript}function rD(){return ed.gapiScript}function iD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sD="recaptcha-enterprise",oD="NO_RECAPTCHA";class aD{constructor(e){this.type=sD,this.auth=cs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{FN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new VN(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;qy(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(oD)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&qy(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=nD();u.length!==0&&(u+=l),_E(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function ev(t,e,n,r=!1){const i=new aD(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Cf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ev(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ev(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e){const n=qp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(dc(s,e??{}))return i;Vn(i,"already-initialized")}return n.initialize({options:e})}function uD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cD(t,e,n){const r=cs(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=wE(e),{host:o,port:l}=dD(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),hD()}function wE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dD(t){const e=wE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:tv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:tv(o)}}}function tv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function fD(t,e){return wi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e){return gl(t,"POST","/v1/accounts:signInWithPassword",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,e){return gl(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}async function gD(t,e){return gl(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends em{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,n,"signInWithPassword",pD);case"emailLink":return mD(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,r,"signUpPassword",fD);case"emailLink":return gD(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t,e){return gl(t,"POST","/v1/accounts:signInWithIdp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="http://localhost";class ts extends em{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Qp(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ts(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qs(e,n)}buildRequest(){const e={requestUri:yD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _D(t){const e=aa(la(t)).link,n=e?aa(la(e)).deep_link_id:null,r=aa(la(t)).deep_link_id;return(r?aa(la(r)).link:null)||r||n||e||t}class tm{constructor(e){var n,r,i,s,o,l;const u=aa(la(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,p=vD((i=u.mode)!==null&&i!==void 0?i:null);re(c&&f&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=_D(e);try{return new tm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,n){return Qa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=tm.parseLink(n);return re(r,"argument-error"),Qa._fromEmailAndCode(e,r.code,r.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends EE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends yl{constructor(){super("facebook.com")}static credential(e){return ts._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ts._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends yl{constructor(){super("github.com")}static credential(e){return ts._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends yl{constructor(){super("twitter.com")}static credential(e,n){return ts._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e){return gl(t,"POST","/v1/accounts:signUp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await mr._fromIdTokenResponse(e,r,i),o=nv(r);return new ns({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=nv(r);return new ns({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function nv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Ar{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mc(e,n,r,i)}}function TE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mc._fromErrorAndOperation(t,s,e,r):s})}async function ED(t,e,n=!1){const r=await qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ns._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e,n=!1){const{auth:r}=t;if(Gn(r.app))return Promise.reject(vr(r));const i="reauthenticate";try{const s=await qa(t,TE(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=Jp(s.idToken);re(o,r,"internal-error");const{sub:l}=o;return re(t.uid===l,r,"user-mismatch"),ns._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SE(t,e,n=!1){if(Gn(t.app))return Promise.reject(vr(t));const r="signIn",i=await TE(t,r,e),s=await ns._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function SD(t,e){return SE(cs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(t){const e=cs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ID(t,e,n){if(Gn(t.app))return Promise.reject(vr(t));const r=cs(t),o=await Cf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&IE(t),u}),l=await ns._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function CD(t,e,n){return Gn(t.app)?Promise.reject(vr(t)):SD(Mn(t),yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IE(t),r})}function RD(t,e,n,r){return Mn(t).onIdTokenChanged(e,n,r)}function PD(t,e,n){return Mn(t).beforeAuthStateChanged(e,n)}const gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gc,"1"),this.storage.removeItem(gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){const t=Tt();return Zp(t)||Zc(t)}const kD=1e3,xD=10;class RE extends CE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=AD()&&QN(),this.fallbackToPolling=yE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);qN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RE.type="LOCAL";const ND=RE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends CE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PE.type="SESSION";const AE=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new td(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await DD(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=nm("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function LD(t){Jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function bD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VD(){return kE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firebaseLocalStorageDb",FD=1,yc="firebaseLocalStorage",NE="fbase_key";class vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nd(t,e){return t.transaction([yc],e?"readwrite":"readonly").objectStore(yc)}function jD(){const t=indexedDB.deleteDatabase(xE);return new vl(t).toPromise()}function Rf(){const t=indexedDB.open(xE,FD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yc,{keyPath:NE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yc)?e(r):(r.close(),await jD(),e(await Rf()))})})}async function rv(t,e,n){const r=nd(t,!0).put({[NE]:e,value:n});return new vl(r).toPromise()}async function UD(t,e){const n=nd(t,!1).get(e),r=await new vl(n).toPromise();return r===void 0?null:r.value}function iv(t,e){const n=nd(t,!0).delete(e);return new vl(n).toPromise()}const zD=800,BD=3;class DE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(VD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bD(),!this.activeServiceWorker)return;this.sender=new OD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rf();return await rv(e,gc,"1"),await iv(e,gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=nd(i,!1).getAll();return new vl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DE.type="LOCAL";const $D=DE;new ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e){return e?gr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends em{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WD(t){return SE(t.auth,new rm(t),t.bypassAuthState)}function KD(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),TD(n,new rm(t),t.bypassAuthState)}async function GD(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),ED(n,new rm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return KD;default:Vn(this.auth,"internal-error")}}resolve(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new ml(2e3,1e4);class Us extends OE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Rr(this.filter.length===1,"Popup operations only handle one event");const e=nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qD.get())};e()}}Us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="pendingRedirect",Ru=new Map;class YD extends OE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ru.get(this.auth._key());if(!e){try{const r=await XD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ru.set(this.auth._key(),e)}return this.bypassAuthState||Ru.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XD(t,e){const n=e2(e),r=ZD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function JD(t,e){Ru.set(t._key(),e)}function ZD(t){return gr(t._redirectPersistence)}function e2(t){return Cu(QD,t.config.apiKey,t.name)}async function t2(t,e,n=!1){if(Gn(t.app))return Promise.reject(vr(t));const r=cs(t),i=HD(r,e),o=await new YD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=10*60*1e3;class r2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n2&&this.cachedEventUids.clear(),this.cachedEventUids.has(sv(e))}saveEventToCache(e){this.cachedEventUids.add(sv(e)),this.lastProcessedEventTime=Date.now()}}function sv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t,e={}){return wi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a2=/^https?/;async function l2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s2(t);for(const n of e)try{if(u2(n))return}catch{}Vn(t,"unauthorized-domain")}function u2(t){const e=Sf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a2.test(n))return!1;if(o2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new ml(3e4,6e4);function ov(){const t=Jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d2(t){return new Promise((e,n)=>{var r,i,s;function o(){ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ov(),n(Xn(t,"network-request-failed"))},timeout:c2.get()})}if(!((i=(r=Jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jn().gapi)===null||s===void 0)&&s.load)o();else{const l=iD("iframefcb");return Jn()[l]=()=>{gapi.load?o():n(Xn(t,"network-request-failed"))},_E(`${rD()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Pu=null,e})}let Pu=null;function h2(t){return Pu=Pu||d2(t),Pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new ml(5e3,15e3),p2="__/auth/iframe",m2="emulator/auth/iframe",g2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v2(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xp(e,m2):`https://${t.config.authDomain}/${p2}`,r={apiKey:e.apiKey,appName:t.name,v:go},i=y2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pl(r).slice(1)}`}async function _2(t){const e=await h2(t),n=Jn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:v2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xn(t,"network-request-failed"),l=Jn().setTimeout(()=>{s(o)},f2.get());function u(){Jn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E2=500,T2=600,S2="_blank",I2="http://localhost";class av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C2(t,e,n,r=E2,i=T2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},w2),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Tt().toLowerCase();n&&(l=hE(c)?S2:n),dE(c)&&(e=e||I2,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[C,R])=>`${m}${C}=${R},`,"");if(GN(c)&&l!=="_self")return R2(e||"",l),new av(null);const p=window.open(e||"",l,f);re(p,t,"popup-blocked");try{p.focus()}catch{}return new av(p)}function R2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="__/auth/handler",A2="emulator/auth/handler",k2=encodeURIComponent("fac");async function lv(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:go,eventId:i};if(e instanceof EE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof yl){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${k2}=${encodeURIComponent(u)}`:"";return`${x2(t)}?${pl(l).slice(1)}${c}`}function x2({config:t}){return t.emulator?Xp(t,A2):`https://${t.authDomain}/${P2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="webStorageSupport";class N2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AE,this._completeRedirectFn=t2,this._overrideRedirectResult=JD}async _openPopup(e,n,r,i){var s;Rr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lv(e,n,r,Sf(),i);return C2(e,o,nm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await lv(e,n,r,Sf(),i);return LD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _2(e),r=new r2(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uh,{type:uh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[uh];o!==void 0&&n(!!o),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yE()||Zp()||Zc()}}const D2=N2;var uv="@firebase/auth",cv="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b2(t){oo(new Zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vE(t)},c=new eD(r,i,s,u);return uD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oo(new Zi("auth-internal",e=>{const n=cs(e.getProvider("auth").getImmediate());return(r=>new O2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(uv,cv,L2(t)),si(uv,cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=5*60,V2=Qw("authIdTokenMaxAge")||M2;let dv=null;const F2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V2)return;const i=n==null?void 0:n.token;dv!==i&&(dv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j2(t=Zw()){const e=qp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lD(t,{popupRedirectResolver:D2,persistence:[$D,ND,AE]}),r=Qw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=F2(s.toString());PD(n,o,()=>o(n.currentUser)),RD(n,l=>o(l))}}const i=Gw("auth");return i&&cD(n,`http://${i}`),n}function U2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",U2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b2("Browser");var z2="firebase",B2="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(z2,B2,"app");var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,g){function _(){}_.prototype=g.prototype,E.D=g.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(S,P,O){for(var I=Array(arguments.length-2),de=2;de<arguments.length;de++)I[de-2]=arguments[de];return g.prototype[P].apply(S,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,g,_){_||(_=0);var S=Array(16);if(typeof g=="string")for(var P=0;16>P;++P)S[P]=g.charCodeAt(_++)|g.charCodeAt(_++)<<8|g.charCodeAt(_++)<<16|g.charCodeAt(_++)<<24;else for(P=0;16>P;++P)S[P]=g[_++]|g[_++]<<8|g[_++]<<16|g[_++]<<24;g=E.g[0],_=E.g[1],P=E.g[2];var O=E.g[3],I=g+(O^_&(P^O))+S[0]+3614090360&4294967295;g=_+(I<<7&4294967295|I>>>25),I=O+(P^g&(_^P))+S[1]+3905402710&4294967295,O=g+(I<<12&4294967295|I>>>20),I=P+(_^O&(g^_))+S[2]+606105819&4294967295,P=O+(I<<17&4294967295|I>>>15),I=_+(g^P&(O^g))+S[3]+3250441966&4294967295,_=P+(I<<22&4294967295|I>>>10),I=g+(O^_&(P^O))+S[4]+4118548399&4294967295,g=_+(I<<7&4294967295|I>>>25),I=O+(P^g&(_^P))+S[5]+1200080426&4294967295,O=g+(I<<12&4294967295|I>>>20),I=P+(_^O&(g^_))+S[6]+2821735955&4294967295,P=O+(I<<17&4294967295|I>>>15),I=_+(g^P&(O^g))+S[7]+4249261313&4294967295,_=P+(I<<22&4294967295|I>>>10),I=g+(O^_&(P^O))+S[8]+1770035416&4294967295,g=_+(I<<7&4294967295|I>>>25),I=O+(P^g&(_^P))+S[9]+2336552879&4294967295,O=g+(I<<12&4294967295|I>>>20),I=P+(_^O&(g^_))+S[10]+4294925233&4294967295,P=O+(I<<17&4294967295|I>>>15),I=_+(g^P&(O^g))+S[11]+2304563134&4294967295,_=P+(I<<22&4294967295|I>>>10),I=g+(O^_&(P^O))+S[12]+1804603682&4294967295,g=_+(I<<7&4294967295|I>>>25),I=O+(P^g&(_^P))+S[13]+4254626195&4294967295,O=g+(I<<12&4294967295|I>>>20),I=P+(_^O&(g^_))+S[14]+2792965006&4294967295,P=O+(I<<17&4294967295|I>>>15),I=_+(g^P&(O^g))+S[15]+1236535329&4294967295,_=P+(I<<22&4294967295|I>>>10),I=g+(P^O&(_^P))+S[1]+4129170786&4294967295,g=_+(I<<5&4294967295|I>>>27),I=O+(_^P&(g^_))+S[6]+3225465664&4294967295,O=g+(I<<9&4294967295|I>>>23),I=P+(g^_&(O^g))+S[11]+643717713&4294967295,P=O+(I<<14&4294967295|I>>>18),I=_+(O^g&(P^O))+S[0]+3921069994&4294967295,_=P+(I<<20&4294967295|I>>>12),I=g+(P^O&(_^P))+S[5]+3593408605&4294967295,g=_+(I<<5&4294967295|I>>>27),I=O+(_^P&(g^_))+S[10]+38016083&4294967295,O=g+(I<<9&4294967295|I>>>23),I=P+(g^_&(O^g))+S[15]+3634488961&4294967295,P=O+(I<<14&4294967295|I>>>18),I=_+(O^g&(P^O))+S[4]+3889429448&4294967295,_=P+(I<<20&4294967295|I>>>12),I=g+(P^O&(_^P))+S[9]+568446438&4294967295,g=_+(I<<5&4294967295|I>>>27),I=O+(_^P&(g^_))+S[14]+3275163606&4294967295,O=g+(I<<9&4294967295|I>>>23),I=P+(g^_&(O^g))+S[3]+4107603335&4294967295,P=O+(I<<14&4294967295|I>>>18),I=_+(O^g&(P^O))+S[8]+1163531501&4294967295,_=P+(I<<20&4294967295|I>>>12),I=g+(P^O&(_^P))+S[13]+2850285829&4294967295,g=_+(I<<5&4294967295|I>>>27),I=O+(_^P&(g^_))+S[2]+4243563512&4294967295,O=g+(I<<9&4294967295|I>>>23),I=P+(g^_&(O^g))+S[7]+1735328473&4294967295,P=O+(I<<14&4294967295|I>>>18),I=_+(O^g&(P^O))+S[12]+2368359562&4294967295,_=P+(I<<20&4294967295|I>>>12),I=g+(_^P^O)+S[5]+4294588738&4294967295,g=_+(I<<4&4294967295|I>>>28),I=O+(g^_^P)+S[8]+2272392833&4294967295,O=g+(I<<11&4294967295|I>>>21),I=P+(O^g^_)+S[11]+1839030562&4294967295,P=O+(I<<16&4294967295|I>>>16),I=_+(P^O^g)+S[14]+4259657740&4294967295,_=P+(I<<23&4294967295|I>>>9),I=g+(_^P^O)+S[1]+2763975236&4294967295,g=_+(I<<4&4294967295|I>>>28),I=O+(g^_^P)+S[4]+1272893353&4294967295,O=g+(I<<11&4294967295|I>>>21),I=P+(O^g^_)+S[7]+4139469664&4294967295,P=O+(I<<16&4294967295|I>>>16),I=_+(P^O^g)+S[10]+3200236656&4294967295,_=P+(I<<23&4294967295|I>>>9),I=g+(_^P^O)+S[13]+681279174&4294967295,g=_+(I<<4&4294967295|I>>>28),I=O+(g^_^P)+S[0]+3936430074&4294967295,O=g+(I<<11&4294967295|I>>>21),I=P+(O^g^_)+S[3]+3572445317&4294967295,P=O+(I<<16&4294967295|I>>>16),I=_+(P^O^g)+S[6]+76029189&4294967295,_=P+(I<<23&4294967295|I>>>9),I=g+(_^P^O)+S[9]+3654602809&4294967295,g=_+(I<<4&4294967295|I>>>28),I=O+(g^_^P)+S[12]+3873151461&4294967295,O=g+(I<<11&4294967295|I>>>21),I=P+(O^g^_)+S[15]+530742520&4294967295,P=O+(I<<16&4294967295|I>>>16),I=_+(P^O^g)+S[2]+3299628645&4294967295,_=P+(I<<23&4294967295|I>>>9),I=g+(P^(_|~O))+S[0]+4096336452&4294967295,g=_+(I<<6&4294967295|I>>>26),I=O+(_^(g|~P))+S[7]+1126891415&4294967295,O=g+(I<<10&4294967295|I>>>22),I=P+(g^(O|~_))+S[14]+2878612391&4294967295,P=O+(I<<15&4294967295|I>>>17),I=_+(O^(P|~g))+S[5]+4237533241&4294967295,_=P+(I<<21&4294967295|I>>>11),I=g+(P^(_|~O))+S[12]+1700485571&4294967295,g=_+(I<<6&4294967295|I>>>26),I=O+(_^(g|~P))+S[3]+2399980690&4294967295,O=g+(I<<10&4294967295|I>>>22),I=P+(g^(O|~_))+S[10]+4293915773&4294967295,P=O+(I<<15&4294967295|I>>>17),I=_+(O^(P|~g))+S[1]+2240044497&4294967295,_=P+(I<<21&4294967295|I>>>11),I=g+(P^(_|~O))+S[8]+1873313359&4294967295,g=_+(I<<6&4294967295|I>>>26),I=O+(_^(g|~P))+S[15]+4264355552&4294967295,O=g+(I<<10&4294967295|I>>>22),I=P+(g^(O|~_))+S[6]+2734768916&4294967295,P=O+(I<<15&4294967295|I>>>17),I=_+(O^(P|~g))+S[13]+1309151649&4294967295,_=P+(I<<21&4294967295|I>>>11),I=g+(P^(_|~O))+S[4]+4149444226&4294967295,g=_+(I<<6&4294967295|I>>>26),I=O+(_^(g|~P))+S[11]+3174756917&4294967295,O=g+(I<<10&4294967295|I>>>22),I=P+(g^(O|~_))+S[2]+718787259&4294967295,P=O+(I<<15&4294967295|I>>>17),I=_+(O^(P|~g))+S[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+O&4294967295}r.prototype.u=function(E,g){g===void 0&&(g=E.length);for(var _=g-this.blockSize,S=this.B,P=this.h,O=0;O<g;){if(P==0)for(;O<=_;)i(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<g;)if(S[P++]=E.charCodeAt(O++),P==this.blockSize){i(this,S),P=0;break}}else for(;O<g;)if(S[P++]=E[O++],P==this.blockSize){i(this,S),P=0;break}}this.h=P,this.o+=g},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;var _=8*this.o;for(g=E.length-8;g<E.length;++g)E[g]=_&255,_/=256;for(this.u(E),E=Array(16),g=_=0;4>g;++g)for(var S=0;32>S;S+=8)E[_++]=this.g[g]>>>S&255;return E};function s(E,g){var _=l;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=g(E)}function o(E,g){this.h=g;for(var _=[],S=!0,P=E.length-1;0<=P;P--){var O=E[P]|0;S&&O==g||(_[P]=O,S=!1)}this.g=_}var l={};function u(E){return-128<=E&&128>E?s(E,function(g){return new o([g|0],0>g?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return M(c(-E));for(var g=[],_=1,S=0;E>=_;S++)g[S]=E/_|0,_*=4294967296;return new o(g,0)}function f(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return M(f(E.substring(1),g));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(g,8)),S=p,P=0;P<E.length;P+=8){var O=Math.min(8,E.length-P),I=parseInt(E.substring(P,P+O),g);8>O?(O=c(Math.pow(g,O)),S=S.j(O).add(c(I))):(S=S.j(_),S=S.add(c(I)))}return S}var p=u(0),m=u(1),C=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-M(this).m();for(var E=0,g=1,_=0;_<this.g.length;_++){var S=this.i(_);E+=(0<=S?S:4294967296+S)*g,g*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(R(this))return"0";if(N(this))return"-"+M(this).toString(E);for(var g=c(Math.pow(E,6)),_=this,S="";;){var P=L(_,g).g;_=T(_,P.j(g));var O=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=P,R(_))return O+S;for(;6>O.length;)O="0"+O;S=O+S}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function R(E){if(E.h!=0)return!1;for(var g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=T(this,E),N(E)?-1:R(E)?0:1};function M(E){for(var g=E.g.length,_=[],S=0;S<g;S++)_[S]=~E.g[S];return new o(_,~E.h).add(m)}t.abs=function(){return N(this)?M(this):this},t.add=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],S=0,P=0;P<=g;P++){var O=S+(this.i(P)&65535)+(E.i(P)&65535),I=(O>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);S=I>>>16,O&=65535,I&=65535,_[P]=I<<16|O}return new o(_,_[_.length-1]&-2147483648?-1:0)};function T(E,g){return E.add(M(g))}t.j=function(E){if(R(this)||R(E))return p;if(N(this))return N(E)?M(this).j(M(E)):M(M(this).j(E));if(N(E))return M(this.j(M(E)));if(0>this.l(C)&&0>E.l(C))return c(this.m()*E.m());for(var g=this.g.length+E.g.length,_=[],S=0;S<2*g;S++)_[S]=0;for(S=0;S<this.g.length;S++)for(var P=0;P<E.g.length;P++){var O=this.i(S)>>>16,I=this.i(S)&65535,de=E.i(P)>>>16,St=E.i(P)&65535;_[2*S+2*P]+=I*St,v(_,2*S+2*P),_[2*S+2*P+1]+=O*St,v(_,2*S+2*P+1),_[2*S+2*P+1]+=I*de,v(_,2*S+2*P+1),_[2*S+2*P+2]+=O*de,v(_,2*S+2*P+2)}for(S=0;S<g;S++)_[S]=_[2*S+1]<<16|_[2*S];for(S=g;S<2*g;S++)_[S]=0;return new o(_,0)};function v(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function w(E,g){this.g=E,this.h=g}function L(E,g){if(R(g))throw Error("division by zero");if(R(E))return new w(p,p);if(N(E))return g=L(M(E),g),new w(M(g.g),M(g.h));if(N(g))return g=L(E,M(g)),new w(M(g.g),g.h);if(30<E.g.length){if(N(E)||N(g))throw Error("slowDivide_ only works with positive integers.");for(var _=m,S=g;0>=S.l(E);)_=z(_),S=z(S);var P=k(_,1),O=k(S,1);for(S=k(S,2),_=k(_,2);!R(S);){var I=O.add(S);0>=I.l(E)&&(P=P.add(_),O=I),S=k(S,1),_=k(_,1)}return g=T(E,P.j(g)),new w(P,g)}for(P=p;0<=E.l(g);){for(_=Math.max(1,Math.floor(E.m()/g.m())),S=Math.ceil(Math.log(_)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),O=c(_),I=O.j(g);N(I)||0<I.l(E);)_-=S,O=c(_),I=O.j(g);R(O)&&(O=m),P=P.add(O),E=T(E,I)}return new w(P,E)}t.A=function(E){return L(this,E).h},t.and=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],S=0;S<g;S++)_[S]=this.i(S)&E.i(S);return new o(_,this.h&E.h)},t.or=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],S=0;S<g;S++)_[S]=this.i(S)|E.i(S);return new o(_,this.h|E.h)},t.xor=function(E){for(var g=Math.max(this.g.length,E.g.length),_=[],S=0;S<g;S++)_[S]=this.i(S)^E.i(S);return new o(_,this.h^E.h)};function z(E){for(var g=E.g.length+1,_=[],S=0;S<g;S++)_[S]=E.i(S)<<1|E.i(S-1)>>>31;return new o(_,E.h)}function k(E,g){var _=g>>5;g%=32;for(var S=E.g.length-_,P=[],O=0;O<S;O++)P[O]=0<g?E.i(O+_)>>>g|E.i(O+_+1)<<32-g:E.i(O+_);return new o(P,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,bE=o}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ME,VE,ua,FE,Au,Pf,jE,UE,zE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof su=="object"&&su];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var b=a[y];if(!(b in h))break e;h=h[b]}a=a[a.length-1],y=h[a],d=d(y),d!=y&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,y=!1,b={next:function(){if(!y&&h<a.length){var F=h++;return{value:d(F,a[F]),done:!1}}return y=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,y),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function C(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var y=h.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function R(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(y,b,F){for(var K=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)K[Ae-2]=arguments[Ae];return d.prototype[b].apply(y,K)}}function N(a){const d=a.length;if(0<d){const h=Array(d);for(let y=0;y<d;y++)h[y]=a[y];return h}return[]}function M(a,d){for(let h=1;h<arguments.length;h++){const y=arguments[h];if(u(y)){const b=a.length||0,F=y.length||0;a.length=b+F;for(let K=0;K<F;K++)a[b+K]=y[K]}else a.push(y)}}class T{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function v(a){return/^[\s\xa0]*$/.test(a)}function w(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function L(a){return L[" "](a),a}L[" "]=function(){};var z=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function k(a,d,h){for(const y in a)d.call(h,a[y],y,a)}function E(a,d){for(const h in a)d.call(void 0,a[h],h,a)}function g(a){const d={};for(const h in a)d[h]=a[h];return d}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(a,d){let h,y;for(let b=1;b<arguments.length;b++){y=arguments[b];for(h in y)a[h]=y[h];for(let F=0;F<_.length;F++)h=_[F],Object.prototype.hasOwnProperty.call(y,h)&&(a[h]=y[h])}}function P(a){var d=1;a=a.split(":");const h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function O(a){l.setTimeout(()=>{throw a},0)}function I(){var a=ee;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class de{constructor(){this.h=this.g=null}add(d,h){const y=St.get();y.set(d,h),this.h?this.h.next=y:this.g=y,this.h=y}}var St=new T(()=>new Fn,a=>a.reset());class Fn{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,q=!1,ee=new de,ne=()=>{const a=l.Promise.resolve(void 0);Ee=()=>{a.then(ye)}};var ye=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(h){O(h)}var d=St;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}q=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var Ze=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const h=()=>{};l.addEventListener("test",h,d),l.removeEventListener("test",h,d)}catch{}return a}();function dt(a,d){if(Pe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(z){e:{try{L(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ht[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&dt.aa.h.call(this)}}R(dt,Pe);var ht={2:"touch",3:"pen",4:"mouse"};dt.prototype.h=function(){dt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var vn="closure_listenable_"+(1e6*Math.random()|0),wo=0;function dd(a,d,h,y,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!y,this.ha=b,this.key=++wo,this.da=this.fa=!1}function hs(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function fs(a){this.src=a,this.g={},this.h=0}fs.prototype.add=function(a,d,h,y,b){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var K=jn(a,d,y,b);return-1<K?(d=a[K],h||(d.fa=!1)):(d=new dd(d,this.src,F,!!y,b),d.fa=h,a.push(d)),d};function et(a,d){var h=d.type;if(h in a.g){var y=a.g[h],b=Array.prototype.indexOf.call(y,d,void 0),F;(F=0<=b)&&Array.prototype.splice.call(y,b,1),F&&(hs(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function jn(a,d,h,y){for(var b=0;b<a.length;++b){var F=a[b];if(!F.da&&F.listener==d&&F.capture==!!h&&F.ha==y)return b}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),Eo={};function Un(a,d,h,y,b){if(Array.isArray(d)){for(var F=0;F<d.length;F++)Un(a,d[F],h,y,b);return null}return h=kr(h),a&&a[vn]?a.K(d,h,c(y)?!!y.capture:!!y,b):hd(a,d,h,!1,y,b)}function hd(a,d,h,y,b,F){if(!d)throw Error("Invalid event type");var K=c(b)?!!b.capture:!!b,Ae=Io(a);if(Ae||(a[ps]=Ae=new fs(a)),h=Ae.add(d,h,y,K,F),h.proxy)return h;if(y=fd(),h.proxy=y,y.src=a,y.listener=h,a.addEventListener)Ze||(b=K),b===void 0&&(b=!1),a.addEventListener(d.toString(),y,b);else if(a.attachEvent)a.attachEvent(Sl(d.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return h}function fd(){function a(h){return d.call(a.src,a.listener,h)}const d=pd;return a}function To(a,d,h,y,b){if(Array.isArray(d))for(var F=0;F<d.length;F++)To(a,d[F],h,y,b);else y=c(y)?!!y.capture:!!y,h=kr(h),a&&a[vn]?(a=a.i,d=String(d).toString(),d in a.g&&(F=a.g[d],h=jn(F,h,y,b),-1<h&&(hs(F[h]),Array.prototype.splice.call(F,h,1),F.length==0&&(delete a.g[d],a.h--)))):a&&(a=Io(a))&&(d=a.g[d.toString()],a=-1,d&&(a=jn(d,h,y,b)),(h=-1<a?d[a]:null)&&So(h))}function So(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[vn])et(d.i,a);else{var h=a.type,y=a.proxy;d.removeEventListener?d.removeEventListener(h,y,a.capture):d.detachEvent?d.detachEvent(Sl(h),y):d.addListener&&d.removeListener&&d.removeListener(y),(h=Io(d))?(et(h,a),h.h==0&&(h.src=null,d[ps]=null)):hs(a)}}}function Sl(a){return a in Eo?Eo[a]:Eo[a]="on"+a}function pd(a,d){if(a.da)a=!0;else{d=new dt(d,this);var h=a.listener,y=a.ha||a.src;a.fa&&So(a),a=h.call(y,d)}return a}function Io(a){return a=a[ps],a instanceof fs?a:null}var rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function kr(a){return typeof a=="function"?a:(a[rr]||(a[rr]=function(d){return a.handleEvent(d)}),a[rr])}function tt(){pe.call(this),this.i=new fs(this),this.M=this,this.F=null}R(tt,pe),tt.prototype[vn]=!0,tt.prototype.removeEventListener=function(a,d,h,y){To(this,a,d,h,y)};function nt(a,d){var h,y=a.F;if(y)for(h=[];y;y=y.F)h.push(y);if(a=a.M,y=d.type||d,typeof d=="string")d=new Pe(d,a);else if(d instanceof Pe)d.target=d.target||a;else{var b=d;d=new Pe(y,a),S(d,b)}if(b=!0,h)for(var F=h.length-1;0<=F;F--){var K=d.g=h[F];b=Qt(K,y,!0,d)&&b}if(K=d.g=a,b=Qt(K,y,!0,d)&&b,b=Qt(K,y,!1,d)&&b,h)for(F=0;F<h.length;F++)K=d.g=h[F],b=Qt(K,y,!1,d)&&b}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],y=0;y<h.length;y++)hs(h[y]);delete a.g[d],a.h--}}this.F=null},tt.prototype.K=function(a,d,h,y){return this.i.add(String(a),d,!1,h,y)},tt.prototype.L=function(a,d,h,y){return this.i.add(String(a),d,!0,h,y)};function Qt(a,d,h,y){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,F=0;F<d.length;++F){var K=d[F];if(K&&!K.da&&K.capture==h){var Ae=K.listener,pt=K.ha||K.src;K.fa&&et(a.i,K),b=Ae.call(pt,y)!==!1&&b}}return b&&!y.defaultPrevented}function cn(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Co(a){a.g=cn(()=>{a.g=null,a.i&&(a.i=!1,Co(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class ms extends pe{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Co(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(a){pe.call(this),this.h=a,this.g={}}R(Ei,pe);var _n=[];function Ro(a){k(a.g,function(d,h){this.g.hasOwnProperty(h)&&So(d)},a),a.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),Ro(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=l.JSON.stringify,Il=l.JSON.parse,md=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function ys(){}ys.prototype.h=null;function Ti(a){return a.h||(a.h=a.i())}function Po(){}var ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){Pe.call(this,"d")}R(xr,Pe);function Si(){Pe.call(this,"c")}R(Si,Pe);var sr={},Ao=null;function vs(){return Ao=Ao||new tt}sr.La="serverreachability";function ko(a){Pe.call(this,sr.La,a)}R(ko,Pe);function zn(a){const d=vs();nt(d,new ko(d))}sr.STAT_EVENT="statevent";function Ii(a,d){Pe.call(this,sr.STAT_EVENT,a),this.stat=d}R(Ii,Pe);function ft(a){const d=vs();nt(d,new Ii(d,a))}sr.Ma="timingevent";function Cl(a,d){Pe.call(this,sr.Ma,a),this.size=d}R(Cl,Pe);function A(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function D(){this.g=!0}D.prototype.xa=function(){this.g=!1};function V(a,d,h,y,b,F){a.info(function(){if(a.g)if(F)for(var K="",Ae=F.split("&"),pt=0;pt<Ae.length;pt++){var we=Ae[pt].split("=");if(1<we.length){var Rt=we[0];we=we[1];var Pt=Rt.split("_");K=2<=Pt.length&&Pt[1]=="type"?K+(Rt+"="+we+"&"):K+(Rt+"=redacted&")}}else K=null;else K=F;return"XMLHTTP REQ ("+y+") [attempt "+b+"]: "+d+`
`+h+`
`+K})}function U(a,d,h,y,b,F,K){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+b+"]: "+d+`
`+h+`
`+F+" "+K})}function G(a,d,h,y){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+te(a,h)+(y?" "+y:"")})}function Y(a,d){a.info(function(){return"TIMEOUT: "+d})}D.prototype.info=function(){};function te(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var y=h[a];if(!(2>y.length)){var b=y[1];if(Array.isArray(b)&&!(1>b.length)){var F=b[0];if(F!="noop"&&F!="stop"&&F!="close")for(var K=1;K<b.length;K++)b[K]=""}}}}return gs(h)}catch{return d}}var W={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},X;function J(){}R(J,ys),J.prototype.g=function(){return new XMLHttpRequest},J.prototype.i=function(){return{}},X=new J;function ue(a,d,h,y){this.j=a,this.i=d,this.l=h,this.R=y||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var Te={},me={};function Ge(a,d,h){a.L=1,a.v=kl(ar(d)),a.m=h,a.P=!0,Ue(a,null)}function Ue(a,d){a.F=Date.now(),wn(a),a.A=ar(a.v);var h=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),Rm(h.i,"t",y),a.C=0,h=a.j.J,a.h=new _e,a.g=Hm(a.j,h?d:null,!a.m),0<a.O&&(a.M=new ms(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,y=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(_n[0]=b.toString()),b=_n);for(var F=0;F<b.length;F++){var K=Un(h,b[F],y||d.handleEvent,!1,d.h||d);if(!K)break;d.g[K.key]=K}d=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),zn(),V(a.i,a.u,a.A,a.l,a.R,a.m)}ue.prototype.ca=function(a){a=a.target;const d=this.M;d&&lr(a)==3?d.j():this.Y(a)},ue.prototype.Y=function(a){try{if(a==this.g)e:{const Pt=lr(this.g);var d=this.g.Ba();const Ts=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Om(this.g)))){this.J||Pt!=4||d==7||(d==8||0>=Ts?zn(3):zn(2)),$n(this);var h=this.g.Z();this.X=h;t:if(Nr(this)){var y=Om(this.g);a="";var b=y.length,F=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),It(this);var K="";break t}this.h.i=new l.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(y[d],{stream:!(F&&d==b-1)});y.length=0,this.h.g+=a,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=h==200,U(this.i,this.u,this.A,this.l,this.R,Pt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,pt=this.g;if((Ae=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ae)){var we=Ae;break t}}we=null}if(h=we)G(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dr(this,h);else{this.o=!1,this.s=3,ft(12),dn(this),It(this);break e}}if(this.P){h=!0;let En;for(;!this.J&&this.C<K.length;)if(En=Bn(this,K),En==me){Pt==4&&(this.s=4,ft(14),h=!1),G(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Te){this.s=4,ft(15),G(this.i,this.l,K,"[Invalid Chunk]"),h=!1;break}else G(this.i,this.l,En,null),Dr(this,En);if(Nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||K.length!=0||this.h.h||(this.s=1,ft(16),h=!1),this.o=this.o&&h,!h)G(this.i,this.l,K,"[Invalid Chunked Response]"),dn(this),It(this);else if(0<K.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),_d(Rt),Rt.M=!0,ft(11))}}else G(this.i,this.l,K,null),Dr(this,K);Pt==4&&dn(this),this.o&&!this.J&&(Pt==4?Um(this.j,this):(this.o=!1,wn(this)))}else eT(this.g),h==400&&0<K.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),dn(this),It(this)}}}catch{}finally{}};function Nr(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Bn(a,d){var h=a.C,y=d.indexOf(`
`,h);return y==-1?me:(h=Number(d.substring(h,y)),isNaN(h)?Te:(y+=1,y+h>d.length?me:(d=d.slice(y,y+h),a.C=y+h,d)))}ue.prototype.cancel=function(){this.J=!0,dn(this)};function wn(a){a.S=Date.now()+a.I,or(a,a.I)}function or(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=A(m(a.ba,a),d)}function $n(a){a.B&&(l.clearTimeout(a.B),a.B=null)}ue.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Y(this.i,this.A),this.L!=2&&(zn(),ft(17)),dn(this),this.s=2,It(this)):or(this,this.S-a)};function It(a){a.j.G==0||a.J||Um(a.j,a)}function dn(a){$n(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Ro(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Dr(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Ce(h.h,a))){if(!a.K&&Ce(h.h,a)&&h.G==3){try{var y=h.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var b=y;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ll(h),Dl(h);else break e;vd(h),ft(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=A(m(h.Za,h),6e3));if(1>=Ct(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Ri(h,11)}else if((a.K||h.g==a)&&Ll(h),!v(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let we=b[d];if(h.T=we[0],we=we[1],h.G==2)if(we[0]=="c"){h.K=we[1],h.ia=we[2];const Rt=we[3];Rt!=null&&(h.la=Rt,h.j.info("VER="+h.la));const Pt=we[4];Pt!=null&&(h.Aa=Pt,h.j.info("SVER="+h.Aa));const Ts=we[5];Ts!=null&&typeof Ts=="number"&&0<Ts&&(y=1.5*Ts,h.L=y,h.j.info("backChannelRequestTimeoutMs_="+y)),y=h;const En=a.g;if(En){const Ml=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var F=y.h;F.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Yt(F,F.h),F.h=null))}if(y.D){const wd=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;wd&&(y.ya=wd,be(y.I,y.D,wd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),y=h;var K=a;if(y.qa=$m(y,y.J?y.ia:null,y.W),K.K){xo(y.h,K);var Ae=K,pt=y.L;pt&&(Ae.I=pt),Ae.B&&($n(Ae),wn(Ae)),y.g=K}else Fm(y);0<h.i.length&&Ol(h)}else we[0]!="stop"&&we[0]!="close"||Ri(h,7);else h.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Ri(h,7):yd(h):we[0]!="noop"&&h.l&&h.l.ta(we),h.v=0)}}zn(4)}catch{}}var _s=class{constructor(a,d){this.g=a,this.map=d}};function oe(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Le(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ct(a){return a.h?1:a.g?a.g.size:0}function Ce(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Yt(a,d){a.g?a.g.add(d):a.h=d}function xo(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}oe.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Rl(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function j1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,y=0;y<h;y++)d.push(a[y]);return d}d=[],h=0;for(y in a)d[h++]=a[y];return d}function U1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(const y in a)d[h++]=y;return d}}}function wm(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=U1(a),y=j1(a),b=y.length,F=0;F<b;F++)d.call(void 0,y[F],h&&h[F],a)}var Em=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function z1(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var y=a[h].indexOf("="),b=null;if(0<=y){var F=a[h].substring(0,y);b=a[h].substring(y+1)}else F=a[h];d(F,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Ci(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ci){this.h=a.h,Pl(this,a.j),this.o=a.o,this.g=a.g,Al(this,a.s),this.l=a.l;var d=a.i,h=new Oo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Tm(this,h),this.m=a.m}else a&&(d=String(a).match(Em))?(this.h=!1,Pl(this,d[1]||"",!0),this.o=No(d[2]||""),this.g=No(d[3]||"",!0),Al(this,d[4]),this.l=No(d[5]||"",!0),Tm(this,d[6]||"",!0),this.m=No(d[7]||"")):(this.h=!1,this.i=new Oo(null,this.h))}Ci.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Do(d,Sm,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Do(d,Sm,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Do(h,h.charAt(0)=="/"?H1:$1,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Do(h,K1)),a.join("")};function ar(a){return new Ci(a)}function Pl(a,d,h){a.j=h?No(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Al(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Tm(a,d,h){d instanceof Oo?(a.i=d,G1(a.i,a.h)):(h||(d=Do(d,W1)),a.i=new Oo(d,a.h))}function be(a,d,h){a.i.set(d,h)}function kl(a){return be(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function No(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Do(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,B1),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function B1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Sm=/[#\/\?@]/g,$1=/[#\?:]/g,H1=/[#\?]/g,W1=/[#\?@]/g,K1=/#/g;function Oo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Or(a){a.g||(a.g=new Map,a.h=0,a.i&&z1(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Oo.prototype,t.add=function(a,d){Or(this),this.i=null,a=ws(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Im(a,d){Or(a),d=ws(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Cm(a,d){return Or(a),d=ws(a,d),a.g.has(d)}t.forEach=function(a,d){Or(this),this.g.forEach(function(h,y){h.forEach(function(b){a.call(d,b,y,this)},this)},this)},t.na=function(){Or(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let y=0;y<d.length;y++){const b=a[y];for(let F=0;F<b.length;F++)h.push(d[y])}return h},t.V=function(a){Or(this);let d=[];if(typeof a=="string")Cm(this,a)&&(d=d.concat(this.g.get(ws(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Or(this),this.i=null,a=ws(this,a),Cm(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Rm(a,d,h){Im(a,d),0<h.length&&(a.i=null,a.g.set(ws(a,d),N(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var y=d[h];const F=encodeURIComponent(String(y)),K=this.V(y);for(y=0;y<K.length;y++){var b=F;K[y]!==""&&(b+="="+encodeURIComponent(String(K[y]))),a.push(b)}}return this.i=a.join("&")};function ws(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function G1(a,d){d&&!a.j&&(Or(a),a.i=null,a.g.forEach(function(h,y){var b=y.toLowerCase();y!=b&&(Im(this,y),Rm(this,b,h))},a)),a.j=d}function q1(a,d){const h=new D;if(l.Image){const y=new Image;y.onload=C(Lr,h,"TestLoadImage: loaded",!0,d,y),y.onerror=C(Lr,h,"TestLoadImage: error",!1,d,y),y.onabort=C(Lr,h,"TestLoadImage: abort",!1,d,y),y.ontimeout=C(Lr,h,"TestLoadImage: timeout",!1,d,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else d(!1)}function Q1(a,d){const h=new D,y=new AbortController,b=setTimeout(()=>{y.abort(),Lr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:y.signal}).then(F=>{clearTimeout(b),F.ok?Lr(h,"TestPingServer: ok",!0,d):Lr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Lr(h,"TestPingServer: error",!1,d)})}function Lr(a,d,h,y,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),y(h)}catch{}}function Y1(){this.g=new md}function X1(a,d,h){const y=h||"";try{wm(a,function(b,F){let K=b;c(b)&&(K=gs(b)),d.push(y+F+"="+encodeURIComponent(K))})}catch(b){throw d.push(y+"type="+encodeURIComponent("_badmap")),b}}function Lo(a){this.l=a.Ub||null,this.j=a.eb||!1}R(Lo,ys),Lo.prototype.g=function(){return new xl(this.l,this.j)},Lo.prototype.i=function(a){return function(){return a}}({});function xl(a,d){tt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(xl,tt),t=xl.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Mo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Mo(this)),this.g&&(this.readyState=3,Mo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pm(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pm(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?bo(this):Mo(this),this.readyState==3&&Pm(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,bo(this))},t.Qa=function(a){this.g&&(this.response=a,bo(this))},t.ga=function(){this.g&&bo(this)};function bo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Mo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Mo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Am(a){let d="";return k(a,function(h,y){d+=y,d+=":",d+=h,d+=`\r
`}),d}function gd(a,d,h){e:{for(y in h){var y=!1;break e}y=!0}y||(h=Am(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):be(a,d,h))}function We(a){tt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(We,tt);var J1=/^https?$/i,Z1=["POST","PUT"];t=We.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():X.g(),this.v=this.o?Ti(this.o):Ti(X),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(F){km(this,F);return}if(a=h||"",h=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var b in y)h.set(b,y[b]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const F of y.keys())h.set(F,y.get(F));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(h.keys()).find(F=>F.toLowerCase()=="content-type"),b=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Z1,d,void 0))||y||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,K]of h)this.g.setRequestHeader(F,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dm(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){km(this,F)}};function km(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,xm(a),Nl(a)}function xm(a){a.A||(a.A=!0,nt(a,"complete"),nt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,nt(this,"complete"),nt(this,"abort"),Nl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nl(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Nm(this):this.bb())},t.bb=function(){Nm(this)};function Nm(a){if(a.h&&typeof o<"u"&&(!a.v[1]||lr(a)!=4||a.Z()!=2)){if(a.u&&lr(a)==4)cn(a.Ea,0,a);else if(nt(a,"readystatechange"),lr(a)==4){a.h=!1;try{const K=a.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var y;if(y=K===0){var b=String(a.D).match(Em)[1]||null;!b&&l.self&&l.self.location&&(b=l.self.location.protocol.slice(0,-1)),y=!J1.test(b?b.toLowerCase():"")}h=y}if(h)nt(a,"complete"),nt(a,"success");else{a.m=6;try{var F=2<lr(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",xm(a)}}finally{Nl(a)}}}}function Nl(a,d){if(a.g){Dm(a);const h=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||nt(a,"ready");try{h.onreadystatechange=y}catch{}}}function Dm(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function lr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Il(d)}};function Om(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function eT(a){const d={};a=(a.g&&2<=lr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(v(a[y]))continue;var h=P(a[y]);const b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const F=d[b]||[];d[b]=F,F.push(h)}E(d,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vo(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function Lm(a){this.Aa=0,this.i=[],this.j=new D,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vo("baseRetryDelayMs",5e3,a),this.cb=Vo("retryDelaySeedMs",1e4,a),this.Wa=Vo("forwardChannelMaxRetries",2,a),this.wa=Vo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new oe(a&&a.concurrentRequestLimit),this.Da=new Y1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lm.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,y){ft(0),this.W=a,this.H=d||{},h&&y!==void 0&&(this.H.OSID=h,this.H.OAID=y),this.F=this.X,this.I=$m(this,null,this.W),Ol(this)};function yd(a){if(bm(a),a.G==3){var d=a.U++,h=ar(a.I);if(be(h,"SID",a.K),be(h,"RID",d),be(h,"TYPE","terminate"),Fo(a,h),d=new ue(a,a.j,d),d.L=2,d.v=kl(ar(h)),h=!1,l.navigator&&l.navigator.sendBeacon)try{h=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&l.Image&&(new Image().src=d.v,h=!0),h||(d.g=Hm(d.j,null),d.g.ea(d.v)),d.F=Date.now(),wn(d)}Bm(a)}function Dl(a){a.g&&(_d(a),a.g.cancel(),a.g=null)}function bm(a){Dl(a),a.u&&(l.clearTimeout(a.u),a.u=null),Ll(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ol(a){if(!Le(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ee||ne(),q||(Ee(),q=!0),ee.add(d,a),a.B=0}}function tT(a,d){return Ct(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=A(m(a.Ga,a,d),zm(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const b=new ue(this,this.j,a);let F=this.o;if(this.S&&(F?(F=g(F),S(F,this.S)):F=this.S),this.m!==null||this.O||(b.H=F,F=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var y=this.i[h];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Vm(this,b,d),h=ar(this.I),be(h,"RID",a),be(h,"CVER",22),this.D&&be(h,"X-HTTP-Session-Id",this.D),Fo(this,h),F&&(this.O?d="headers="+encodeURIComponent(String(Am(F)))+"&"+d:this.m&&gd(h,this.m,F)),Yt(this.h,b),this.Ua&&be(h,"TYPE","init"),this.P?(be(h,"$req",d),be(h,"SID","null"),b.T=!0,Ge(b,h,null)):Ge(b,h,d),this.G=2}}else this.G==3&&(a?Mm(this,a):this.i.length==0||Le(this.h)||Mm(this))};function Mm(a,d){var h;d?h=d.l:h=a.U++;const y=ar(a.I);be(y,"SID",a.K),be(y,"RID",h),be(y,"AID",a.T),Fo(a,y),a.m&&a.o&&gd(y,a.m,a.o),h=new ue(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Vm(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Yt(a.h,h),Ge(h,y,d)}function Fo(a,d){a.H&&k(a.H,function(h,y){be(d,y,h)}),a.l&&wm({},function(h,y){be(d,y,h)})}function Vm(a,d,h){h=Math.min(a.i.length,h);var y=a.l?m(a.l.Na,a.l,a):null;e:{var b=a.i;let F=-1;for(;;){const K=["count="+h];F==-1?0<h?(F=b[0].g,K.push("ofs="+F)):F=0:K.push("ofs="+F);let Ae=!0;for(let pt=0;pt<h;pt++){let we=b[pt].g;const Rt=b[pt].map;if(we-=F,0>we)F=Math.max(0,b[pt].g-100),Ae=!1;else try{X1(Rt,K,"req"+we+"_")}catch{y&&y(Rt)}}if(Ae){y=K.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,y}function Fm(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ee||ne(),q||(Ee(),q=!0),ee.add(d,a),a.v=0}}function vd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=A(m(a.Fa,a),zm(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,jm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=A(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Dl(this),jm(this))};function _d(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function jm(a){a.g=new ue(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=ar(a.qa);be(d,"RID","rpc"),be(d,"SID",a.K),be(d,"AID",a.T),be(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&be(d,"TO",a.ja),be(d,"TYPE","xmlhttp"),Fo(a,d),a.m&&a.o&&gd(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=kl(ar(d)),h.m=null,h.P=!0,Ue(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Dl(this),vd(this),ft(19))};function Ll(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Um(a,d){var h=null;if(a.g==d){Ll(a),_d(a),a.g=null;var y=2}else if(Ce(a.h,d))h=d.D,xo(a.h,d),y=1;else return;if(a.G!=0){if(d.o)if(y==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;y=vs(),nt(y,new Cl(y,h)),Ol(a)}else Fm(a);else if(b=d.s,b==3||b==0&&0<d.X||!(y==1&&tT(a,d)||y==2&&vd(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:Ri(a,5);break;case 4:Ri(a,10);break;case 3:Ri(a,6);break;default:Ri(a,2)}}}function zm(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Ri(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),y=a.Xa;const b=!y;y=new Ci(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pl(y,"https"),kl(y),b?q1(y.toString(),h):Q1(y.toString(),h)}else ft(2);a.G=0,a.l&&a.l.sa(d),Bm(a),bm(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Bm(a){if(a.G=0,a.ka=[],a.l){const d=Rl(a.h);(d.length!=0||a.i.length!=0)&&(M(a.ka,d),M(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function $m(a,d,h){var y=h instanceof Ci?ar(h):new Ci(h);if(y.g!="")d&&(y.g=d+"."+y.g),Al(y,y.s);else{var b=l.location;y=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var F=new Ci(null);y&&Pl(F,y),d&&(F.g=d),b&&Al(F,b),h&&(F.l=h),y=F}return h=a.D,d=a.ya,h&&d&&be(y,h,d),be(y,"VER",a.la),Fo(a,y),y}function Hm(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new We(new Lo({eb:h})):new We(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wm(){}t=Wm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bl(){}bl.prototype.g=function(a,d){return new Xt(a,d)};function Xt(a,d){tt.call(this),this.g=new Lm(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!v(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!v(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Es(this)}R(Xt,tt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){yd(this.g)},Xt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=gs(a),a=h);d.i.push(new _s(d.Ya++,a)),d.G==3&&Ol(d)},Xt.prototype.N=function(){this.g.l=null,delete this.j,yd(this.g),delete this.g,Xt.aa.N.call(this)};function Km(a){xr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}R(Km,xr);function Gm(){Si.call(this),this.status=1}R(Gm,Si);function Es(a){this.g=a}R(Es,Wm),Es.prototype.ua=function(){nt(this.g,"a")},Es.prototype.ta=function(a){nt(this.g,new Km(a))},Es.prototype.sa=function(a){nt(this.g,new Gm)},Es.prototype.ra=function(){nt(this.g,"b")},bl.prototype.createWebChannel=bl.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,zE=function(){return new bl},UE=function(){return vs()},jE=sr,Pf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},W.NO_ERROR=0,W.TIMEOUT=8,W.HTTP_ERROR=6,Au=W,se.COMPLETE="complete",FE=se,Po.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",tt.prototype.listen=tt.prototype.K,ua=Po,VE=Lo,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,ME=We}).apply(typeof su<"u"?su:typeof self<"u"?self:typeof window<"u"?window:{});const fv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Kp("@firebase/firestore");function Zo(){return rs.logLevel}function Z(t,...e){if(rs.logLevel<=he.DEBUG){const n=e.map(im);rs.debug(`Firestore (${vo}): ${t}`,...n)}}function is(t,...e){if(rs.logLevel<=he.ERROR){const n=e.map(im);rs.error(`Firestore (${vo}): ${t}`,...n)}}function vc(t,...e){if(rs.logLevel<=he.WARN){const n=e.map(im);rs.warn(`Firestore (${vo}): ${t}`,...n)}}function im(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+t;throw is(e),new Error(e)}function st(t,e){t||fe()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class H2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W2{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string"),new BE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new Dt(e)}}class K2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class G2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new K2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(st(typeof n.token=="string"),this.R=n.token,new q2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Y2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function ao(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ze(e)}static min(){return new ze(new ct(0,0))}static max(){return new ze(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ya.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends Ya{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const X2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Ya{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return X2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ie(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ie(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Xe.fromString(e))}static fromName(e){return new le(Xe.fromString(e).popFirst(5))}static empty(){return new le(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Xe(e.slice()))}}function J2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new di(i,le.empty(),e)}function Z2(t){return new di(t.readTime,t.key,-1)}class di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new di(ze.min(),le.empty(),-1)}static max(){return new di(ze.max(),le.empty(),-1)}}function eO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==tO)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function rO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}WE.oe=-1;function sm(t){return t==null}function _c(t){return t===0&&1/t==-1/0}function iO(t){return typeof t=="number"&&Number.isInteger(t)&&!_c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _l(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ou(this.root,e,this.comparator,!0)}}class ou{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=s??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(e){return new mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new xn([])}unionWith(e){let n=new bt(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sO("Invalid base64 string: "+s):s}}(e);return new Zn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const oO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(t){if(st(!!t),typeof t=="string"){let e=0;const n=oO.exec(t);if(st(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xa(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function GE(t){const e=t.mapValue.fields.__previous_value__;return om(e)?GE(e):e}function wc(t){const e=ss(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Ec{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?om(t)?4:lO(t)?9007199254740991:10:fe()}function er(t,e){if(t===e)return!0;const n=lo(t);if(n!==lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wc(t).isEqual(wc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ss(i.timestampValue),l=ss(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Xa(i.bytesValue).isEqual(Xa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return vt(i.geoPointValue.latitude)===vt(s.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return vt(i.integerValue)===vt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=vt(i.doubleValue),l=vt(s.doubleValue);return o===l?_c(o)===_c(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ao(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(pv(o)!==pv(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!er(o[u],l[u])))return!1;return!0}(t,e);default:return fe()}}function Ja(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function uo(t,e){if(t===e)return 0;const n=lo(t),r=lo(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=vt(s.integerValue||s.doubleValue),u=vt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return gv(t.timestampValue,e.timestampValue);case 4:return gv(wc(t),wc(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Xa(s),u=Xa(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=Ne(l[c],u[c]);if(f!==0)return f}return Ne(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ne(vt(s.latitude),vt(o.latitude));return l!==0?l:Ne(vt(s.longitude),vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let c=0;c<l.length&&c<u.length;++c){const f=uo(l[c],u[c]);if(f)return f}return Ne(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===au.mapValue&&o===au.mapValue)return 0;if(s===au.mapValue)return 1;if(o===au.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=Ne(u[p],f[p]);if(m!==0)return m;const C=uo(l[u[p]],c[f[p]]);if(C!==0)return C}return Ne(u.length,f.length)}(t.mapValue,e.mapValue);default:throw fe()}}function gv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=ss(t),r=ss(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function co(t){return Af(t)}function Af(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Af(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Af(n.fields[o])}`;return i+"}"}(t.mapValue):fe()}function kf(t){return!!t&&"integerValue"in t}function am(t){return!!t&&"arrayValue"in t}function ku(t){return!!t&&"mapValue"in t}function Ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _l(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ea(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ku(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ea(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ea(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ku(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ku(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_l(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kn(Ea(this.value))}}function qE(t){const e=[];return _l(t.fields,(n,r)=>{const i=new _t([n]);if(ku(r)){const s=qE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Pn(e,0,ze.min(),ze.min(),ze.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new Pn(e,1,n,ze.min(),r,i,0)}static newNoDocument(e,n){return new Pn(e,2,n,ze.min(),ze.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,ze.min(),ze.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.position=e,this.inclusive=n}}function yv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=uo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function uO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{}class lt extends QE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dO(e,n,r):n==="array-contains"?new pO(e,r):n==="in"?new mO(e,r):n==="not-in"?new gO(e,r):n==="array-contains-any"?new yO(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hO(e,r):new fO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends QE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new hi(e,n)}matches(e){return YE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function YE(t){return t.op==="and"}function XE(t){return cO(t)&&YE(t)}function cO(t){for(const e of t.filters)if(e instanceof hi)return!1;return!0}function xf(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+co(t.value);if(XE(t))return t.filters.map(e=>xf(e)).join(",");{const e=t.filters.map(n=>xf(n)).join(",");return`${t.op}(${e})`}}function JE(t,e){return t instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)}(t,e):t instanceof hi?function(r,i){return i instanceof hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&JE(o,i.filters[l]),!0):!1}(t,e):void fe()}function ZE(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(ZE).join(" ,")+"}"}(t):"Filter"}class dO extends lt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class hO extends lt{constructor(e,n){super(e,"in",n),this.keys=e1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fO extends lt{constructor(e,n){super(e,"not-in",n),this.keys=e1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function e1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class pO extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return am(n)&&Ja(n.arrayValue,this.value)}}class mO extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ja(this.value.arrayValue,n)}}class gO extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ja(this.value.arrayValue,n)}}class yO extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!am(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ja(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function _v(t,e=null,n=[],r=[],i=null,s=null,o=null){return new vO(t,e,n,r,i,s,o)}function lm(t){const e=Oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.ue=n}return e.ue}function um(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vv(t.startAt,e.startAt)&&vv(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _O(t,e,n,r,i,s,o,l){return new id(t,e,n,r,i,s,o,l)}function wO(t){return new id(t)}function wv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EO(t){return t.collectionGroup!==null}function Ta(t){const e=Oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new bt(_t.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Sc(s,r))}),n.has(_t.keyField().canonicalString())||e.ce.push(new Sc(_t.keyField(),r))}return e.ce}function Bi(t){const e=Oe(t);return e.le||(e.le=TO(e,Ta(t))),e.le}function TO(t,e){if(t.limitType==="F")return _v(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Sc(i.field,s)});const n=t.endAt?new Tc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tc(t.startAt.position,t.startAt.inclusive):null;return _v(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nf(t,e,n){return new id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function t1(t,e){return um(Bi(t),Bi(e))&&t.limitType===e.limitType}function n1(t){return`${lm(Bi(t))}|lt:${t.limitType}`}function ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZE(i)).join(", ")}]`),sm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>co(i)).join(",")),`Target(${r})`}(Bi(t))}; limitType=${t.limitType})`}function cm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ta(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=yv(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Ta(r),i)||r.endAt&&!function(o,l,u){const c=yv(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Ta(r),i))}(t,e)}function SO(t){return(e,n)=>{let r=!1;for(const i of Ta(t)){const s=IO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function IO(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?uo(u,c):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_l(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return KE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new qt(le.comparator);function Ic(){return CO}const r1=new qt(le.comparator);function lu(...t){let e=r1;for(const n of t)e=e.insert(n.key,n);return e}function i1(t){let e=r1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fi(){return Sa()}function s1(){return Sa()}function Sa(){return new _o(t=>t.toString(),(t,e)=>t.isEqual(e))}const RO=new qt(le.comparator),PO=new bt(le.comparator);function Lt(...t){let e=PO;for(const n of t)e=e.add(n);return e}const AO=new bt(Ne);function kO(){return AO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function a1(t){return{integerValue:""+t}}function xO(t,e){return iO(e)?a1(e):o1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function NO(t,e,n){return t instanceof Cc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&om(s)&&(s=GE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Za?u1(t,e):t instanceof el?c1(t,e):function(i,s){const o=l1(i,s),l=Ev(o)+Ev(i.Pe);return kf(o)&&kf(i.Pe)?a1(l):o1(i.serializer,l)}(t,e)}function DO(t,e,n){return t instanceof Za?u1(t,e):t instanceof el?c1(t,e):n}function l1(t,e){return t instanceof Rc?function(r){return kf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Cc extends sd{}class Za extends sd{constructor(e){super(),this.elements=e}}function u1(t,e){const n=d1(e);for(const r of t.elements)n.some(i=>er(i,r))||n.push(r);return{arrayValue:{values:n}}}class el extends sd{constructor(e){super(),this.elements=e}}function c1(t,e){let n=d1(e);for(const r of t.elements)n=n.filter(i=>!er(i,r));return{arrayValue:{values:n}}}class Rc extends sd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ev(t){return vt(t.integerValue||t.doubleValue)}function d1(t){return am(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Za&&i instanceof Za||r instanceof el&&i instanceof el?ao(r.elements,i.elements,er):r instanceof Rc&&i instanceof Rc?er(r.Pe,i.Pe):r instanceof Cc&&i instanceof Cc}(t.transform,e.transform)}class LO{constructor(e,n){this.version=e,this.transformResults=n}}class _r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class od{}function h1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new p1(t.key,_r.none()):new wl(t.key,t.data,_r.none());{const n=t.data,r=kn.empty();let i=new bt(_t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ds(t.key,r,new xn(i.toArray()),_r.none())}}function bO(t,e,n){t instanceof wl?function(i,s,o){const l=i.value.clone(),u=Sv(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ds?function(i,s,o){if(!xu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Sv(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(f1(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ia(t,e,n,r){return t instanceof wl?function(s,o,l,u){if(!xu(s.precondition,o))return l;const c=s.value.clone(),f=Iv(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ds?function(s,o,l,u){if(!xu(s.precondition,o))return l;const c=Iv(s.fieldTransforms,u,o),f=o.data;return f.setAll(f1(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return xu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function MO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=l1(r.transform,i||null);s!=null&&(n===null&&(n=kn.empty()),n.set(r.field,s))}return n||null}function Tv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ao(r,i,(s,o)=>OO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wl extends od{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ds extends od{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function f1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sv(t,e,n){const r=new Map;st(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,DO(o,l,n[i]))}return r}function Iv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,NO(s,o,e))}return r}class p1 extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VO extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=s1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=h1(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Lt())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,(n,r)=>Tv(n,r))&&ao(this.baseMutations,e.baseMutations,(n,r)=>Tv(n,r))}}class dm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){st(e.mutations.length===r.length);let i=function(){return RO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new dm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ge;function UO(t){switch(t){default:return fe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function zO(t){if(t===void 0)return is("GRPC error has no .code"),H.UNKNOWN;switch(t){case Qe.OK:return H.OK;case Qe.CANCELLED:return H.CANCELLED;case Qe.UNKNOWN:return H.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return H.INTERNAL;case Qe.UNAVAILABLE:return H.UNAVAILABLE;case Qe.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Qe.NOT_FOUND:return H.NOT_FOUND;case Qe.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Qe.ABORTED:return H.ABORTED;case Qe.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Qe.DATA_LOSS:return H.DATA_LOSS;default:return fe()}}(ge=Qe||(Qe={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new bE([4294967295,4294967295],0);class BO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $O(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HO(t,e){return Df(t,e.toTimestamp())}function Ys(t){return st(!!t),ze.fromTimestamp(function(n){const r=ss(n);return new ct(r.seconds,r.nanos)}(t))}function m1(t,e){return Of(t,e).canonicalString()}function Of(t,e){const n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WO(t){const e=Xe.fromString(t);return st(ZO(e)),e}function Lf(t,e){return m1(t.databaseId,e.path)}function KO(t){const e=WO(t);return e.length===4?Xe.emptyPath():qO(e)}function GO(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qO(t){return st(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Cv(t,e,n){return{name:Lf(t,e),fields:n.value.mapValue.fields}}function QO(t,e){let n;if(e instanceof wl)n={update:Cv(t,e.key,e.value)};else if(e instanceof p1)n={delete:Lf(t,e.key)};else if(e instanceof ds)n={update:Cv(t,e.key,e.data),updateMask:JO(e.fieldMask)};else{if(!(e instanceof VO))return fe();n={verify:Lf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Cc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Za)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof el)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Rc)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:HO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(t,e.precondition)),n}function YO(t,e){return t&&t.length>0?(st(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ys(i.updateTime):Ys(s);return o.isEqual(ze.min())&&(o=Ys(s)),new LO(o,i.transformResults||[])}(n,e))):[]}function XO(t){let e=KO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){st(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const m=g1(p);return m instanceof hi&&XE(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(R){return new Sc(Rs(R.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,sm(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,C=p.values||[];return new Tc(C,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,C=p.values||[];return new Tc(C,m)}(n.endAt)),_O(e,i,o,s,l,"F",u,c)}function g1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rs(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rs(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rs(n.unaryFilter.field);return lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rs(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(Rs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(r=>g1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function Rs(t){return _t.fromServerFormat(t.fieldPath)}function JO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.ct=e}}function tL(t){const e=XO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.an=new rL}addToCollectionParentIndex(e,n){return this.an.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(di.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class rL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new ho(0)}static Bn(){return new ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.changes=new _o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ia(r.mutation,i,xn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Lt()){const i=Fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=lu();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Lt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Ic();const o=Sa(),l=function(){return Sa()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof ds)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Ia(f.mutation,c,f.mutation.getFieldMask(),ct.now())):o.set(c.key,xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var p;return l.set(c,new sL(f,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Sa();let i=new qt((o,l)=>o-l),s=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||xn.empty();f=l.applyToLocalView(c,f),r.set(u,f);const p=(i.get(l.batchId)||Lt()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=s1();f.forEach(m=>{if(!s.has(m)){const C=h1(n.get(m),r.get(m));C!==null&&p.set(m,C),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(Fi());let l=-1,u=s;return o.next(c=>B.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Lt())).next(f=>({batchId:l,changes:i1(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=lu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=lu();return this.indexManager.getCollectionParents(e,s).next(l=>B.forEach(l,u=>{const c=function(p,m){return new id(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Pn.newInvalidDocument(f)))});let l=lu();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&Ia(f.mutation,c,xn.empty(),ct.now()),cm(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return B.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ys(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:tL(i.bundledQuery),readTime:Ys(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.overlays=new qt(le.comparator),this.Pr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fi();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Fi(),s=n.length+1,o=new le(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qt((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Fi(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Fi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return B.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jO(n,r));let s=this.Pr.get(n);s===void 0&&(s=Lt(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this.Ir=new bt(ot.Tr),this.Er=new bt(ot.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new ot(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new le(new Xe([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.Er.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new le(new Xe([])),r=new ot(n,e),i=new ot(n,e+1);let s=Lt();return this.Er.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ot(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return le.comparator(e.key,n.key)||Ne(e.yr,n.yr)}static dr(e,n){return Ne(e.yr,n.yr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new bt(ot.Tr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FO(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Sr=this.Sr.add(new ot(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const l=this.br(o.yr);s.push(l)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Ne);return n.forEach(i=>{const s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],l=>{r=r.add(l.yr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new ot(new le(s),0);let l=new bt(Ne);return this.Sr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.yr)),!0)},o),B.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){st(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return B.forEach(n.mutations,i=>{const s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new ot(n,0),i=this.Sr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.Fr=e,this.docs=function(){return new qt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let r=Ic();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ic();const o=n.path,l=new le(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||eO(Z2(f),r)<=0||(i.has(f.key)||cm(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){fe()}Mr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hL(this)}getSize(e){return B.resolve(this.size)}}class hL extends iL{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.persistence=e,this.Or=new _o(n=>lm(n),um),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new hm,this.targetCount=0,this.Br=ho.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),B.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Qn(n),B.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n){this.kr={},this.overlays={},this.qr=new WE(0),this.Qr=!1,this.Qr=!0,this.Kr=new uL,this.referenceDelegate=e(this),this.$r=new fL(this),this.indexManager=new nL,this.remoteDocumentCache=function(i){return new dL(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new eL(n),this.Wr=new aL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new cL(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new mL(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(s=>this.referenceDelegate.zr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}jr(e,n){return B.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class mL extends nO{constructor(e){super(),this.currentSequenceNumber=e}}class fm{constructor(e){this.persistence=e,this.Hr=new hm,this.Jr=null}static Yr(e){return new fm(e)}get Zr(){if(this.Jr)return this.Jr;throw fe()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Zr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Zr,r=>{const i=le.fromPath(r);return this.Xr(e,i).next(s=>{s||n.removeEntry(i,ze.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return B.or([()=>B.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=Lt(),i=Lt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return hx()?8:rO(Tt())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new gL;return this.Zi(e,n,o).next(l=>{if(s.result=l,this.Gi)return this.Xi(e,n,o,l.size)})}).next(()=>s.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(Zo()<=he.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),B.resolve()):(Zo()<=he.DEBUG&&Z("QueryEngine","Query:",ea(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(Zo()<=he.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(n))):B.resolve())}Ji(e,n){if(wv(n))return B.resolve(null);let r=Bi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Nf(n,null,"F"),r=Bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Lt(...s);return this.Hi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.es(n,l);return this.ts(n,c,o,u.readTime)?this.Ji(e,Nf(n,null,"F")):this.ns(e,c,n,u)}))})))}Yi(e,n,r,i){return wv(n)||i.isEqual(ze.min())?B.resolve(null):this.Hi.getDocuments(e,r).next(s=>{const o=this.es(n,s);return this.ts(n,o,r,i)?B.resolve(null):(Zo()<=he.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ea(n)),this.ns(e,o,n,J2(i,-1)).next(l=>l))})}es(e,n){let r=new bt(SO(e));return n.forEach((i,s)=>{cm(e,s)&&(r=r.add(s))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zi(e,n,r){return Zo()<=he.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",ea(n)),this.Hi.getDocumentsMatchingQuery(e,n,di.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new qt(Ne),this.os=new _o(s=>lm(s),um),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oL(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function _L(t,e,n,r){return new vL(t,e,n,r)}async function y1(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Lt();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ls:c,removedBatchIds:o,addedBatchIds:l}))})})}function wL(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.us.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,m=p.keys();let C=B.resolve();return m.forEach(R=>{C=C.next(()=>f.getEntry(u,R)).next(N=>{const M=c.docVersions.get(R);st(M!==null),N.version.compareTo(M)<0&&(p.applyToRemoteDocument(N,c),N.isValidDocument()&&(N.setReadTime(c.commitVersion),f.addEntry(N)))})}),C.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Lt();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function EL(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function TL(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class Rv{constructor(){this.activeTargetIds=kO()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SL{constructor(){this.io=new Rv,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new Rv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu=null;function ch(){return uu===null?uu=function(){return 268435456+Math.round(2147483648*Math.random())}():uu++,"0x"+uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class PL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get vo(){return!1}Fo(n,r,i,s,o){const l=ch(),u=this.Mo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,s,o),this.Oo(n,u,c,i).then(f=>(Z("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw vc("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}No(n,r,i,s,o,l){return this.Fo(n,r,i,s,o)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Mo(n,r){const i=CL[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const s=ch();return new Promise((o,l)=>{const u=new ME;u.setWithCredentials(!0),u.listenOnce(FE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Au.NO_ERROR:const f=u.getResponseJson();Z(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Au.TIMEOUT:Z(Nt,`RPC '${e}' ${s} timed out`),l(new ie(H.DEADLINE_EXCEEDED,"Request time out"));break;case Au.HTTP_ERROR:const p=u.getStatus();if(Z(Nt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const C=m==null?void 0:m.error;if(C&&C.status&&C.message){const R=function(M){const T=M.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(T)>=0?T:H.UNKNOWN}(C.status);l(new ie(R,C.message))}else l(new ie(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ie(H.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{Z(Nt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Z(Nt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Lo(e,n,r){const i=ch(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zE(),l=UE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new VE({})),this.xo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Z(Nt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=o.createWebChannel(f,u);let m=!1,C=!1;const R=new RL({Po:M=>{C?Z(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(Z(Nt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Z(Nt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Io:()=>p.close()}),N=(M,T,v)=>{M.listen(T,w=>{try{v(w)}catch(L){setTimeout(()=>{throw L},0)}})};return N(p,ua.EventType.OPEN,()=>{C||(Z(Nt,`RPC '${e}' stream ${i} transport opened.`),R.po())}),N(p,ua.EventType.CLOSE,()=>{C||(C=!0,Z(Nt,`RPC '${e}' stream ${i} transport closed`),R.wo())}),N(p,ua.EventType.ERROR,M=>{C||(C=!0,vc(Nt,`RPC '${e}' stream ${i} transport errored:`,M),R.wo(new ie(H.UNAVAILABLE,"The operation could not be completed")))}),N(p,ua.EventType.MESSAGE,M=>{var T;if(!C){const v=M.data[0];st(!!v);const w=v,L=w.error||((T=w[0])===null||T===void 0?void 0:T.error);if(L){Z(Nt,`RPC '${e}' stream ${i} received error:`,L);const z=L.status;let k=function(_){const S=Qe[_];if(S!==void 0)return zO(S)}(z),E=L.message;k===void 0&&(k=H.INTERNAL,E="Unknown error status: "+z+" with message "+L.message),C=!0,R.wo(new ie(k,E)),p.close()}else Z(Nt,`RPC '${e}' stream ${i} received:`,v),R.So(v)}}),N(l,jE.STAT_EVENT,M=>{M.stat===Pf.PROXY?Z(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Pf.NOPROXY&&Z(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.yo()},0),R}}function dh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){return new BO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,i,s,o,l,u){this.ai=e,this.jo=r,this.Ho=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new v1(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new ie(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kL extends AL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=YO(e.writeResults,e.commitTime),r=Ys(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=GO(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>QO(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,Of(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(H.UNKNOWN,s.toString())})}No(e,n,r,i,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.No(e,Of(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(H.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class NL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(is(n),this.b_=!1):Z("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{r.enqueueAndForget(async()=>{Tl(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Oe(u);c.N_.add(4),await El(c),c.k_.set("Unknown"),c.N_.delete(4),await ld(c)}(this))})}),this.k_=new NL(r,i)}}async function ld(t){if(Tl(t))for(const e of t.L_)await e(!0)}async function El(t){for(const e of t.L_)await e(!1)}function Tl(t){return Oe(t).N_.size===0}async function _1(t,e,n){if(!rd(e))throw e;t.N_.add(1),await El(t),t.k_.set("Offline"),n||(n=()=>EL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await ld(t)})}function w1(t,e){return e().catch(n=>_1(t,n,e))}async function ud(t){const e=Oe(t),n=fi(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;OL(e);)try{const i=await TL(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,LL(e,i)}catch(i){await _1(e,i)}E1(e)&&T1(e)}function OL(t){return Tl(t)&&t.x_.length<10}function LL(t,e){t.x_.push(e);const n=fi(t);n.n_()&&n.R_&&n.V_(e.mutations)}function E1(t){return Tl(t)&&!fi(t).t_()&&t.x_.length>0}function T1(t){fi(t).start()}async function bL(t){fi(t).g_()}async function ML(t){const e=fi(t);for(const n of t.x_)e.V_(n.mutations)}async function VL(t,e,n){const r=t.x_.shift(),i=dm.from(r,e,n);await w1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ud(t)}async function FL(t,e){e&&fi(t).R_&&await async function(r,i){if(function(o){return UO(o)&&o!==H.ABORTED}(i.code)){const s=r.x_.shift();fi(r).i_(),await w1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ud(r)}}(t,e),E1(t)&&T1(t)}async function Av(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=Tl(n);n.N_.add(3),await El(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await ld(n)}async function jL(t,e){const n=Oe(t);e?(n.N_.delete(2),await ld(n)):e||(n.N_.add(2),await El(n),n.k_.set("Unknown"))}function fi(t){return t.K_||(t.K_=function(n,r,i){const s=Oe(n);return s.y_(),new kL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:bL.bind(null,t),Vo:FL.bind(null,t),m_:ML.bind(null,t),f_:VL.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await ud(t)):(await t.K_.stop(),t.x_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new mm(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S1(t,e){if(is("AsyncQueue",`${e}: ${t}`),rd(t))return new ie(H.UNAVAILABLE,`${e}: ${t}`);throw t}class UL{constructor(){this.queries=kv(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=Oe(n),s=i.queries;i.queries=kv(),s.forEach((o,l)=>{for(const u of l.z_)u.onError(r)})})(this,new ie(H.ABORTED,"Firestore shutting down"))}}function kv(){return new _o(t=>n1(t),t1)}function zL(t){t.J_.forEach(e=>{e.next()})}var xv,Nv;(Nv=xv||(xv={})).X_="default",Nv.Cache="cache";class BL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new _o(l=>n1(l),t1),this.Fa=new Map,this.Ma=new Set,this.xa=new qt(le.comparator),this.Oa=new Map,this.Na=new hm,this.La={},this.Ba=new Map,this.ka=ho.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function $L(t,e,n){const r=GL(t);try{const i=await function(o,l){const u=Oe(o),c=ct.now(),f=l.reduce((C,R)=>C.add(R.key),Lt());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let R=Ic(),N=Lt();return u.us.getEntries(C,f).next(M=>{R=M,R.forEach((T,v)=>{v.isValidDocument()||(N=N.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,R)).next(M=>{p=M;const T=[];for(const v of l){const w=MO(v,p.get(v.key).overlayedDocument);w!=null&&T.push(new ds(v.key,w,qE(w.value.mapValue),_r.exists(!0)))}return u.mutationQueue.addMutationBatch(C,c,T,l)}).next(M=>{m=M;const T=M.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(C,M.batchId,T)})}).then(()=>({batchId:m.batchId,changes:i1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.La[o.currentUser.toKey()];c||(c=new qt(Ne)),c=c.insert(l,u),o.La[o.currentUser.toKey()]=c}(r,i.batchId,n),await cd(r,i.changes),await ud(r.remoteStore)}catch(i){const s=S1(i,"Failed to persist write");n.reject(s)}}function Dv(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((s,o)=>{const l=o.view.Y_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=Oe(o);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const m of p.z_)m.Y_(l)&&(c=!0)}),c&&zL(u)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HL(t,e){const n=Oe(t),r=e.batch.batchId;try{const i=await wL(n.localStore,e);C1(n,r,null),I1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cd(n,i)}catch(i){await HE(i)}}async function WL(t,e,n){const r=Oe(t);try{const i=await function(o,l){const u=Oe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(st(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);C1(r,e,n),I1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cd(r,i)}catch(i){await HE(i)}}function I1(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function C1(t,e,n){const r=Oe(t);let i=r.La[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}async function cd(t,e,n){const r=Oe(t),i=[],s=[],o=[];r.va.isEmpty()||(r.va.forEach((l,u)=>{o.push(r.Qa(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(f=void 0)===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=pm.Ui(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Ca.E_(i),await async function(u,c){const f=Oe(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(c,m=>B.forEach(m.Ki,C=>f.persistence.referenceDelegate.addReference(p,m.targetId,C)).next(()=>B.forEach(m.$i,C=>f.persistence.referenceDelegate.removeReference(p,m.targetId,C)))))}catch(p){if(!rd(p))throw p;Z("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const C=f.ss.get(m),R=C.snapshotVersion,N=C.withLastLimboFreeSnapshotVersion(R);f.ss=f.ss.insert(m,N)}}}(r.localStore,s))}async function KL(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await y1(n.localStore,e);n.currentUser=e,function(s,o){s.Ba.forEach(l=>{l.forEach(u=>{u.reject(new ie(H.CANCELLED,o))})}),s.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cd(n,r.ls)}}function GL(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WL.bind(null,e),e}class Ov{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ad(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _L(this.persistence,new yL,e.initialUser,this.serializer)}createPersistence(e){return new pL(fm.Yr,this.serializer)}createSharedClientState(e){return new SL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KL.bind(null,this.syncEngine),await jL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UL}()}createDatastore(e){const n=ad(e.databaseInfo.databaseId),r=function(s){return new PL(s)}(e.databaseInfo);return function(s,o,l,u){return new xL(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new DL(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Dv(this.syncEngine,n,0),function(){return Pv.D()?new Pv:new IL}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,f){const p=new BL(i,s,o,l,u,c);return f&&(p.qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Oe(i);Z("RemoteStore","RemoteStore shutting down."),s.N_.add(5),await El(s),s.B_.shutdown(),s.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=$E.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hh(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await y1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Lv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XL(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Av(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Av(e.remoteStore,i)),t._onlineComponents=e}function YL(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function XL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await hh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!YL(n))throw n;vc("Error using user provided cache. Falling back to memory cache: "+n),await hh(t,new Ov)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await hh(t,new Ov);return t._offlineComponents}async function JL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await Lv(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await Lv(t,new qL))),t._onlineComponents}function ZL(t){return JL(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t,e,n){if(!n)throw new ie(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tb(t,e,n,r){if(e===!0&&r===!0)throw new ie(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mv(t){if(!le.isDocumentKey(t))throw new ie(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function bf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gm(t);throw new ie(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ym{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $2;switch(r.type){case"firstParty":return new G2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bv.get(n);r&&(Z("ComponentProvider","Removing Datastore"),bv.delete(n),r.terminate())}(this),Promise.resolve()}}function nb(t,e,n,r={}){var i;const s=(t=bf(t,ym))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&vc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Dt.MOCK_USER;else{l=ox(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Dt(c)}t._authCredentials=new H2(new BE(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vm(this.firestore,e,this._query)}}class wr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}}class tl extends vm{constructor(e,n,r){super(e,n,wO(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new le(e))}withConverter(e){return new tl(this.firestore,e,this._path)}}function rb(t,e,...n){if(t=Mn(t),arguments.length===1&&(e=$E.newId()),eb("doc","path",e),t instanceof ym){const r=Xe.fromString(e,...n);return Mv(r),new wr(t,null,new le(r))}{if(!(t instanceof wr||t instanceof tl))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return Mv(r),new wr(t.firestore,t instanceof tl?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new v1(this,"async_queue_retry"),this.Tu=()=>{const n=dh();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=dh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=dh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new zi;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!rd(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw is("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=mm.createAndSchedule(this,e,n,r,s=>this.Ru(s));return this.cu.push(i),i}Eu(){this.lu&&fe()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}class P1 extends ym{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ib}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||A1(this),this._firestoreClient.terminate()}}function sb(t,e){const n=typeof t=="object"?t:Zw(),r=typeof t=="string"?t:"(default)",i=qp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ix("firestore");s&&nb(i,...s)}return i}function ob(t){return t._firestoreClient||A1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function A1(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,f){return new aO(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,R1(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new QL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nl(Zn.fromBase64String(e))}catch(n){throw new ie(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nl(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=/^__.*__$/;class lb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new wl(e,this.data,n,this.fieldTransforms)}}function D1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class _m{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new _m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return Pc(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(D1(this.yu)&&ab.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class ub{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ad(e)}Ou(e,n,r,i=!1){return new _m({yu:e,methodName:n,xu:r,path:_t.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cb(t){const e=t._freezeSettings(),n=ad(t._databaseId);return new ub(t._databaseId,!!e.ignoreUndefinedProperties,n)}function db(t,e,n,r,i,s={}){const o=t.Ou(s.merge||s.mergeFields?2:0,e,n,i);M1("Data must be an object, but it was:",o,r);const l=L1(r,o);let u,c;if(s.merge)u=new xn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=hb(e,p,n);if(!o.contains(m))throw new ie(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);mb(f,m)||f.push(m)}u=new xn(f),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new lb(new kn(l),u,c)}function O1(t,e){if(b1(t=Mn(t)))return M1("Unsupported field value:",e,t),L1(t,e);if(t instanceof x1)return function(r,i){if(!D1(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=O1(l,i.vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ct.fromDate(r);return{timestampValue:Df(i.serializer,s)}}if(r instanceof ct){const s=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Df(i.serializer,s)}}if(r instanceof N1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nl)return{bytesValue:$O(i.serializer,r._byteString)};if(r instanceof wr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:m1(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${gm(r)}`)}(t,e)}function L1(t,e){const n={};return KE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_l(t,(r,i)=>{const s=O1(i,e.Su(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function b1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof N1||t instanceof nl||t instanceof wr||t instanceof x1)}function M1(t,e,n){if(!b1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=gm(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function hb(t,e,n){if((e=Mn(e))instanceof k1)return e._internalPath;if(typeof e=="string")return pb(t,e);throw Pc("Field path arguments must be of type string or ",t,!1,void 0,n)}const fb=new RegExp("[~\\*/\\[\\]]");function pb(t,e,n){if(e.search(fb)>=0)throw Pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new k1(...e.split("."))._internalPath}catch{throw Pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ie(H.INVALID_ARGUMENT,l+t+u)}function mb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function yb(t,e,n){t=bf(t,wr);const r=bf(t.firestore,P1),i=gb(t.converter,e);return vb(r,[db(cb(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_r.none())])}function vb(t,e){return function(r,i){const s=new zi;return r.asyncQueue.enqueueAndForget(async()=>$L(await ZL(r),i,s)),s.promise}(ob(t),e)}(function(e,n=!0){(function(i){vo=i})(go),oo(new Zi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new P1(new W2(r.getProvider("auth-internal")),new Q2(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),si(fv,"4.6.5",e),si(fv,"4.6.5","esm2017")})();const _b={apiKey:"AIzaSyD5m_J2nG-yIHy9rdMn7YpKhnwRYrY6Wkw",authDomain:"ecommerce-5e7ef.firebaseapp.com",databaseURL:"https://ecommerce-5e7ef-default-rtdb.firebaseio.com",projectId:"ecommerce-5e7ef",storageBucket:"ecommerce-5e7ef.appspot.com",messagingSenderId:"454449190693",appId:"1:454449190693:web:33b4f6a7a75c50df69accc"},V1=Jw(_b),Fv=j2(V1),wb=sb(V1);function Eb(){const t=(T,v)=>{n(xe.addNotification({title:v,type:T})),setTimeout(()=>{n(xe.removeNotification())},3e3)},e=_a(T=>T.ui.loading),n=us(),[r,i]=j.useState(""),[s,o]=j.useState(""),[l,u]=j.useState(""),[c]=vR(),f=vi(),p=c.get("mode"),m=p==="login";j.useEffect(()=>{if(p&&p!=="signup"&&p!=="login")throw new Error("Invalid authentication mode");p||f("/auth?mode=signup",{replace:!0})},[]);const C=T=>{i(T.target.value)},R=T=>{u(T.target.value)},N=T=>{o(T.target.value)},M=async T=>{if(T.preventDefault(),m)if(r.length===0||!r.includes("@")||!r.endsWith(".com")||l.length<8)(r.length===0||!r.includes("@")||!r.endsWith(".com"))&&t("error","Please enter a valid Email"),l.length<8&&t("error","Please enter a valid password (min 8 characters)");else{try{n(xe.setLoading(!0));const v=await CD(Fv,r,l);n(xe.setToken(v.user.uid));const w=new Date;w.setHours(w.getHours()+1),localStorage.setItem("expiration",w.toISOString()),t("success","Login Successfull"),n(xe.setLoading(!1)),f("/")}catch(v){t("error",v.message),n(xe.setLoading(!1))}i(""),u("")}else if(r.length===0||!r.includes("@")||!r.endsWith(".com")||l.length<8||s===""||!s.includes(" "))(r.length===0||!r.includes("@")||!r.endsWith(".com"))&&t("error","Please enter a valid Email"),l.length<8&&t("error","Please enter a valid password (min 8 characters)"),(s===""||!s.includes(" "))&&t("error","Please enter your valid full name");else{try{n(xe.setLoading(!0));const w=(await ID(Fv,r.trim(),l.trim())).user.uid,L={email:r.trim(),uid:w,cartItems:[],totalNumItems:0,totalAmount:0},z=rb(wb,"users",w);await yb(z,L),n(xe.setToken(w));const k=new Date;k.setHours(k.getHours()+1),localStorage.setItem("expiration",k.toISOString()),t("success","User Registered Successfully."),n(xe.setLoading(!1)),f("/")}catch(v){t("error",v.message),n(xe.setLoading(!1))}o(""),i(""),u("")}};return x.jsx("div",{className:Jt.container,children:x.jsxs(Xc,{className:Jt.formContainer,children:[x.jsx("h1",{className:Jt.heading,children:m?"Login":"Signup"}),m&&x.jsxs("p",{className:Jt.mesText,children:["Welcome! Please ",x.jsx("span",{className:Jt.red,children:"Login"})," to make any purchase."]}),!m&&x.jsxs("p",{className:Jt.mesText,children:["Please ",x.jsx("span",{className:Jt.red,children:"Signup"})," and you will be automatically logged in to your account."]}),x.jsxs("form",{onSubmit:M,children:[!m&&x.jsxs("fieldset",{className:Jt.fieldset,children:[x.jsx("label",{htmlFor:"name",children:"Full Name*"}),x.jsx("input",{value:s,placeholder:"eg: johndoe@gmail.com",type:"text",id:"name",onChange:N})]}),x.jsxs("fieldset",{className:Jt.fieldset,children:[x.jsx("label",{htmlFor:"Email",children:"Email*"}),x.jsx("input",{value:r,placeholder:"eg: johndoe@gmail.com",type:"email",id:"Email",onChange:C})]}),x.jsxs("fieldset",{className:Jt.fieldset,children:[x.jsx("label",{htmlFor:"password",children:"Password* (min 8 chatacters)"}),x.jsx("input",{value:l,placeholder:"Enter password",onChange:R,type:"password",id:"password"})]}),x.jsx(Ji,{type:"submit",className:Jt.submitBtn,disabled:e,children:e?x.jsx("div",{className:Jt.spinner}):m?"Login":"Register"})]}),x.jsx(Bt,{className:Jt.changeModeBtn,to:`/auth?mode=${m?"signup":"login"}`,children:m?"Not a user? Signup Now":"Already a user? Login"})]})})}function Tb(){return x.jsx(Eb,{})}const F1=()=>dl()?Ha("/"):x.jsx(jp,{}),Sb=Object.freeze(Object.defineProperty({__proto__:null,authLoader:F1,default:Tb},Symbol.toStringTag,{value:"Module"})),Ib=rR([{path:"/",element:x.jsx(yA,{}),errorElement:x.jsx(_A,{}),children:[{index:!0,Component:j.lazy(()=>Pi(()=>import("./HomePage-DSYJXssL.js"),__vite__mapDeps([0,1])))},{path:"/shop",loader:()=>Ha("/shop/category/all")},{path:"/shop/category",loader:()=>Ha("/shop/category/all")},{path:"/shop/category/all",loader:Uw,Component:j.lazy(()=>Pi(()=>Promise.resolve().then(()=>sk),void 0))},{path:"/shop/category/:categoryName",loader:jw,Component:j.lazy(()=>Pi(()=>Promise.resolve().then(()=>BA),void 0))},{path:"/shop/category/:categoryName/:productId",loader:Bw,Component:j.lazy(()=>Pi(()=>Promise.resolve().then(()=>Ek),void 0))},{path:"/cart",loader:$w,Component:j.lazy(()=>Pi(()=>Promise.resolve().then(()=>Uk),void 0))},{path:"/contactUs",Component:j.lazy(()=>Pi(()=>import("./ContactUsPage-Ddl4XPmw.js"),__vite__mapDeps([2,3])))},{path:"/auth",Component:j.lazy(()=>Pi(()=>Promise.resolve().then(()=>Sb),void 0)),loader:F1},{path:"/logout",action:vA}]}],{basename:"/React-Ecommerce"});function Cb(){return x.jsx(dR,{router:Ib})}const Rb=rA({reducer:{ui:gA,cart:DA}});ph.createRoot(document.getElementById("root")).render(x.jsx(Uf.StrictMode,{children:x.jsx(IP,{store:Rb,children:x.jsx(Cb,{})})}));export{yf as B,Xc as C,us as a,Ji as b,xe as c,x as j,j as r,vi as u};
