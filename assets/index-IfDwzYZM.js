const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-D_CR8BX7.js","assets/HomePage-Dd0IRUR4.css","assets/ContactUsPage-Br0aNhVy.js","assets/ContactUsPage-BZtiGOCz.css"])))=>i.map(i=>d[i]);
function y0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v0={exports:{}},pd={},_0={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),d1=Symbol.for("react.portal"),h1=Symbol.for("react.fragment"),f1=Symbol.for("react.strict_mode"),p1=Symbol.for("react.profiler"),m1=Symbol.for("react.provider"),g1=Symbol.for("react.context"),y1=Symbol.for("react.forward_ref"),v1=Symbol.for("react.suspense"),_1=Symbol.for("react.memo"),w1=Symbol.for("react.lazy"),dy=Symbol.iterator;function E1(t){return t===null||typeof t!="object"?null:(t=dy&&t[dy]||t["@@iterator"],typeof t=="function"?t:null)}var w0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E0=Object.assign,T0={};function Wo(t,e,n){this.props=t,this.context=e,this.refs=T0,this.updater=n||w0}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function S0(){}S0.prototype=Wo.prototype;function jp(t,e,n){this.props=t,this.context=e,this.refs=T0,this.updater=n||w0}var Up=jp.prototype=new S0;Up.constructor=jp;E0(Up,Wo.prototype);Up.isPureReactComponent=!0;var hy=Array.isArray,I0=Object.prototype.hasOwnProperty,Bp={current:null},C0={key:!0,ref:!0,__self:!0,__source:!0};function P0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)I0.call(e,r)&&!C0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ul,type:t,key:s,ref:o,props:i,_owner:Bp.current}}function T1(t,e){return{$$typeof:Ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $p(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul}function S1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fy=/\/+/g;function ph(t,e){return typeof t=="object"&&t!==null&&t.key!=null?S1(""+t.key):e.toString(36)}function Qu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ul:case d1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ph(o,0):r,hy(i)?(n="",t!=null&&(n=t.replace(fy,"$&/")+"/"),Qu(i,e,n,"",function(c){return c})):i!=null&&($p(i)&&(i=T1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",hy(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+ph(s,l);o+=Qu(s,e,n,u,i)}else if(u=E1(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+ph(s,l++),o+=Qu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Iu(t,e,n){if(t==null)return t;var r=[],i=0;return Qu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function I1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},Yu={transition:null},C1={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Yu,ReactCurrentOwner:Bp};function R0(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Iu,forEach:function(t,e,n){Iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Iu(t,function(){e++}),e},toArray:function(t){return Iu(t,function(e){return e})||[]},only:function(t){if(!$p(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Wo;ge.Fragment=h1;ge.Profiler=p1;ge.PureComponent=jp;ge.StrictMode=f1;ge.Suspense=v1;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C1;ge.act=R0;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)I0.call(e,u)&&!C0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ul,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:g1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m1,_context:t},t.Consumer=t};ge.createElement=P0;ge.createFactory=function(t){var e=P0.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:y1,render:t}};ge.isValidElement=$p;ge.lazy=function(t){return{$$typeof:w1,_payload:{_status:-1,_result:t},_init:I1}};ge.memo=function(t,e){return{$$typeof:_1,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Yu.transition;Yu.transition={};try{t()}finally{Yu.transition=e}};ge.unstable_act=R0;ge.useCallback=function(t,e){return Xt.current.useCallback(t,e)};ge.useContext=function(t){return Xt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Xt.current.useEffect(t,e)};ge.useId=function(){return Xt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Xt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};ge.useRef=function(t){return Xt.current.useRef(t)};ge.useState=function(t){return Xt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Xt.current.useTransition()};ge.version="18.3.1";_0.exports=ge;var F=_0.exports;const pi=Ho(F),uf=y0({__proto__:null,default:pi},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=F,R1=Symbol.for("react.element"),A1=Symbol.for("react.fragment"),k1=Object.prototype.hasOwnProperty,x1=P1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N1={key:!0,ref:!0,__self:!0,__source:!0};function A0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)k1.call(e,r)&&!N1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:R1,type:t,key:s,ref:o,props:i,_owner:x1.current}}pd.Fragment=A1;pd.jsx=A0;pd.jsxs=A0;v0.exports=pd;var T=v0.exports,cf={},k0={exports:{}},En={},x0={exports:{}},N0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,ne){var ie=G.length;G.push(ne);e:for(;0<ie;){var Ie=ie-1>>>1,Ee=G[Ie];if(0<i(Ee,ne))G[Ie]=ne,G[ie]=Ee,ie=Ie;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],ie=G.pop();if(ie!==ne){G[0]=ie;e:for(var Ie=0,Ee=G.length,Le=Ee>>>1;Ie<Le;){var ct=2*(Ie+1)-1,Tt=G[ct],St=ct+1,Nn=G[St];if(0>i(Tt,ie))St<Ee&&0>i(Nn,Tt)?(G[Ie]=Nn,G[St]=ie,Ie=St):(G[Ie]=Tt,G[ct]=ie,Ie=ct);else if(St<Ee&&0>i(Nn,ie))G[Ie]=Nn,G[St]=ie,Ie=St;else break e}}return ne}function i(G,ne){var ie=G.sortIndex-ne.sortIndex;return ie!==0?ie:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,m=3,_=!1,C=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=G)r(c),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(c)}}function b(G){if(R=!1,w(G),!C)if(n(u)!==null)C=!0,Yn(U);else{var ne=n(c);ne!==null&&xe(b,ne.startTime-G)}}function U(G,ne){C=!1,R&&(R=!1,I(g),g=-1),_=!0;var ie=m;try{for(w(ne),f=n(u);f!==null&&(!(f.expirationTime>ne)||G&&!x());){var Ie=f.callback;if(typeof Ie=="function"){f.callback=null,m=f.priorityLevel;var Ee=Ie(f.expirationTime<=ne);ne=t.unstable_now(),typeof Ee=="function"?f.callback=Ee:f===n(u)&&r(u),w(ne)}else r(u);f=n(u)}if(f!==null)var Le=!0;else{var ct=n(c);ct!==null&&xe(b,ct.startTime-ne),Le=!1}return Le}finally{f=null,m=ie,_=!1}}var k=!1,S=null,g=-1,E=5,P=-1;function x(){return!(t.unstable_now()-P<E)}function O(){if(S!==null){var G=t.unstable_now();P=G;var ne=!0;try{ne=S(!0,G)}finally{ne?A():(k=!1,S=null)}}else k=!1}var A;if(typeof y=="function")A=function(){y(O)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ye=fe.port2;fe.port1.onmessage=O,A=function(){ye.postMessage(null)}}else A=function(){D(O,0)};function Yn(G){S=G,k||(k=!0,A())}function xe(G,ne){g=D(function(){G(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,Yn(U))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var ie=m;m=ne;try{return G()}finally{m=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ie=m;m=G;try{return ne()}finally{m=ie}},t.unstable_scheduleCallback=function(G,ne,ie){var Ie=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ie+ie:Ie):ie=Ie,G){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ie+Ee,G={id:d++,callback:ne,priorityLevel:G,startTime:ie,expirationTime:Ee,sortIndex:-1},ie>Ie?(G.sortIndex=ie,e(c,G),n(u)===null&&G===n(c)&&(R?(I(g),g=-1):R=!0,xe(b,ie-Ie))):(G.sortIndex=Ee,e(u,G),C||_||(C=!0,Yn(U))),G},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(G){var ne=m;return function(){var ie=m;m=ne;try{return G.apply(this,arguments)}finally{m=ie}}}})(N0);x0.exports=N0;var D1=x0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1=F,vn=D1;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D0=new Set,ul={};function Ds(t,e){Ro(t,e),Ro(t+"Capture",e)}function Ro(t,e){for(ul[t]=e,t=0;t<e.length;t++)D0.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),df=Object.prototype.hasOwnProperty,O1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,py={},my={};function L1(t){return df.call(my,t)?!0:df.call(py,t)?!1:O1.test(t)?my[t]=!0:(py[t]=!0,!1)}function M1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function V1(t,e,n,r){if(e===null||typeof e>"u"||M1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var zp=/[\-:]([a-z])/g;function Hp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zp,Hp);Dt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zp,Hp);Dt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zp,Hp);Dt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wp(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(V1(e,n,i,r)&&(n=null),r||i===null?L1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hr=b1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cu=Symbol.for("react.element"),to=Symbol.for("react.portal"),no=Symbol.for("react.fragment"),qp=Symbol.for("react.strict_mode"),hf=Symbol.for("react.profiler"),b0=Symbol.for("react.provider"),O0=Symbol.for("react.context"),Kp=Symbol.for("react.forward_ref"),ff=Symbol.for("react.suspense"),pf=Symbol.for("react.suspense_list"),Gp=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),L0=Symbol.for("react.offscreen"),gy=Symbol.iterator;function Ea(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,mh;function Fa(t){if(mh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mh=e&&e[1]||""}return`
`+mh+t}var gh=!1;function yh(t,e){if(!t||gh)return"";gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{gh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fa(t):""}function F1(t){switch(t.tag){case 5:return Fa(t.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return t=yh(t.type,!1),t;case 11:return t=yh(t.type.render,!1),t;case 1:return t=yh(t.type,!0),t;default:return""}}function mf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case no:return"Fragment";case to:return"Portal";case hf:return"Profiler";case qp:return"StrictMode";case ff:return"Suspense";case pf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O0:return(t.displayName||"Context")+".Consumer";case b0:return(t._context.displayName||"Context")+".Provider";case Kp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gp:return e=t.displayName||null,e!==null?e:mf(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return mf(t(e))}catch{}}return null}function j1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mf(e);case 8:return e===qp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U1(t){var e=M0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pu(t){t._valueTracker||(t._valueTracker=U1(t))}function V0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=M0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gf(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F0(t,e){e=e.checked,e!=null&&Wp(t,"checked",e,!1)}function yf(t,e){F0(t,e);var n=Ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&vf(t,e.type,Ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vf(t,e,n){(e!=="number"||vc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ja=Array.isArray;function go(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _f(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _y(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(ja(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ai(n)}}function j0(t,e){var n=Ai(e.value),r=Ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ru,B0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ru=Ru||document.createElement("div"),Ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B1=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(t){B1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qa[e]=Qa[t]})});function $0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qa.hasOwnProperty(t)&&Qa[t]?(""+e).trim():e+"px"}function z0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $1=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ef(t,e){if(e){if($1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Tf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=null;function Qp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var If=null,yo=null,vo=null;function Ey(t){if(t=zl(t)){if(typeof If!="function")throw Error(H(280));var e=t.stateNode;e&&(e=_d(e),If(t.stateNode,t.type,e))}}function H0(t){yo?vo?vo.push(t):vo=[t]:yo=t}function W0(){if(yo){var t=yo,e=vo;if(vo=yo=null,Ey(t),e)for(t=0;t<e.length;t++)Ey(e[t])}}function q0(t,e){return t(e)}function K0(){}var vh=!1;function G0(t,e,n){if(vh)return t(e,n);vh=!0;try{return q0(t,e,n)}finally{vh=!1,(yo!==null||vo!==null)&&(K0(),W0())}}function dl(t,e){var n=t.stateNode;if(n===null)return null;var r=_d(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Cf=!1;if(Mr)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{Cf=!1}function z1(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ya=!1,_c=null,wc=!1,Pf=null,H1={onError:function(t){Ya=!0,_c=t}};function W1(t,e,n,r,i,s,o,l,u){Ya=!1,_c=null,z1.apply(H1,arguments)}function q1(t,e,n,r,i,s,o,l,u){if(W1.apply(this,arguments),Ya){if(Ya){var c=_c;Ya=!1,_c=null}else throw Error(H(198));wc||(wc=!0,Pf=c)}}function bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Q0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ty(t){if(bs(t)!==t)throw Error(H(188))}function K1(t){var e=t.alternate;if(!e){if(e=bs(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ty(i),t;if(s===r)return Ty(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Y0(t){return t=K1(t),t!==null?X0(t):null}function X0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X0(t);if(e!==null)return e;t=t.sibling}return null}var J0=vn.unstable_scheduleCallback,Sy=vn.unstable_cancelCallback,G1=vn.unstable_shouldYield,Q1=vn.unstable_requestPaint,it=vn.unstable_now,Y1=vn.unstable_getCurrentPriorityLevel,Yp=vn.unstable_ImmediatePriority,Z0=vn.unstable_UserBlockingPriority,Ec=vn.unstable_NormalPriority,X1=vn.unstable_LowPriority,ew=vn.unstable_IdlePriority,md=null,ar=null;function J1(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(md,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:tC,Z1=Math.log,eC=Math.LN2;function tC(t){return t>>>=0,t===0?32:31-(Z1(t)/eC|0)|0}var Au=64,ku=4194304;function Ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ua(l):(s&=o,s!==0&&(r=Ua(s)))}else o=n&~i,o!==0?r=Ua(o):s!==0&&(r=Ua(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),i=1<<n,r|=t[n],e&=~i;return r}function nC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$n(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=nC(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Rf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tw(){var t=Au;return Au<<=1,!(Au&4194240)&&(Au=64),t}function _h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function iC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function nw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rw,Jp,iw,sw,ow,Af=!1,xu=[],mi=null,gi=null,yi=null,hl=new Map,fl=new Map,si=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iy(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(e.pointerId)}}function Sa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=zl(e),e!==null&&Jp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oC(t,e,n,r,i){switch(e){case"focusin":return mi=Sa(mi,t,e,n,r,i),!0;case"dragenter":return gi=Sa(gi,t,e,n,r,i),!0;case"mouseover":return yi=Sa(yi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return hl.set(s,Sa(hl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fl.set(s,Sa(fl.get(s)||null,t,e,n,r,i)),!0}return!1}function aw(t){var e=os(t.target);if(e!==null){var n=bs(e);if(n!==null){if(e=n.tag,e===13){if(e=Q0(n),e!==null){t.blockedOn=e,ow(t.priority,function(){iw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sf=r,n.target.dispatchEvent(r),Sf=null}else return e=zl(n),e!==null&&Jp(e),t.blockedOn=n,!1;e.shift()}return!0}function Cy(t,e,n){Xu(t)&&n.delete(e)}function aC(){Af=!1,mi!==null&&Xu(mi)&&(mi=null),gi!==null&&Xu(gi)&&(gi=null),yi!==null&&Xu(yi)&&(yi=null),hl.forEach(Cy),fl.forEach(Cy)}function Ia(t,e){t.blockedOn===e&&(t.blockedOn=null,Af||(Af=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,aC)))}function pl(t){function e(i){return Ia(i,t)}if(0<xu.length){Ia(xu[0],t);for(var n=1;n<xu.length;n++){var r=xu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mi!==null&&Ia(mi,t),gi!==null&&Ia(gi,t),yi!==null&&Ia(yi,t),hl.forEach(e),fl.forEach(e),n=0;n<si.length;n++)r=si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)aw(n),n.blockedOn===null&&si.shift()}var _o=Hr.ReactCurrentBatchConfig,Sc=!0;function lC(t,e,n,r){var i=De,s=_o.transition;_o.transition=null;try{De=1,Zp(t,e,n,r)}finally{De=i,_o.transition=s}}function uC(t,e,n,r){var i=De,s=_o.transition;_o.transition=null;try{De=4,Zp(t,e,n,r)}finally{De=i,_o.transition=s}}function Zp(t,e,n,r){if(Sc){var i=kf(t,e,n,r);if(i===null)kh(t,e,r,Ic,n),Iy(t,r);else if(oC(i,t,e,n,r))r.stopPropagation();else if(Iy(t,r),e&4&&-1<sC.indexOf(t)){for(;i!==null;){var s=zl(i);if(s!==null&&rw(s),s=kf(t,e,n,r),s===null&&kh(t,e,r,Ic,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kh(t,e,r,null,n)}}var Ic=null;function kf(t,e,n,r){if(Ic=null,t=Qp(r),t=os(t),t!==null)if(e=bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Q0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ic=t,null}function lw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y1()){case Yp:return 1;case Z0:return 4;case Ec:case X1:return 16;case ew:return 536870912;default:return 16}default:return 16}}var di=null,em=null,Ju=null;function uw(){if(Ju)return Ju;var t,e=em,n=e.length,r,i="value"in di?di.value:di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ju=i.slice(t,1<r?1-r:void 0)}function Zu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function Py(){return!1}function Tn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nu:Py,this.isPropagationStopped=Py,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tm=Tn(qo),$l=Je({},qo,{view:0,detail:0}),cC=Tn($l),wh,Eh,Ca,gd=Je({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ca&&(Ca&&t.type==="mousemove"?(wh=t.screenX-Ca.screenX,Eh=t.screenY-Ca.screenY):Eh=wh=0,Ca=t),wh)},movementY:function(t){return"movementY"in t?t.movementY:Eh}}),Ry=Tn(gd),dC=Je({},gd,{dataTransfer:0}),hC=Tn(dC),fC=Je({},$l,{relatedTarget:0}),Th=Tn(fC),pC=Je({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),mC=Tn(pC),gC=Je({},qo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yC=Tn(gC),vC=Je({},qo,{data:0}),Ay=Tn(vC),_C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EC[t])?!!e[t]:!1}function nm(){return TC}var SC=Je({},$l,{key:function(t){if(t.key){var e=_C[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nm,charCode:function(t){return t.type==="keypress"?Zu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IC=Tn(SC),CC=Je({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ky=Tn(CC),PC=Je({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nm}),RC=Tn(PC),AC=Je({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),kC=Tn(AC),xC=Je({},gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NC=Tn(xC),DC=[9,13,27,32],rm=Mr&&"CompositionEvent"in window,Xa=null;Mr&&"documentMode"in document&&(Xa=document.documentMode);var bC=Mr&&"TextEvent"in window&&!Xa,cw=Mr&&(!rm||Xa&&8<Xa&&11>=Xa),xy=" ",Ny=!1;function dw(t,e){switch(t){case"keyup":return DC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ro=!1;function OC(t,e){switch(t){case"compositionend":return hw(e);case"keypress":return e.which!==32?null:(Ny=!0,xy);case"textInput":return t=e.data,t===xy&&Ny?null:t;default:return null}}function LC(t,e){if(ro)return t==="compositionend"||!rm&&dw(t,e)?(t=uw(),Ju=em=di=null,ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cw&&e.locale!=="ko"?null:e.data;default:return null}}var MC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MC[t.type]:e==="textarea"}function fw(t,e,n,r){H0(r),e=Cc(e,"onChange"),0<e.length&&(n=new tm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ja=null,ml=null;function VC(t){Iw(t,0)}function yd(t){var e=oo(t);if(V0(e))return t}function FC(t,e){if(t==="change")return e}var pw=!1;if(Mr){var Sh;if(Mr){var Ih="oninput"in document;if(!Ih){var by=document.createElement("div");by.setAttribute("oninput","return;"),Ih=typeof by.oninput=="function"}Sh=Ih}else Sh=!1;pw=Sh&&(!document.documentMode||9<document.documentMode)}function Oy(){Ja&&(Ja.detachEvent("onpropertychange",mw),ml=Ja=null)}function mw(t){if(t.propertyName==="value"&&yd(ml)){var e=[];fw(e,ml,t,Qp(t)),G0(VC,e)}}function jC(t,e,n){t==="focusin"?(Oy(),Ja=e,ml=n,Ja.attachEvent("onpropertychange",mw)):t==="focusout"&&Oy()}function UC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(ml)}function BC(t,e){if(t==="click")return yd(e)}function $C(t,e){if(t==="input"||t==="change")return yd(e)}function zC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:zC;function gl(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!df.call(e,i)||!qn(t[i],e[i]))return!1}return!0}function Ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function My(t,e){var n=Ly(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ly(n)}}function gw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yw(){for(var t=window,e=vc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vc(t.document)}return e}function im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HC(t){var e=yw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gw(n.ownerDocument.documentElement,n)){if(r!==null&&im(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=My(n,s);var o=My(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WC=Mr&&"documentMode"in document&&11>=document.documentMode,io=null,xf=null,Za=null,Nf=!1;function Vy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nf||io==null||io!==vc(r)||(r=io,"selectionStart"in r&&im(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Za&&gl(Za,r)||(Za=r,r=Cc(xf,"onSelect"),0<r.length&&(e=new tm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=io)))}function Du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var so={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},Ch={},vw={};Mr&&(vw=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function vd(t){if(Ch[t])return Ch[t];if(!so[t])return t;var e=so[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vw)return Ch[t]=e[n];return t}var _w=vd("animationend"),ww=vd("animationiteration"),Ew=vd("animationstart"),Tw=vd("transitionend"),Sw=new Map,Fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){Sw.set(t,e),Ds(e,[t])}for(var Ph=0;Ph<Fy.length;Ph++){var Rh=Fy[Ph],qC=Rh.toLowerCase(),KC=Rh[0].toUpperCase()+Rh.slice(1);Ui(qC,"on"+KC)}Ui(_w,"onAnimationEnd");Ui(ww,"onAnimationIteration");Ui(Ew,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(Tw,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function jy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,q1(r,e,void 0,t),t.currentTarget=null}function Iw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;jy(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;jy(i,l,c),s=u}}}if(wc)throw t=Pf,wc=!1,Pf=null,t}function $e(t,e){var n=e[Mf];n===void 0&&(n=e[Mf]=new Set);var r=t+"__bubble";n.has(r)||(Cw(e,t,2,!1),n.add(r))}function Ah(t,e,n){var r=0;e&&(r|=4),Cw(n,t,r,e)}var bu="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[bu]){t[bu]=!0,D0.forEach(function(n){n!=="selectionchange"&&(GC.has(n)||Ah(n,!1,t),Ah(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bu]||(e[bu]=!0,Ah("selectionchange",!1,e))}}function Cw(t,e,n,r){switch(lw(e)){case 1:var i=lC;break;case 4:i=uC;break;default:i=Zp}n=i.bind(null,e,n,t),i=void 0,!Cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=os(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}G0(function(){var c=s,d=Qp(n),f=[];e:{var m=Sw.get(t);if(m!==void 0){var _=tm,C=t;switch(t){case"keypress":if(Zu(n)===0)break e;case"keydown":case"keyup":_=IC;break;case"focusin":C="focus",_=Th;break;case"focusout":C="blur",_=Th;break;case"beforeblur":case"afterblur":_=Th;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Ry;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=hC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=RC;break;case _w:case ww:case Ew:_=mC;break;case Tw:_=kC;break;case"scroll":_=cC;break;case"wheel":_=NC;break;case"copy":case"cut":case"paste":_=yC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=ky}var R=(e&4)!==0,D=!R&&t==="scroll",I=R?m!==null?m+"Capture":null:m;R=[];for(var y=c,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,I!==null&&(b=dl(y,I),b!=null&&R.push(vl(y,b,w)))),D)break;y=y.return}0<R.length&&(m=new _(m,C,null,n,d),f.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==Sf&&(C=n.relatedTarget||n.fromElement)&&(os(C)||C[Vr]))break e;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=c,C=C?os(C):null,C!==null&&(D=bs(C),C!==D||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=c),_!==C)){if(R=Ry,b="onMouseLeave",I="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(R=ky,b="onPointerLeave",I="onPointerEnter",y="pointer"),D=_==null?m:oo(_),w=C==null?m:oo(C),m=new R(b,y+"leave",_,n,d),m.target=D,m.relatedTarget=w,b=null,os(d)===c&&(R=new R(I,y+"enter",C,n,d),R.target=w,R.relatedTarget=D,b=R),D=b,_&&C)t:{for(R=_,I=C,y=0,w=R;w;w=Gs(w))y++;for(w=0,b=I;b;b=Gs(b))w++;for(;0<y-w;)R=Gs(R),y--;for(;0<w-y;)I=Gs(I),w--;for(;y--;){if(R===I||I!==null&&R===I.alternate)break t;R=Gs(R),I=Gs(I)}R=null}else R=null;_!==null&&Uy(f,m,_,R,!1),C!==null&&D!==null&&Uy(f,D,C,R,!0)}}e:{if(m=c?oo(c):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var U=FC;else if(Dy(m))if(pw)U=$C;else{U=UC;var k=jC}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(U=BC);if(U&&(U=U(t,c))){fw(f,U,n,d);break e}k&&k(t,m,c),t==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&vf(m,"number",m.value)}switch(k=c?oo(c):window,t){case"focusin":(Dy(k)||k.contentEditable==="true")&&(io=k,xf=c,Za=null);break;case"focusout":Za=xf=io=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Vy(f,n,d);break;case"selectionchange":if(WC)break;case"keydown":case"keyup":Vy(f,n,d)}var S;if(rm)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else ro?dw(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(cw&&n.locale!=="ko"&&(ro||g!=="onCompositionStart"?g==="onCompositionEnd"&&ro&&(S=uw()):(di=d,em="value"in di?di.value:di.textContent,ro=!0)),k=Cc(c,g),0<k.length&&(g=new Ay(g,t,null,n,d),f.push({event:g,listeners:k}),S?g.data=S:(S=hw(n),S!==null&&(g.data=S)))),(S=bC?OC(t,n):LC(t,n))&&(c=Cc(c,"onBeforeInput"),0<c.length&&(d=new Ay("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}Iw(f,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dl(t,n),s!=null&&r.unshift(vl(t,s,i)),s=dl(t,e),s!=null&&r.push(vl(t,s,i))),t=t.return}return r}function Gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=dl(n,s),u!=null&&o.unshift(vl(n,u,l))):i||(u=dl(n,s),u!=null&&o.push(vl(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function By(t){return(typeof t=="string"?t:""+t).replace(QC,`
`).replace(YC,"")}function Ou(t,e,n){if(e=By(e),By(t)!==e&&n)throw Error(H(425))}function Pc(){}var Df=null,bf=null;function Of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(t){return $y.resolve(null).then(t).catch(ZC)}:Lf;function ZC(t){setTimeout(function(){throw t})}function xh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pl(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),ir="__reactFiber$"+Ko,_l="__reactProps$"+Ko,Vr="__reactContainer$"+Ko,Mf="__reactEvents$"+Ko,eP="__reactListeners$"+Ko,tP="__reactHandles$"+Ko;function os(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vr]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zy(t);t!==null;){if(n=t[ir])return n;t=zy(t)}return e}t=n,n=t.parentNode}return null}function zl(t){return t=t[ir]||t[Vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function _d(t){return t[_l]||null}var Vf=[],ao=-1;function Bi(t){return{current:t}}function ze(t){0>ao||(t.current=Vf[ao],Vf[ao]=null,ao--)}function Fe(t,e){ao++,Vf[ao]=t.current,t.current=e}var ki={},Wt=Bi(ki),rn=Bi(!1),gs=ki;function Ao(t,e){var n=t.type.contextTypes;if(!n)return ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function Rc(){ze(rn),ze(Wt)}function Hy(t,e,n){if(Wt.current!==ki)throw Error(H(168));Fe(Wt,e),Fe(rn,n)}function Pw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,j1(t)||"Unknown",i));return Je({},n,r)}function Ac(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,gs=Wt.current,Fe(Wt,t),Fe(rn,rn.current),!0}function Wy(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Pw(t,e,gs),r.__reactInternalMemoizedMergedChildContext=t,ze(rn),ze(Wt),Fe(Wt,t)):ze(rn),Fe(rn,n)}var Ar=null,wd=!1,Nh=!1;function Rw(t){Ar===null?Ar=[t]:Ar.push(t)}function nP(t){wd=!0,Rw(t)}function $i(){if(!Nh&&Ar!==null){Nh=!0;var t=0,e=De;try{var n=Ar;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,wd=!1}catch(i){throw Ar!==null&&(Ar=Ar.slice(t+1)),J0(Yp,$i),i}finally{De=e,Nh=!1}}return null}var lo=[],uo=0,kc=null,xc=0,Cn=[],Pn=0,ys=null,kr=1,xr="";function ts(t,e){lo[uo++]=xc,lo[uo++]=kc,kc=t,xc=e}function Aw(t,e,n){Cn[Pn++]=kr,Cn[Pn++]=xr,Cn[Pn++]=ys,ys=t;var r=kr;t=xr;var i=32-$n(r)-1;r&=~(1<<i),n+=1;var s=32-$n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,kr=1<<32-$n(e)+i|n<<i|r,xr=s+t}else kr=1<<s|n<<i|r,xr=t}function sm(t){t.return!==null&&(ts(t,1),Aw(t,1,0))}function om(t){for(;t===kc;)kc=lo[--uo],lo[uo]=null,xc=lo[--uo],lo[uo]=null;for(;t===ys;)ys=Cn[--Pn],Cn[Pn]=null,xr=Cn[--Pn],Cn[Pn]=null,kr=Cn[--Pn],Cn[Pn]=null}var yn=null,pn=null,Ke=!1,jn=null;function kw(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,pn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ys!==null?{id:kr,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,pn=null,!0):!1;default:return!1}}function Ff(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jf(t){if(Ke){var e=pn;if(e){var n=e;if(!qy(t,e)){if(Ff(t))throw Error(H(418));e=vi(n.nextSibling);var r=yn;e&&qy(t,e)?kw(r,n):(t.flags=t.flags&-4097|2,Ke=!1,yn=t)}}else{if(Ff(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ke=!1,yn=t}}}function Ky(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function Lu(t){if(t!==yn)return!1;if(!Ke)return Ky(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Of(t.type,t.memoizedProps)),e&&(e=pn)){if(Ff(t))throw xw(),Error(H(418));for(;e;)kw(t,e),e=vi(e.nextSibling)}if(Ky(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=yn?vi(t.stateNode.nextSibling):null;return!0}function xw(){for(var t=pn;t;)t=vi(t.nextSibling)}function ko(){pn=yn=null,Ke=!1}function am(t){jn===null?jn=[t]:jn.push(t)}var rP=Hr.ReactCurrentBatchConfig;function Pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Mu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gy(t){var e=t._init;return e(t._payload)}function Nw(t){function e(I,y){if(t){var w=I.deletions;w===null?(I.deletions=[y],I.flags|=16):w.push(y)}}function n(I,y){if(!t)return null;for(;y!==null;)e(I,y),y=y.sibling;return null}function r(I,y){for(I=new Map;y!==null;)y.key!==null?I.set(y.key,y):I.set(y.index,y),y=y.sibling;return I}function i(I,y){return I=Ti(I,y),I.index=0,I.sibling=null,I}function s(I,y,w){return I.index=w,t?(w=I.alternate,w!==null?(w=w.index,w<y?(I.flags|=2,y):w):(I.flags|=2,y)):(I.flags|=1048576,y)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function l(I,y,w,b){return y===null||y.tag!==6?(y=Fh(w,I.mode,b),y.return=I,y):(y=i(y,w),y.return=I,y)}function u(I,y,w,b){var U=w.type;return U===no?d(I,y,w.props.children,b,w.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ri&&Gy(U)===y.type)?(b=i(y,w.props),b.ref=Pa(I,y,w),b.return=I,b):(b=oc(w.type,w.key,w.props,null,I.mode,b),b.ref=Pa(I,y,w),b.return=I,b)}function c(I,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=jh(w,I.mode,b),y.return=I,y):(y=i(y,w.children||[]),y.return=I,y)}function d(I,y,w,b,U){return y===null||y.tag!==7?(y=fs(w,I.mode,b,U),y.return=I,y):(y=i(y,w),y.return=I,y)}function f(I,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Fh(""+y,I.mode,w),y.return=I,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cu:return w=oc(y.type,y.key,y.props,null,I.mode,w),w.ref=Pa(I,null,y),w.return=I,w;case to:return y=jh(y,I.mode,w),y.return=I,y;case ri:var b=y._init;return f(I,b(y._payload),w)}if(ja(y)||Ea(y))return y=fs(y,I.mode,w,null),y.return=I,y;Mu(I,y)}return null}function m(I,y,w,b){var U=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return U!==null?null:l(I,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cu:return w.key===U?u(I,y,w,b):null;case to:return w.key===U?c(I,y,w,b):null;case ri:return U=w._init,m(I,y,U(w._payload),b)}if(ja(w)||Ea(w))return U!==null?null:d(I,y,w,b,null);Mu(I,w)}return null}function _(I,y,w,b,U){if(typeof b=="string"&&b!==""||typeof b=="number")return I=I.get(w)||null,l(y,I,""+b,U);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Cu:return I=I.get(b.key===null?w:b.key)||null,u(y,I,b,U);case to:return I=I.get(b.key===null?w:b.key)||null,c(y,I,b,U);case ri:var k=b._init;return _(I,y,w,k(b._payload),U)}if(ja(b)||Ea(b))return I=I.get(w)||null,d(y,I,b,U,null);Mu(y,b)}return null}function C(I,y,w,b){for(var U=null,k=null,S=y,g=y=0,E=null;S!==null&&g<w.length;g++){S.index>g?(E=S,S=null):E=S.sibling;var P=m(I,S,w[g],b);if(P===null){S===null&&(S=E);break}t&&S&&P.alternate===null&&e(I,S),y=s(P,y,g),k===null?U=P:k.sibling=P,k=P,S=E}if(g===w.length)return n(I,S),Ke&&ts(I,g),U;if(S===null){for(;g<w.length;g++)S=f(I,w[g],b),S!==null&&(y=s(S,y,g),k===null?U=S:k.sibling=S,k=S);return Ke&&ts(I,g),U}for(S=r(I,S);g<w.length;g++)E=_(S,I,g,w[g],b),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?g:E.key),y=s(E,y,g),k===null?U=E:k.sibling=E,k=E);return t&&S.forEach(function(x){return e(I,x)}),Ke&&ts(I,g),U}function R(I,y,w,b){var U=Ea(w);if(typeof U!="function")throw Error(H(150));if(w=U.call(w),w==null)throw Error(H(151));for(var k=U=null,S=y,g=y=0,E=null,P=w.next();S!==null&&!P.done;g++,P=w.next()){S.index>g?(E=S,S=null):E=S.sibling;var x=m(I,S,P.value,b);if(x===null){S===null&&(S=E);break}t&&S&&x.alternate===null&&e(I,S),y=s(x,y,g),k===null?U=x:k.sibling=x,k=x,S=E}if(P.done)return n(I,S),Ke&&ts(I,g),U;if(S===null){for(;!P.done;g++,P=w.next())P=f(I,P.value,b),P!==null&&(y=s(P,y,g),k===null?U=P:k.sibling=P,k=P);return Ke&&ts(I,g),U}for(S=r(I,S);!P.done;g++,P=w.next())P=_(S,I,g,P.value,b),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?g:P.key),y=s(P,y,g),k===null?U=P:k.sibling=P,k=P);return t&&S.forEach(function(O){return e(I,O)}),Ke&&ts(I,g),U}function D(I,y,w,b){if(typeof w=="object"&&w!==null&&w.type===no&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Cu:e:{for(var U=w.key,k=y;k!==null;){if(k.key===U){if(U=w.type,U===no){if(k.tag===7){n(I,k.sibling),y=i(k,w.props.children),y.return=I,I=y;break e}}else if(k.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ri&&Gy(U)===k.type){n(I,k.sibling),y=i(k,w.props),y.ref=Pa(I,k,w),y.return=I,I=y;break e}n(I,k);break}else e(I,k);k=k.sibling}w.type===no?(y=fs(w.props.children,I.mode,b,w.key),y.return=I,I=y):(b=oc(w.type,w.key,w.props,null,I.mode,b),b.ref=Pa(I,y,w),b.return=I,I=b)}return o(I);case to:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(I,y.sibling),y=i(y,w.children||[]),y.return=I,I=y;break e}else{n(I,y);break}else e(I,y);y=y.sibling}y=jh(w,I.mode,b),y.return=I,I=y}return o(I);case ri:return k=w._init,D(I,y,k(w._payload),b)}if(ja(w))return C(I,y,w,b);if(Ea(w))return R(I,y,w,b);Mu(I,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(I,y.sibling),y=i(y,w),y.return=I,I=y):(n(I,y),y=Fh(w,I.mode,b),y.return=I,I=y),o(I)):n(I,y)}return D}var xo=Nw(!0),Dw=Nw(!1),Nc=Bi(null),Dc=null,co=null,lm=null;function um(){lm=co=Dc=null}function cm(t){var e=Nc.current;ze(Nc),t._currentValue=e}function Uf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){Dc=t,lm=co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(lm!==t)if(t={context:t,memoizedValue:e,next:null},co===null){if(Dc===null)throw Error(H(308));co=t,Dc.dependencies={lanes:0,firstContext:t}}else co=co.next=t;return e}var as=null;function dm(t){as===null?as=[t]:as.push(t)}function bw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fr(t,r)}function Fr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ii=!1;function hm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ow(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fr(t,n)}return i=r.interleaved,i===null?(e.next=e,dm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fr(t,n)}function ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xp(t,n)}}function Qy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bc(t,e,n,r){var i=t.updateQueue;ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,l=s;do{var m=l.lane,_=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,R=l;switch(m=e,_=n,R.tag){case 1:if(C=R.payload,typeof C=="function"){f=C.call(_,f,m);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=R.payload,m=typeof C=="function"?C.call(_,f,m):C,m==null)break e;f=Je({},f,m);break e;case 2:ii=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=_,u=f):d=d.next=_,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_s|=o,t.lanes=o,t.memoizedState=f}}function Yy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Hl={},lr=Bi(Hl),wl=Bi(Hl),El=Bi(Hl);function ls(t){if(t===Hl)throw Error(H(174));return t}function fm(t,e){switch(Fe(El,e),Fe(wl,t),Fe(lr,Hl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wf(e,t)}ze(lr),Fe(lr,e)}function No(){ze(lr),ze(wl),ze(El)}function Lw(t){ls(El.current);var e=ls(lr.current),n=wf(e,t.type);e!==n&&(Fe(wl,t),Fe(lr,n))}function pm(t){wl.current===t&&(ze(lr),ze(wl))}var Ye=Bi(0);function Oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function mm(){for(var t=0;t<Dh.length;t++)Dh[t]._workInProgressVersionPrimary=null;Dh.length=0}var tc=Hr.ReactCurrentDispatcher,bh=Hr.ReactCurrentBatchConfig,vs=0,Xe=null,mt=null,wt=null,Lc=!1,el=!1,Tl=0,iP=0;function jt(){throw Error(H(321))}function gm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function ym(t,e,n,r,i,s){if(vs=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tc.current=t===null||t.memoizedState===null?lP:uP,t=n(r,i),el){s=0;do{if(el=!1,Tl=0,25<=s)throw Error(H(301));s+=1,wt=mt=null,e.updateQueue=null,tc.current=cP,t=n(r,i)}while(el)}if(tc.current=Mc,e=mt!==null&&mt.next!==null,vs=0,wt=mt=Xe=null,Lc=!1,e)throw Error(H(300));return t}function vm(){var t=Tl!==0;return Tl=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Xe.memoizedState=wt=t:wt=wt.next=t,wt}function xn(){if(mt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=wt===null?Xe.memoizedState:wt.next;if(e!==null)wt=e,mt=t;else{if(t===null)throw Error(H(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},wt===null?Xe.memoizedState=wt=t:wt=wt.next=t}return wt}function Sl(t,e){return typeof e=="function"?e(t):e}function Oh(t){var e=xn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((vs&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Xe.lanes|=d,_s|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,qn(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,_s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lh(t){var e=xn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);qn(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Mw(){}function Vw(t,e){var n=Xe,r=xn(),i=e(),s=!qn(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,_m(Uw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Il(9,jw.bind(null,n,r,i,e),void 0,null),Et===null)throw Error(H(349));vs&30||Fw(n,e,i)}return i}function Fw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jw(t,e,n,r){e.value=n,e.getSnapshot=r,Bw(e)&&$w(t)}function Uw(t,e,n){return n(function(){Bw(e)&&$w(t)})}function Bw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function $w(t){var e=Fr(t,1);e!==null&&zn(e,t,1,-1)}function Xy(t){var e=rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=aP.bind(null,Xe,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zw(){return xn().memoizedState}function nc(t,e,n,r){var i=rr();Xe.flags|=t,i.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function Ed(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&gm(r,o.deps)){i.memoizedState=Il(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=Il(1|e,n,s,r)}function Jy(t,e){return nc(8390656,8,t,e)}function _m(t,e){return Ed(2048,8,t,e)}function Hw(t,e){return Ed(4,2,t,e)}function Ww(t,e){return Ed(4,4,t,e)}function qw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kw(t,e,n){return n=n!=null?n.concat([t]):null,Ed(4,4,qw.bind(null,e,t),n)}function wm(){}function Gw(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qw(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Yw(t,e,n){return vs&21?(qn(n,e)||(n=tw(),Xe.lanes|=n,_s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function sP(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=bh.transition;bh.transition={};try{t(!1),e()}finally{De=n,bh.transition=r}}function Xw(){return xn().memoizedState}function oP(t,e,n){var r=Ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jw(t))Zw(e,n);else if(n=bw(t,e,n,r),n!==null){var i=Qt();zn(n,t,r,i),eE(n,e,r)}}function aP(t,e,n){var r=Ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jw(t))Zw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,qn(l,o)){var u=e.interleaved;u===null?(i.next=i,dm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=bw(t,e,i,r),n!==null&&(i=Qt(),zn(n,t,r,i),eE(n,e,r))}}function Jw(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function Zw(t,e){el=Lc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xp(t,n)}}var Mc={readContext:kn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},lP={readContext:kn,useCallback:function(t,e){return rr().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:Jy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nc(4194308,4,qw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nc(4194308,4,t,e)},useInsertionEffect:function(t,e){return nc(4,2,t,e)},useMemo:function(t,e){var n=rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oP.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=rr();return t={current:t},e.memoizedState=t},useState:Xy,useDebugValue:wm,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=Xy(!1),e=t[0];return t=sP.bind(null,t[1]),rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=rr();if(Ke){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Et===null)throw Error(H(349));vs&30||Fw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Jy(Uw.bind(null,r,s,t),[t]),r.flags|=2048,Il(9,jw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=rr(),e=Et.identifierPrefix;if(Ke){var n=xr,r=kr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uP={readContext:kn,useCallback:Gw,useContext:kn,useEffect:_m,useImperativeHandle:Kw,useInsertionEffect:Hw,useLayoutEffect:Ww,useMemo:Qw,useReducer:Oh,useRef:zw,useState:function(){return Oh(Sl)},useDebugValue:wm,useDeferredValue:function(t){var e=xn();return Yw(e,mt.memoizedState,t)},useTransition:function(){var t=Oh(Sl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:Mw,useSyncExternalStore:Vw,useId:Xw,unstable_isNewReconciler:!1},cP={readContext:kn,useCallback:Gw,useContext:kn,useEffect:_m,useImperativeHandle:Kw,useInsertionEffect:Hw,useLayoutEffect:Ww,useMemo:Qw,useReducer:Lh,useRef:zw,useState:function(){return Lh(Sl)},useDebugValue:wm,useDeferredValue:function(t){var e=xn();return mt===null?e.memoizedState=t:Yw(e,mt.memoizedState,t)},useTransition:function(){var t=Lh(Sl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:Mw,useSyncExternalStore:Vw,useId:Xw,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Td={isMounted:function(t){return(t=t._reactInternals)?bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Ei(t),s=Or(r,i);s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(zn(e,t,i,r),ec(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Ei(t),s=Or(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_i(t,s,i),e!==null&&(zn(e,t,i,r),ec(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=Ei(t),i=Or(n,r);i.tag=2,e!=null&&(i.callback=e),e=_i(t,i,r),e!==null&&(zn(e,t,r,n),ec(e,t,r))}};function Zy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gl(n,r)||!gl(i,s):!0}function tE(t,e,n){var r=!1,i=ki,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=sn(e)?gs:Wt.current,r=e.contextTypes,s=(r=r!=null)?Ao(t,i):ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ev(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Td.enqueueReplaceState(e,e.state,null)}function $f(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=sn(e)?gs:Wt.current,i.context=Ao(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Td.enqueueReplaceState(i,i.state,null),bc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,e){try{var n="",r=e;do n+=F1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Mh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dP=typeof WeakMap=="function"?WeakMap:Map;function nE(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fc||(Fc=!0,Zf=r),zf(t,e)},n}function rE(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zf(t,e),typeof r!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=CP.bind(null,t,e,n),e.then(t,t))}function nv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,_i(n,e,1))),n.lanes|=1),t)}var hP=Hr.ReactCurrentOwner,nn=!1;function Gt(t,e,n,r){e.child=t===null?Dw(e,null,n,r):xo(e,t.child,n,r)}function iv(t,e,n,r,i){n=n.render;var s=e.ref;return wo(e,i),r=ym(t,e,n,r,s,i),n=vm(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jr(t,e,i)):(Ke&&n&&sm(e),e.flags|=1,Gt(t,e,r,i),e.child)}function sv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Am(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,iE(t,e,s,r,i)):(t=oc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(o,r)&&t.ref===e.ref)return jr(t,e,i)}return e.flags|=1,t=Ti(s,r),t.ref=e.ref,t.return=e,e.child=t}function iE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gl(s,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,jr(t,e,i)}return Hf(t,e,n,r,i)}function sE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(fo,hn),hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(fo,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(fo,hn),hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Fe(fo,hn),hn|=r;return Gt(t,e,i,n),e.child}function oE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hf(t,e,n,r,i){var s=sn(n)?gs:Wt.current;return s=Ao(e,s),wo(e,i),n=ym(t,e,n,r,s,i),r=vm(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jr(t,e,i)):(Ke&&r&&sm(e),e.flags|=1,Gt(t,e,n,i),e.child)}function ov(t,e,n,r,i){if(sn(n)){var s=!0;Ac(e)}else s=!1;if(wo(e,i),e.stateNode===null)rc(t,e),tE(e,n,r),$f(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=kn(c):(c=sn(n)?gs:Wt.current,c=Ao(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&ev(e,o,r,c),ii=!1;var m=e.memoizedState;o.state=m,bc(e,r,o,i),u=e.memoizedState,l!==r||m!==u||rn.current||ii?(typeof d=="function"&&(Bf(e,n,d,r),u=e.memoizedState),(l=ii||Zy(e,n,l,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ow(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Mn(e.type,l),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=kn(u):(u=sn(n)?gs:Wt.current,u=Ao(e,u));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==u)&&ev(e,o,r,u),ii=!1,m=e.memoizedState,o.state=m,bc(e,r,o,i);var C=e.memoizedState;l!==f||m!==C||rn.current||ii?(typeof _=="function"&&(Bf(e,n,_,r),C=e.memoizedState),(c=ii||Zy(e,n,c,r,m,C,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Wf(t,e,n,r,s,i)}function Wf(t,e,n,r,i,s){oE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Wy(e,n,!1),jr(t,e,s);r=e.stateNode,hP.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xo(e,t.child,null,s),e.child=xo(e,null,l,s)):Gt(t,e,l,s),e.memoizedState=r.state,i&&Wy(e,n,!0),e.child}function aE(t){var e=t.stateNode;e.pendingContext?Hy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hy(t,e.context,!1),fm(t,e.containerInfo)}function av(t,e,n,r,i){return ko(),am(i),e.flags|=256,Gt(t,e,n,r),e.child}var qf={dehydrated:null,treeContext:null,retryLane:0};function Kf(t){return{baseLanes:t,cachePool:null,transitions:null}}function lE(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Ye,i&1),t===null)return jf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cd(o,r,0,null),t=fs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kf(n),e.memoizedState=qf,t):Em(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return fP(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ti(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ti(l,s):(s=fs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=qf,r}return s=t.child,t=s.sibling,r=Ti(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Em(t,e){return e=Cd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vu(t,e,n,r){return r!==null&&am(r),xo(e,t.child,null,n),t=Em(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Mh(Error(H(422))),Vu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Cd({mode:"visible",children:r.children},i,0,null),s=fs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&xo(e,t.child,null,o),e.child.memoizedState=Kf(o),e.memoizedState=qf,s);if(!(e.mode&1))return Vu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(H(419)),r=Mh(s,r,void 0),Vu(t,e,o,r)}if(l=(o&t.childLanes)!==0,nn||l){if(r=Et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fr(t,i),zn(r,t,i,-1))}return Rm(),r=Mh(Error(H(421))),Vu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=PP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pn=vi(i.nextSibling),yn=e,Ke=!0,jn=null,t!==null&&(Cn[Pn++]=kr,Cn[Pn++]=xr,Cn[Pn++]=ys,kr=t.id,xr=t.overflow,ys=e),e=Em(e,r.children),e.flags|=4096,e)}function lv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uf(t.return,e,n)}function Vh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gt(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lv(t,n,e);else if(t.tag===19)lv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Oc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Oc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vh(e,!0,n,null,s);break;case"together":Vh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pP(t,e,n){switch(e.tag){case 3:aE(e),ko();break;case 5:Lw(e);break;case 1:sn(e.type)&&Ac(e);break;case 4:fm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Nc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?lE(t,e,n):(Fe(Ye,Ye.current&1),t=jr(t,e,n),t!==null?t.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,sE(t,e,n)}return jr(t,e,n)}var cE,Gf,dE,hE;cE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gf=function(){};dE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ls(lr.current);var s=null;switch(n){case"input":i=gf(t,i),r=gf(t,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=_f(t,i),r=_f(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pc)}Ef(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ul.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ul.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&$e("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};hE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ra(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mP(t,e,n){var r=e.pendingProps;switch(om(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return sn(e.type)&&Rc(),Ut(e),null;case 3:return r=e.stateNode,No(),ze(rn),ze(Wt),mm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(np(jn),jn=null))),Gf(t,e),Ut(e),null;case 5:pm(e);var i=ls(El.current);if(n=e.type,t!==null&&e.stateNode!=null)dE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ut(e),null}if(t=ls(lr.current),Lu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ir]=e,r[_l]=s,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<Ba.length;i++)$e(Ba[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":yy(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":_y(r,s),$e("invalid",r)}Ef(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ou(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ou(r.textContent,l,t),i=["children",""+l]):ul.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":Pu(r),vy(r,s,!0);break;case"textarea":Pu(r),wy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Pc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ir]=e,t[_l]=r,cE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tf(n,r),n){case"dialog":$e("cancel",t),$e("close",t),i=r;break;case"iframe":case"object":case"embed":$e("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ba.length;i++)$e(Ba[i],t);i=r;break;case"source":$e("error",t),i=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=r;break;case"details":$e("toggle",t),i=r;break;case"input":yy(t,r),i=gf(t,r),$e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),$e("invalid",t);break;case"textarea":_y(t,r),i=_f(t,r),$e("invalid",t);break;default:i=r}Ef(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?z0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&B0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&cl(t,u):typeof u=="number"&&cl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ul.hasOwnProperty(s)?u!=null&&s==="onScroll"&&$e("scroll",t):u!=null&&Wp(t,s,u,o))}switch(n){case"input":Pu(t),vy(t,r,!1);break;case"textarea":Pu(t),wy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ai(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?go(t,!!r.multiple,s,!1):r.defaultValue!=null&&go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)hE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=ls(El.current),ls(lr.current),Lu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ir]=e,(s=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:Ou(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ou(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=e,e.stateNode=r}return Ut(e),null;case 13:if(ze(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&pn!==null&&e.mode&1&&!(e.flags&128))xw(),ko(),e.flags|=98560,s=!1;else if(s=Lu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[ir]=e}else ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else jn!==null&&(np(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?yt===0&&(yt=3):Rm())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return No(),Gf(t,e),t===null&&yl(e.stateNode.containerInfo),Ut(e),null;case 10:return cm(e.type._context),Ut(e),null;case 17:return sn(e.type)&&Rc(),Ut(e),null;case 19:if(ze(Ye),s=e.memoizedState,s===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ra(s,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Oc(t),o!==null){for(e.flags|=128,Ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>bo&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=Oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return Ut(e),null}else 2*it()-s.renderingStartTime>bo&&n!==1073741824&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=Ye.current,Fe(Ye,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return Pm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function gP(t,e){switch(om(e),e.tag){case 1:return sn(e.type)&&Rc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),ze(rn),ze(Wt),mm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pm(e),null;case 13:if(ze(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ye),null;case 4:return No(),null;case 10:return cm(e.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var Fu=!1,zt=!1,yP=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function Qf(t,e,n){try{n()}catch(r){nt(t,e,r)}}var uv=!1;function vP(t,e){if(Df=Sc,t=yw(),im(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)m=f,f=_;for(;;){if(f===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++d===r&&(u=o),(_=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(bf={focusedElem:t,selectionRange:n},Sc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var R=C.memoizedProps,D=C.memoizedState,I=e.stateNode,y=I.getSnapshotBeforeUpdate(e.elementType===e.type?R:Mn(e.type,R),D);I.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(b){nt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return C=uv,uv=!1,C}function tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qf(e,n,s)}i=i.next}while(i!==r)}}function Sd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fE(t){var e=t.alternate;e!==null&&(t.alternate=null,fE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[_l],delete e[Mf],delete e[eP],delete e[tP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pE(t){return t.tag===5||t.tag===3||t.tag===4}function cv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pc));else if(r!==4&&(t=t.child,t!==null))for(Xf(t,e,n),t=t.sibling;t!==null;)Xf(t,e,n),t=t.sibling}function Jf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jf(t,e,n),t=t.sibling;t!==null;)Jf(t,e,n),t=t.sibling}var Rt=null,Vn=!1;function Zr(t,e,n){for(n=n.child;n!==null;)mE(t,e,n),n=n.sibling}function mE(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(md,n)}catch{}switch(n.tag){case 5:zt||ho(n,e);case 6:var r=Rt,i=Vn;Rt=null,Zr(t,e,n),Rt=r,Vn=i,Rt!==null&&(Vn?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(Vn?(t=Rt,n=n.stateNode,t.nodeType===8?xh(t.parentNode,n):t.nodeType===1&&xh(t,n),pl(t)):xh(Rt,n.stateNode));break;case 4:r=Rt,i=Vn,Rt=n.stateNode.containerInfo,Vn=!0,Zr(t,e,n),Rt=r,Vn=i;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qf(n,e,o),i=i.next}while(i!==r)}Zr(t,e,n);break;case 1:if(!zt&&(ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){nt(n,e,l)}Zr(t,e,n);break;case 21:Zr(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,Zr(t,e,n),zt=r):Zr(t,e,n);break;default:Zr(t,e,n)}}function dv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yP),e.forEach(function(r){var i=RP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Rt=l.stateNode,Vn=!1;break e;case 3:Rt=l.stateNode.containerInfo,Vn=!0;break e;case 4:Rt=l.stateNode.containerInfo,Vn=!0;break e}l=l.return}if(Rt===null)throw Error(H(160));mE(s,o,i),Rt=null,Vn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){nt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gE(e,t),e=e.sibling}function gE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),nr(t),r&4){try{tl(3,t,t.return),Sd(3,t)}catch(R){nt(t,t.return,R)}try{tl(5,t,t.return)}catch(R){nt(t,t.return,R)}}break;case 1:Ln(e,t),nr(t),r&512&&n!==null&&ho(n,n.return);break;case 5:if(Ln(e,t),nr(t),r&512&&n!==null&&ho(n,n.return),t.flags&32){var i=t.stateNode;try{cl(i,"")}catch(R){nt(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&F0(i,s),Tf(l,o);var c=Tf(l,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?z0(i,f):d==="dangerouslySetInnerHTML"?B0(i,f):d==="children"?cl(i,f):Wp(i,d,f,c)}switch(l){case"input":yf(i,s);break;case"textarea":j0(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?go(i,!!s.multiple,_,!1):m!==!!s.multiple&&(s.defaultValue!=null?go(i,!!s.multiple,s.defaultValue,!0):go(i,!!s.multiple,s.multiple?[]:"",!1))}i[_l]=s}catch(R){nt(t,t.return,R)}}break;case 6:if(Ln(e,t),nr(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){nt(t,t.return,R)}}break;case 3:if(Ln(e,t),nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pl(e.containerInfo)}catch(R){nt(t,t.return,R)}break;case 4:Ln(e,t),nr(t);break;case 13:Ln(e,t),nr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Im=it())),r&4&&dv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(c=zt)||d,Ln(e,t),zt=c):Ln(e,t),nr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(f=Q=d;Q!==null;){switch(m=Q,_=m.child,m.tag){case 0:case 11:case 14:case 15:tl(4,m,m.return);break;case 1:ho(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(R){nt(r,n,R)}}break;case 5:ho(m,m.return);break;case 22:if(m.memoizedState!==null){fv(f);continue}}_!==null?(_.return=m,Q=_):fv(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=$0("display",o))}catch(R){nt(t,t.return,R)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(R){nt(t,t.return,R)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ln(e,t),nr(t),r&4&&dv(t);break;case 21:break;default:Ln(e,t),nr(t)}}function nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pE(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cl(i,""),r.flags&=-33);var s=cv(t);Jf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=cv(t);Xf(t,l,o);break;default:throw Error(H(161))}}catch(u){nt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _P(t,e,n){Q=t,yE(t)}function yE(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||zt;l=Fu;var c=zt;if(Fu=o,(zt=u)&&!c)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?pv(i):u!==null?(u.return=o,Q=u):pv(i);for(;s!==null;)Q=s,yE(s),s=s.sibling;Q=i,Fu=l,zt=c}hv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):hv(t)}}function hv(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||Sd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Yy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Yy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}zt||e.flags&512&&Yf(e)}catch(m){nt(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function fv(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function pv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sd(4,e)}catch(u){nt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){nt(e,i,u)}}var s=e.return;try{Yf(e)}catch(u){nt(e,s,u)}break;case 5:var o=e.return;try{Yf(e)}catch(u){nt(e,o,u)}}}catch(u){nt(e,e.return,u)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var wP=Math.ceil,Vc=Hr.ReactCurrentDispatcher,Tm=Hr.ReactCurrentOwner,An=Hr.ReactCurrentBatchConfig,Ce=0,Et=null,ut=null,xt=0,hn=0,fo=Bi(0),yt=0,Cl=null,_s=0,Id=0,Sm=0,nl=null,en=null,Im=0,bo=1/0,Rr=null,Fc=!1,Zf=null,wi=null,ju=!1,hi=null,jc=0,rl=0,ep=null,ic=-1,sc=0;function Qt(){return Ce&6?it():ic!==-1?ic:ic=it()}function Ei(t){return t.mode&1?Ce&2&&xt!==0?xt&-xt:rP.transition!==null?(sc===0&&(sc=tw()),sc):(t=De,t!==0||(t=window.event,t=t===void 0?16:lw(t.type)),t):1}function zn(t,e,n,r){if(50<rl)throw rl=0,ep=null,Error(H(185));Bl(t,n,r),(!(Ce&2)||t!==Et)&&(t===Et&&(!(Ce&2)&&(Id|=n),yt===4&&oi(t,xt)),on(t,r),n===1&&Ce===0&&!(e.mode&1)&&(bo=it()+500,wd&&$i()))}function on(t,e){var n=t.callbackNode;rC(t,e);var r=Tc(t,t===Et?xt:0);if(r===0)n!==null&&Sy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sy(n),e===1)t.tag===0?nP(mv.bind(null,t)):Rw(mv.bind(null,t)),JC(function(){!(Ce&6)&&$i()}),n=null;else{switch(nw(r)){case 1:n=Yp;break;case 4:n=Z0;break;case 16:n=Ec;break;case 536870912:n=ew;break;default:n=Ec}n=CE(n,vE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vE(t,e){if(ic=-1,sc=0,Ce&6)throw Error(H(327));var n=t.callbackNode;if(Eo()&&t.callbackNode!==n)return null;var r=Tc(t,t===Et?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Uc(t,r);else{e=r;var i=Ce;Ce|=2;var s=wE();(Et!==t||xt!==e)&&(Rr=null,bo=it()+500,hs(t,e));do try{SP();break}catch(l){_E(t,l)}while(!0);um(),Vc.current=s,Ce=i,ut!==null?e=0:(Et=null,xt=0,e=yt)}if(e!==0){if(e===2&&(i=Rf(t),i!==0&&(r=i,e=tp(t,i))),e===1)throw n=Cl,hs(t,0),oi(t,r),on(t,it()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!EP(i)&&(e=Uc(t,r),e===2&&(s=Rf(t),s!==0&&(r=s,e=tp(t,s))),e===1))throw n=Cl,hs(t,0),oi(t,r),on(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ns(t,en,Rr);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=Im+500-it(),10<e)){if(Tc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lf(ns.bind(null,t,en,Rr),e);break}ns(t,en,Rr);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-$n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wP(r/1960))-r,10<r){t.timeoutHandle=Lf(ns.bind(null,t,en,Rr),r);break}ns(t,en,Rr);break;case 5:ns(t,en,Rr);break;default:throw Error(H(329))}}}return on(t,it()),t.callbackNode===n?vE.bind(null,t):null}function tp(t,e){var n=nl;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=Uc(t,e),t!==2&&(e=en,en=n,e!==null&&np(e)),t}function np(t){en===null?en=t:en.push.apply(en,t)}function EP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~Sm,e&=~Id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function mv(t){if(Ce&6)throw Error(H(327));Eo();var e=Tc(t,0);if(!(e&1))return on(t,it()),null;var n=Uc(t,e);if(t.tag!==0&&n===2){var r=Rf(t);r!==0&&(e=r,n=tp(t,r))}if(n===1)throw n=Cl,hs(t,0),oi(t,e),on(t,it()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ns(t,en,Rr),on(t,it()),null}function Cm(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(bo=it()+500,wd&&$i())}}function ws(t){hi!==null&&hi.tag===0&&!(Ce&6)&&Eo();var e=Ce;Ce|=1;var n=An.transition,r=De;try{if(An.transition=null,De=1,t)return t()}finally{De=r,An.transition=n,Ce=e,!(Ce&6)&&$i()}}function Pm(){hn=fo.current,ze(fo)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XC(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(om(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rc();break;case 3:No(),ze(rn),ze(Wt),mm();break;case 5:pm(r);break;case 4:No();break;case 13:ze(Ye);break;case 19:ze(Ye);break;case 10:cm(r.type._context);break;case 22:case 23:Pm()}n=n.return}if(Et=t,ut=t=Ti(t.current,null),xt=hn=e,yt=0,Cl=null,Sm=Id=_s=0,en=nl=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}as=null}return t}function _E(t,e){do{var n=ut;try{if(um(),tc.current=Mc,Lc){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lc=!1}if(vs=0,wt=mt=Xe=null,el=!1,Tl=0,Tm.current=null,n===null||n.return===null){yt=1,Cl=e,ut=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=xt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=nv(o);if(_!==null){_.flags&=-257,rv(_,o,l,s,e),_.mode&1&&tv(s,c,e),e=_,u=c;var C=e.updateQueue;if(C===null){var R=new Set;R.add(u),e.updateQueue=R}else C.add(u);break e}else{if(!(e&1)){tv(s,c,e),Rm();break e}u=Error(H(426))}}else if(Ke&&l.mode&1){var D=nv(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),rv(D,o,l,s,e),am(Do(u,l));break e}}s=u=Do(u,l),yt!==4&&(yt=2),nl===null?nl=[s]:nl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=nE(s,u,e);Qy(s,I);break e;case 1:l=u;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(wi===null||!wi.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=rE(s,l,e);Qy(s,b);break e}}s=s.return}while(s!==null)}TE(n)}catch(U){e=U,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function wE(){var t=Vc.current;return Vc.current=Mc,t===null?Mc:t}function Rm(){(yt===0||yt===3||yt===2)&&(yt=4),Et===null||!(_s&268435455)&&!(Id&268435455)||oi(Et,xt)}function Uc(t,e){var n=Ce;Ce|=2;var r=wE();(Et!==t||xt!==e)&&(Rr=null,hs(t,e));do try{TP();break}catch(i){_E(t,i)}while(!0);if(um(),Ce=n,Vc.current=r,ut!==null)throw Error(H(261));return Et=null,xt=0,yt}function TP(){for(;ut!==null;)EE(ut)}function SP(){for(;ut!==null&&!G1();)EE(ut)}function EE(t){var e=IE(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?TE(t):ut=e,Tm.current=null}function TE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gP(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ut=null;return}}else if(n=mP(n,e,hn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);yt===0&&(yt=5)}function ns(t,e,n){var r=De,i=An.transition;try{An.transition=null,De=1,IP(t,e,n,r)}finally{An.transition=i,De=r}return null}function IP(t,e,n,r){do Eo();while(hi!==null);if(Ce&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(iC(t,s),t===Et&&(ut=Et=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ju||(ju=!0,CE(Ec,function(){return Eo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=An.transition,An.transition=null;var o=De;De=1;var l=Ce;Ce|=4,Tm.current=null,vP(t,n),gE(n,t),HC(bf),Sc=!!Df,bf=Df=null,t.current=n,_P(n),Q1(),Ce=l,De=o,An.transition=s}else t.current=n;if(ju&&(ju=!1,hi=t,jc=i),s=t.pendingLanes,s===0&&(wi=null),J1(n.stateNode),on(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fc)throw Fc=!1,t=Zf,Zf=null,t;return jc&1&&t.tag!==0&&Eo(),s=t.pendingLanes,s&1?t===ep?rl++:(rl=0,ep=t):rl=0,$i(),null}function Eo(){if(hi!==null){var t=nw(jc),e=An.transition,n=De;try{if(An.transition=null,De=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,jc=0,Ce&6)throw Error(H(331));var i=Ce;for(Ce|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:tl(8,d,s)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var m=d.sibling,_=d.return;if(fE(d),d===c){Q=null;break}if(m!==null){m.return=_,Q=m;break}Q=_}}}var C=s.alternate;if(C!==null){var R=C.child;if(R!==null){C.child=null;do{var D=R.sibling;R.sibling=null,R=D}while(R!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,Q=I;break e}Q=s.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=y;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sd(9,l)}}catch(U){nt(l,l.return,U)}if(l===o){Q=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Q=b;break e}Q=l.return}}if(Ce=i,$i(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(md,t)}catch{}r=!0}return r}finally{De=n,An.transition=e}}return!1}function gv(t,e,n){e=Do(n,e),e=nE(t,e,1),t=_i(t,e,1),e=Qt(),t!==null&&(Bl(t,1,e),on(t,e))}function nt(t,e,n){if(t.tag===3)gv(t,t,n);else for(;e!==null;){if(e.tag===3){gv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wi===null||!wi.has(r))){t=Do(n,t),t=rE(e,t,1),e=_i(e,t,1),t=Qt(),e!==null&&(Bl(e,1,t),on(e,t));break}}e=e.return}}function CP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(xt&n)===n&&(yt===4||yt===3&&(xt&130023424)===xt&&500>it()-Im?hs(t,0):Sm|=n),on(t,e)}function SE(t,e){e===0&&(t.mode&1?(e=ku,ku<<=1,!(ku&130023424)&&(ku=4194304)):e=1);var n=Qt();t=Fr(t,e),t!==null&&(Bl(t,e,n),on(t,n))}function PP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SE(t,n)}function RP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),SE(t,n)}var IE;IE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,pP(t,e,n);nn=!!(t.flags&131072)}else nn=!1,Ke&&e.flags&1048576&&Aw(e,xc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rc(t,e),t=e.pendingProps;var i=Ao(e,Wt.current);wo(e,n),i=ym(null,e,r,t,i,n);var s=vm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(s=!0,Ac(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hm(e),i.updater=Td,e.stateNode=i,i._reactInternals=e,$f(e,r,t,n),e=Wf(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&sm(e),Gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kP(r),t=Mn(r,t),i){case 0:e=Hf(null,e,r,t,n);break e;case 1:e=ov(null,e,r,t,n);break e;case 11:e=iv(null,e,r,t,n);break e;case 14:e=sv(null,e,r,Mn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Hf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),ov(t,e,r,i,n);case 3:e:{if(aE(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ow(t,e),bc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Do(Error(H(423)),e),e=av(t,e,r,n,i);break e}else if(r!==i){i=Do(Error(H(424)),e),e=av(t,e,r,n,i);break e}else for(pn=vi(e.stateNode.containerInfo.firstChild),yn=e,Ke=!0,jn=null,n=Dw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),r===i){e=jr(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return Lw(e),t===null&&jf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Of(r,i)?o=null:s!==null&&Of(r,s)&&(e.flags|=32),oE(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&jf(e),null;case 13:return lE(t,e,n);case 4:return fm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xo(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),iv(t,e,r,i,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Fe(Nc,r._currentValue),r._currentValue=o,s!==null)if(qn(s.value,o)){if(s.children===i.children&&!rn.current){e=jr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Or(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Uf(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wo(e,n),i=kn(i),r=r(i),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),sv(t,e,r,i,n);case 15:return iE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),rc(t,e),e.tag=1,sn(r)?(t=!0,Ac(e)):t=!1,wo(e,n),tE(e,r,i),$f(e,r,i,n),Wf(null,e,r,!0,t,n);case 19:return uE(t,e,n);case 22:return sE(t,e,n)}throw Error(H(156,e.tag))};function CE(t,e){return J0(t,e)}function AP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new AP(t,e,n,r)}function Am(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kP(t){if(typeof t=="function")return Am(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kp)return 11;if(t===Gp)return 14}return 2}function Ti(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Am(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case no:return fs(n.children,i,s,e);case qp:o=8,i|=8;break;case hf:return t=Rn(12,n,e,i|2),t.elementType=hf,t.lanes=s,t;case ff:return t=Rn(13,n,e,i),t.elementType=ff,t.lanes=s,t;case pf:return t=Rn(19,n,e,i),t.elementType=pf,t.lanes=s,t;case L0:return Cd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b0:o=10;break e;case O0:o=9;break e;case Kp:o=11;break e;case Gp:o=14;break e;case ri:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fs(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Cd(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=L0,t.lanes=n,t.stateNode={isHidden:!1},t}function Fh(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function jh(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_h(0),this.expirationTimes=_h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function km(t,e,n,r,i,s,o,l,u){return t=new xP(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hm(s),t}function NP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PE(t){if(!t)return ki;t=t._reactInternals;e:{if(bs(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(sn(n))return Pw(t,n,e)}return e}function RE(t,e,n,r,i,s,o,l,u){return t=km(n,r,!0,t,i,s,o,l,u),t.context=PE(null),n=t.current,r=Qt(),i=Ei(n),s=Or(r,i),s.callback=e??null,_i(n,s,i),t.current.lanes=i,Bl(t,i,r),on(t,r),t}function Pd(t,e,n,r){var i=e.current,s=Qt(),o=Ei(i);return n=PE(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_i(i,e,o),t!==null&&(zn(t,i,o,s),ec(t,i,o)),o}function Bc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xm(t,e){yv(t,e),(t=t.alternate)&&yv(t,e)}function DP(){return null}var AE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nm(t){this._internalRoot=t}Rd.prototype.render=Nm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Pd(t,e,null,null)};Rd.prototype.unmount=Nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ws(function(){Pd(null,t,null,null)}),e[Vr]=null}};function Rd(t){this._internalRoot=t}Rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=sw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<si.length&&e!==0&&e<si[n].priority;n++);si.splice(n,0,t),n===0&&aw(t)}};function Dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vv(){}function bP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Bc(o);s.call(c)}}var o=RE(e,r,t,0,null,!1,!1,"",vv);return t._reactRootContainer=o,t[Vr]=o.current,yl(t.nodeType===8?t.parentNode:t),ws(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Bc(u);l.call(c)}}var u=km(t,0,!1,null,null,!1,!1,"",vv);return t._reactRootContainer=u,t[Vr]=u.current,yl(t.nodeType===8?t.parentNode:t),ws(function(){Pd(e,u,n,r)}),u}function kd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Bc(o);l.call(u)}}Pd(e,o,t,i)}else o=bP(n,e,t,i,r);return Bc(o)}rw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ua(e.pendingLanes);n!==0&&(Xp(e,n|1),on(e,it()),!(Ce&6)&&(bo=it()+500,$i()))}break;case 13:ws(function(){var r=Fr(t,1);if(r!==null){var i=Qt();zn(r,t,1,i)}}),xm(t,1)}};Jp=function(t){if(t.tag===13){var e=Fr(t,134217728);if(e!==null){var n=Qt();zn(e,t,134217728,n)}xm(t,134217728)}};iw=function(t){if(t.tag===13){var e=Ei(t),n=Fr(t,e);if(n!==null){var r=Qt();zn(n,t,e,r)}xm(t,e)}};sw=function(){return De};ow=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};If=function(t,e,n){switch(e){case"input":if(yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_d(r);if(!i)throw Error(H(90));V0(r),yf(r,i)}}}break;case"textarea":j0(t,n);break;case"select":e=n.value,e!=null&&go(t,!!n.multiple,e,!1)}};q0=Cm;K0=ws;var OP={usingClientEntryPoint:!1,Events:[zl,oo,_d,H0,W0,Cm]},Aa={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LP={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y0(t),t===null?null:t.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||DP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{md=Uu.inject(LP),ar=Uu}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OP;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dm(e))throw Error(H(200));return NP(t,e,null,n)};En.createRoot=function(t,e){if(!Dm(t))throw Error(H(299));var n=!1,r="",i=AE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=km(t,1,!1,null,null,n,!1,r,i),t[Vr]=e.current,yl(t.nodeType===8?t.parentNode:t),new Nm(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Y0(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return ws(t)};En.hydrate=function(t,e,n){if(!Ad(e))throw Error(H(200));return kd(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!Dm(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=AE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RE(e,null,t,1,n??null,i,!1,s,o),t[Vr]=e.current,yl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rd(e)};En.render=function(t,e,n){if(!Ad(e))throw Error(H(200));return kd(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Ad(t))throw Error(H(40));return t._reactRootContainer?(ws(function(){kd(null,null,t,!1,function(){t._reactRootContainer=null,t[Vr]=null})}),!0):!1};En.unstable_batchedUpdates=Cm;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ad(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return kd(t,e,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function kE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kE)}catch(t){console.error(t)}}kE(),k0.exports=En;var bm=k0.exports;const MP=Ho(bm),VP=y0({__proto__:null,default:MP},[bm]);var _v=bm;cf.createRoot=_v.createRoot,cf.hydrateRoot=_v.hydrateRoot;const FP="modulepreload",jP=function(t){return"/React-Ecommerce/"+t},wv={},ei=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=jP(l),l in wv)return;wv[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":FP,u||(d.as="script",d.crossOrigin=""),d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qe(){return qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qe.apply(this,arguments)}var ot;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ot||(ot={}));const Ev="popstate";function UP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Pl("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xi(i)}return $P(e,n,null,t)}function he(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BP(){return Math.random().toString(36).substr(2,8)}function Tv(t,e){return{usr:t.state,key:t.key,idx:e}}function Pl(t,e,n,r){return n===void 0&&(n=null),qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zi(e):e,{state:n,key:e&&e.key||r||BP()})}function xi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $P(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ot.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(qe({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ot.Pop;let D=d(),I=D==null?null:D-c;c=D,u&&u({action:l,location:R.location,delta:I})}function m(D,I){l=ot.Push;let y=Pl(R.location,D,I);c=d()+1;let w=Tv(y,c),b=R.createHref(y);try{o.pushState(w,"",b)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(b)}s&&u&&u({action:l,location:R.location,delta:1})}function _(D,I){l=ot.Replace;let y=Pl(R.location,D,I);c=d();let w=Tv(y,c),b=R.createHref(y);o.replaceState(w,"",b),s&&u&&u({action:l,location:R.location,delta:0})}function C(D){let I=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof D=="string"?D:xi(D);return y=y.replace(/ $/,"%20"),he(I,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,I)}let R={get action(){return l},get location(){return t(i,o)},listen(D){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Ev,f),u=D,()=>{i.removeEventListener(Ev,f),u=null}},createHref(D){return e(i,D)},createURL:C,encodeLocation(D){let I=C(D);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:m,replace:_,go(D){return o.go(D)}};return R}var Oe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Oe||(Oe={}));const zP=new Set(["lazy","caseSensitive","path","id","index","children"]);function HP(t){return t.index===!0}function Rl(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(he(i.index!==!0||!i.children,"Cannot specify children on an index route"),he(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),HP(i)){let u=qe({},i,e(i),{id:l});return r[l]=u,u}else{let u=qe({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=Rl(i.children,e,o,r)),u}})}function ss(t,e,n){return n===void 0&&(n="/"),ac(t,e,n,!1)}function ac(t,e,n,r){let i=typeof e=="string"?zi(e):e,s=Kn(i.pathname||"/",n);if(s==null)return null;let o=xE(t);qP(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=rR(s);l=tR(o[u],c,r)}return l}function WP(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function xE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(he(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ur([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(he(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:ZP(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of NE(s.path))i(s,o,u)}),e}function NE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=NE(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function qP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KP=/^:[\w-]+$/,GP=3,QP=2,YP=1,XP=10,JP=-2,Sv=t=>t==="*";function ZP(t,e){let n=t.split("/"),r=n.length;return n.some(Sv)&&(r+=JP),e&&(r+=QP),n.filter(i=>!Sv(i)).reduce((i,s)=>i+(KP.test(s)?GP:s===""?YP:XP),r)}function eR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tR(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=$c({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=$c({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ur([s,f.pathname]),pathnameBase:oR(ur([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=ur([s,f.pathnameBase]))}return o}function $c(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:_}=d;if(m==="*"){let R=l[f]||"";o=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const C=l[f];return _&&!C?c[m]=void 0:c[m]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function nR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Oo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Kn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zi(t):t;return{pathname:n?n.startsWith("/")?n:sR(n,e):e,search:aR(r),hash:lR(i)}}function sR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Uh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Om(t,e){let n=DE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zi(t):(i=qe({},t),he(!i.pathname||!i.pathname.includes("?"),Uh("?","pathname","search",i)),he(!i.pathname||!i.pathname.includes("#"),Uh("#","pathname","hash",i)),he(!i.search||!i.search.includes("#"),Uh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let u=iR(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ur=t=>t.join("/").replace(/\/\/+/g,"/"),oR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Ni=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,qe({},r,{headers:i}))};class zc{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function xd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bE=["post","put","patch","delete"],uR=new Set(bE),cR=["get",...bE],dR=new Set(cR),hR=new Set([301,302,303,307,308]),fR=new Set([307,308]),Bh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ka={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),OE="remix-router-transitions";function gR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;he(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=L=>({hasErrorBoundary:N(L)})}else i=mR;let s={},o=Rl(t.routes,i,void 0,s),l,u=t.basename||"/",c=t.unstable_dataStrategy||ER,d=t.unstable_patchRoutesOnMiss,f=qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,_=new Set,C=null,R=null,D=null,I=t.hydrationData!=null,y=ss(o,t.history.location,u),w=null;if(y==null&&!d){let N=qt(404,{pathname:t.history.location.pathname}),{matches:L,route:V}=bv(o);y=L,w={[V.id]:N}}y&&!t.hydrationData&&Zn(y,o,t.history.location.pathname).active&&(y=null);let b;if(y)if(y.some(N=>N.route.lazy))b=!1;else if(!y.some(N=>N.route.loader))b=!0;else if(f.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null,V=B=>B.route.loader?typeof B.route.loader=="function"&&B.route.loader.hydrate===!0?!1:N&&N[B.route.id]!==void 0||L&&L[B.route.id]!==void 0:!0;if(L){let B=y.findIndex(K=>L[K.route.id]!==void 0);b=y.slice(0,B+1).every(V)}else b=y.every(V)}else b=t.hydrationData!=null;else if(b=!1,y=[],f.v7_partialHydration){let N=Zn(null,o,t.history.location.pathname);N.active&&N.matches&&(y=N.matches)}let U,k={historyAction:t.history.action,location:t.history.location,matches:y,initialized:b,navigation:Bh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},S=ot.Pop,g=!1,E,P=!1,x=new Map,O=null,A=!1,fe=!1,ye=[],Yn=new Set,xe=new Map,G=0,ne=-1,ie=new Map,Ie=new Set,Ee=new Map,Le=new Map,ct=new Set,Tt=new Map,St=new Map,Nn=new Map,na=!1;function ih(){if(m=t.history.listen(N=>{let{action:L,location:V,delta:B}=N;if(na){na=!1;return}Oo(St.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=ua({currentLocation:k.location,nextLocation:V,historyAction:L});if(K&&B!=null){na=!0,t.history.go(B*-1),Qi(K,{state:"blocked",location:V,proceed(){Qi(K,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),t.history.go(B)},reset(){let X=new Map(k.blockers);X.set(K,ka),dt({blockers:X})}});return}return Jn(L,V)}),n){OR(e,x);let N=()=>LR(e,x);e.addEventListener("pagehide",N),O=()=>e.removeEventListener("pagehide",N)}return k.initialized||Jn(ot.Pop,k.location,{initialHydration:!0}),U}function Vs(){m&&m(),O&&O(),_.clear(),E&&E.abort(),k.fetchers.forEach((N,L)=>Us(L)),k.blockers.forEach((N,L)=>$s(L))}function Fs(N){return _.add(N),()=>_.delete(N)}function dt(N,L){L===void 0&&(L={}),k=qe({},k,N);let V=[],B=[];f.v7_fetcherPersist&&k.fetchers.forEach((K,X)=>{K.state==="idle"&&(ct.has(X)?B.push(X):V.push(X))}),[..._].forEach(K=>K(k,{deletedFetchers:B,unstable_viewTransitionOpts:L.viewTransitionOpts,unstable_flushSync:L.flushSync===!0})),f.v7_fetcherPersist&&(V.forEach(K=>k.fetchers.delete(K)),B.forEach(K=>Us(K)))}function Xn(N,L,V){var B,K;let{flushSync:X}=V===void 0?{}:V,re=k.actionData!=null&&k.navigation.formMethod!=null&&Fn(k.navigation.formMethod)&&k.navigation.state==="loading"&&((B=N.state)==null?void 0:B._isRedirect)!==!0,W;L.actionData?Object.keys(L.actionData).length>0?W=L.actionData:W=null:re?W=k.actionData:W=null;let ae=L.loaderData?Nv(k.loaderData,L.loaderData,L.matches||[],L.errors):k.loaderData,J=k.blockers;J.size>0&&(J=new Map(J),J.forEach((Pe,Ne)=>J.set(Ne,ka)));let Z=g===!0||k.navigation.formMethod!=null&&Fn(k.navigation.formMethod)&&((K=N.state)==null?void 0:K._isRedirect)!==!0;l&&(o=l,l=void 0),A||S===ot.Pop||(S===ot.Push?t.history.push(N,N.state):S===ot.Replace&&t.history.replace(N,N.state));let pe;if(S===ot.Pop){let Pe=x.get(k.location.pathname);Pe&&Pe.has(N.pathname)?pe={currentLocation:k.location,nextLocation:N}:x.has(N.pathname)&&(pe={currentLocation:N,nextLocation:k.location})}else if(P){let Pe=x.get(k.location.pathname);Pe?Pe.add(N.pathname):(Pe=new Set([N.pathname]),x.set(k.location.pathname,Pe)),pe={currentLocation:k.location,nextLocation:N}}dt(qe({},L,{actionData:W,loaderData:ae,historyAction:S,location:N,initialized:!0,navigation:Bh,revalidation:"idle",restoreScrollPosition:da(N,L.matches||k.matches),preventScrollReset:Z,blockers:J}),{viewTransitionOpts:pe,flushSync:X===!0}),S=ot.Pop,g=!1,P=!1,A=!1,fe=!1,ye=[]}async function js(N,L){if(typeof N=="number"){t.history.go(N);return}let V=rp(k.location,k.matches,u,f.v7_prependBasename,N,f.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:B,submission:K,error:X}=Iv(f.v7_normalizeFormMethod,!1,V,L),re=k.location,W=Pl(k.location,B,L&&L.state);W=qe({},W,t.history.encodeLocation(W));let ae=L&&L.replace!=null?L.replace:void 0,J=ot.Push;ae===!0?J=ot.Replace:ae===!1||K!=null&&Fn(K.formMethod)&&K.formAction===k.location.pathname+k.location.search&&(J=ot.Replace);let Z=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,pe=(L&&L.unstable_flushSync)===!0,Pe=ua({currentLocation:re,nextLocation:W,historyAction:J});if(Pe){Qi(Pe,{state:"blocked",location:W,proceed(){Qi(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),js(N,L)},reset(){let Ne=new Map(k.blockers);Ne.set(Pe,ka),dt({blockers:Ne})}});return}return await Jn(J,W,{submission:K,pendingError:X,preventScrollReset:Z,replace:L&&L.replace,enableViewTransition:L&&L.unstable_viewTransition,flushSync:pe})}function ra(){if(ft(),dt({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){Jn(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}Jn(S||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation})}}async function Jn(N,L,V){E&&E.abort(),E=null,S=N,A=(V&&V.startUninterruptedRevalidation)===!0,zs(k.location,k.matches),g=(V&&V.preventScrollReset)===!0,P=(V&&V.enableViewTransition)===!0;let B=l||o,K=V&&V.overrideNavigation,X=ss(B,L,u),re=(V&&V.flushSync)===!0,W=Zn(X,B,L.pathname);if(W.active&&W.matches&&(X=W.matches),!X){let{error:Te,notFoundMatches:rt,route:Qe}=_r(L.pathname);Xn(L,{matches:rt,loaderData:{},errors:{[Qe.id]:Te}},{flushSync:re});return}if(k.initialized&&!fe&&RR(k.location,L)&&!(V&&V.submission&&Fn(V.submission.formMethod))){Xn(L,{matches:X},{flushSync:re});return}E=new AbortController;let ae=Qs(t.history,L,E.signal,V&&V.submission),J;if(V&&V.pendingError)J=[po(X).route.id,{type:Oe.error,error:V.pendingError}];else if(V&&V.submission&&Fn(V.submission.formMethod)){let Te=await sh(ae,L,V.submission,X,W.active,{replace:V.replace,flushSync:re});if(Te.shortCircuited)return;if(Te.pendingActionResult){let[rt,Qe]=Te.pendingActionResult;if(fn(Qe)&&xd(Qe.error)&&Qe.error.status===404){E=null,Xn(L,{matches:Te.matches,loaderData:{},errors:{[rt]:Qe.error}});return}}X=Te.matches||X,J=Te.pendingActionResult,K=$h(L,V.submission),re=!1,W.active=!1,ae=Qs(t.history,ae.url,ae.signal)}let{shortCircuited:Z,matches:pe,loaderData:Pe,errors:Ne}=await oh(ae,L,X,W.active,K,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,re,J);Z||(E=null,Xn(L,qe({matches:pe||X},Dv(J),{loaderData:Pe,errors:Ne})))}async function sh(N,L,V,B,K,X){X===void 0&&(X={}),ft();let re=DR(L,V);if(dt({navigation:re},{flushSync:X.flushSync===!0}),K){let J=await Xi(B,L.pathname,N.signal);if(J.type==="aborted")return{shortCircuited:!0};if(J.type==="error"){let{boundaryId:Z,error:pe}=Gr(L.pathname,J);return{matches:J.partialMatches,pendingActionResult:[Z,{type:Oe.error,error:pe}]}}else if(J.matches)B=J.matches;else{let{notFoundMatches:Z,error:pe,route:Pe}=_r(L.pathname);return{matches:Z,pendingActionResult:[Pe.id,{type:Oe.error,error:pe}]}}}let W,ae=$a(B,L);if(!ae.route.action&&!ae.route.lazy)W={type:Oe.error,error:qt(405,{method:N.method,pathname:L.pathname,routeId:ae.route.id})};else if(W=(await Kr("action",N,[ae],B))[0],N.signal.aborted)return{shortCircuited:!0};if(cs(W)){let J;return X&&X.replace!=null?J=X.replace:J=Av(W.response.headers.get("Location"),new URL(N.url),u)===k.location.pathname+k.location.search,await vr(N,W,{submission:V,replace:J}),{shortCircuited:!0}}if(us(W))throw qt(400,{type:"defer-action"});if(fn(W)){let J=po(B,ae.route.id);return(X&&X.replace)!==!0&&(S=ot.Push),{matches:B,pendingActionResult:[J.route.id,W]}}return{matches:B,pendingActionResult:[ae.route.id,W]}}async function oh(N,L,V,B,K,X,re,W,ae,J,Z){let pe=K||$h(L,X),Pe=X||re||Vv(pe),Ne=!A&&(!f.v7_partialHydration||!ae);if(B){if(Ne){let je=ia(Z);dt(qe({navigation:pe},je!==void 0?{actionData:je}:{}),{flushSync:J})}let ce=await Xi(V,L.pathname,N.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let{boundaryId:je,error:Mt}=Gr(L.pathname,ce);return{matches:ce.partialMatches,loaderData:{},errors:{[je]:Mt}}}else if(ce.matches)V=ce.matches;else{let{error:je,notFoundMatches:Mt,route:be}=_r(L.pathname);return{matches:Mt,loaderData:{},errors:{[be.id]:je}}}}let Te=l||o,[rt,Qe]=Cv(t.history,k,V,Pe,L,f.v7_partialHydration&&ae===!0,f.v7_skipActionErrorRevalidation,fe,ye,Yn,ct,Ee,Ie,Te,u,Z);if(Yi(ce=>!(V&&V.some(je=>je.route.id===ce))||rt&&rt.some(je=>je.route.id===ce)),ne=++G,rt.length===0&&Qe.length===0){let ce=Bs();return Xn(L,qe({matches:V,loaderData:{},errors:Z&&fn(Z[1])?{[Z[0]]:Z[1].error}:null},Dv(Z),ce?{fetchers:new Map(k.fetchers)}:{}),{flushSync:J}),{shortCircuited:!0}}if(Ne){let ce={};if(!B){ce.navigation=pe;let je=ia(Z);je!==void 0&&(ce.actionData=je)}Qe.length>0&&(ce.fetchers=sa(Qe)),dt(ce,{flushSync:J})}Qe.forEach(ce=>{xe.has(ce.key)&&Dn(ce.key),ce.controller&&xe.set(ce.key,ce.controller)});let Qr=()=>Qe.forEach(ce=>Dn(ce.key));E&&E.signal.addEventListener("abort",Qr);let{loaderResults:er,fetcherResults:bn}=await ht(k.matches,V,rt,Qe,N);if(N.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Qr),Qe.forEach(ce=>xe.delete(ce.key));let Er=Ov([...er,...bn]);if(Er){if(Er.idx>=rt.length){let ce=Qe[Er.idx-rt.length].key;Ie.add(ce)}return await vr(N,Er.result,{replace:W}),{shortCircuited:!0}}let{loaderData:tr,errors:Lt}=xv(k,V,rt,er,Z,Qe,bn,Tt);Tt.forEach((ce,je)=>{ce.subscribe(Mt=>{(Mt||ce.done)&&Tt.delete(je)})}),f.v7_partialHydration&&ae&&k.errors&&Object.entries(k.errors).filter(ce=>{let[je]=ce;return!rt.some(Mt=>Mt.route.id===je)}).forEach(ce=>{let[je,Mt]=ce;Lt=Object.assign(Lt||{},{[je]:Mt})});let In=Bs(),Yr=du(ne),Hs=In||Yr||Qe.length>0;return qe({matches:V,loaderData:tr,errors:Lt},Hs?{fetchers:new Map(k.fetchers)}:{})}function ia(N){if(N&&!fn(N[1]))return{[N[0]]:N[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function sa(N){return N.forEach(L=>{let V=k.fetchers.get(L.key),B=xa(void 0,V?V.data:void 0);k.fetchers.set(L.key,B)}),new Map(k.fetchers)}function cu(N,L,V,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");xe.has(N)&&Dn(N);let K=(B&&B.unstable_flushSync)===!0,X=l||o,re=rp(k.location,k.matches,u,f.v7_prependBasename,V,f.v7_relativeSplatPath,L,B==null?void 0:B.relative),W=ss(X,re,u),ae=Zn(W,X,re);if(ae.active&&ae.matches&&(W=ae.matches),!W){Sn(N,L,qt(404,{pathname:re}),{flushSync:K});return}let{path:J,submission:Z,error:pe}=Iv(f.v7_normalizeFormMethod,!0,re,B);if(pe){Sn(N,L,pe,{flushSync:K});return}let Pe=$a(W,J);if(g=(B&&B.preventScrollReset)===!0,Z&&Fn(Z.formMethod)){ah(N,L,J,Pe,W,ae.active,K,Z);return}Ee.set(N,{routeId:L,path:J}),oa(N,L,J,Pe,W,ae.active,K,Z)}async function ah(N,L,V,B,K,X,re,W){ft(),Ee.delete(N);function ae(be){if(!be.route.action&&!be.route.lazy){let cn=qt(405,{method:W.formMethod,pathname:V,routeId:L});return Sn(N,L,cn,{flushSync:re}),!0}return!1}if(!X&&ae(B))return;let J=k.fetchers.get(N);un(N,bR(W,J),{flushSync:re});let Z=new AbortController,pe=Qs(t.history,V,Z.signal,W);if(X){let be=await Xi(K,V,pe.signal);if(be.type==="aborted")return;if(be.type==="error"){let{error:cn}=Gr(V,be);Sn(N,L,cn,{flushSync:re});return}else if(be.matches){if(K=be.matches,B=$a(K,V),ae(B))return}else{Sn(N,L,qt(404,{pathname:V}),{flushSync:re});return}}xe.set(N,Z);let Pe=G,Te=(await Kr("action",pe,[B],K))[0];if(pe.signal.aborted){xe.get(N)===Z&&xe.delete(N);return}if(f.v7_fetcherPersist&&ct.has(N)){if(cs(Te)||fn(Te)){un(N,ni(void 0));return}}else{if(cs(Te))if(xe.delete(N),ne>Pe){un(N,ni(void 0));return}else return Ie.add(N),un(N,xa(W)),vr(pe,Te,{fetcherSubmission:W});if(fn(Te)){Sn(N,L,Te.error);return}}if(us(Te))throw qt(400,{type:"defer-action"});let rt=k.navigation.location||k.location,Qe=Qs(t.history,rt,Z.signal),Qr=l||o,er=k.navigation.state!=="idle"?ss(Qr,k.navigation.location,u):k.matches;he(er,"Didn't find any matches after fetcher action");let bn=++G;ie.set(N,bn);let Er=xa(W,Te.data);k.fetchers.set(N,Er);let[tr,Lt]=Cv(t.history,k,er,W,rt,!1,f.v7_skipActionErrorRevalidation,fe,ye,Yn,ct,Ee,Ie,Qr,u,[B.route.id,Te]);Lt.filter(be=>be.key!==N).forEach(be=>{let cn=be.key,ha=k.fetchers.get(cn),fu=xa(void 0,ha?ha.data:void 0);k.fetchers.set(cn,fu),xe.has(cn)&&Dn(cn),be.controller&&xe.set(cn,be.controller)}),dt({fetchers:new Map(k.fetchers)});let In=()=>Lt.forEach(be=>Dn(be.key));Z.signal.addEventListener("abort",In);let{loaderResults:Yr,fetcherResults:Hs}=await ht(k.matches,er,tr,Lt,Qe);if(Z.signal.aborted)return;Z.signal.removeEventListener("abort",In),ie.delete(N),xe.delete(N),Lt.forEach(be=>xe.delete(be.key));let ce=Ov([...Yr,...Hs]);if(ce){if(ce.idx>=tr.length){let be=Lt[ce.idx-tr.length].key;Ie.add(be)}return vr(Qe,ce.result)}let{loaderData:je,errors:Mt}=xv(k,k.matches,tr,Yr,void 0,Lt,Hs,Tt);if(k.fetchers.has(N)){let be=ni(Te.data);k.fetchers.set(N,be)}du(bn),k.navigation.state==="loading"&&bn>ne?(he(S,"Expected pending action"),E&&E.abort(),Xn(k.navigation.location,{matches:er,loaderData:je,errors:Mt,fetchers:new Map(k.fetchers)})):(dt({errors:Mt,loaderData:Nv(k.loaderData,je,er,Mt),fetchers:new Map(k.fetchers)}),fe=!1)}async function oa(N,L,V,B,K,X,re,W){let ae=k.fetchers.get(N);un(N,xa(W,ae?ae.data:void 0),{flushSync:re});let J=new AbortController,Z=Qs(t.history,V,J.signal);if(X){let Te=await Xi(K,V,Z.signal);if(Te.type==="aborted")return;if(Te.type==="error"){let{error:rt}=Gr(V,Te);Sn(N,L,rt,{flushSync:re});return}else if(Te.matches)K=Te.matches,B=$a(K,V);else{Sn(N,L,qt(404,{pathname:V}),{flushSync:re});return}}xe.set(N,J);let pe=G,Ne=(await Kr("loader",Z,[B],K))[0];if(us(Ne)&&(Ne=await jE(Ne,Z.signal,!0)||Ne),xe.get(N)===J&&xe.delete(N),!Z.signal.aborted){if(ct.has(N)){un(N,ni(void 0));return}if(cs(Ne))if(ne>pe){un(N,ni(void 0));return}else{Ie.add(N),await vr(Z,Ne);return}if(fn(Ne)){Sn(N,L,Ne.error);return}he(!us(Ne),"Unhandled fetcher deferred data"),un(N,ni(Ne.data))}}async function vr(N,L,V){let{submission:B,fetcherSubmission:K,replace:X}=V===void 0?{}:V;L.response.headers.has("X-Remix-Revalidate")&&(fe=!0);let re=L.response.headers.get("Location");he(re,"Expected a Location header on the redirect Response"),re=Av(re,new URL(N.url),u);let W=Pl(k.location,re,{_isRedirect:!0});if(n){let Ne=!1;if(L.response.headers.has("X-Remix-Reload-Document"))Ne=!0;else if(Mm.test(re)){const Te=t.history.createURL(re);Ne=Te.origin!==e.location.origin||Kn(Te.pathname,u)==null}if(Ne){X?e.location.replace(re):e.location.assign(re);return}}E=null;let ae=X===!0||L.response.headers.has("X-Remix-Replace")?ot.Replace:ot.Push,{formMethod:J,formAction:Z,formEncType:pe}=k.navigation;!B&&!K&&J&&Z&&pe&&(B=Vv(k.navigation));let Pe=B||K;if(fR.has(L.response.status)&&Pe&&Fn(Pe.formMethod))await Jn(ae,W,{submission:qe({},Pe,{formAction:re}),preventScrollReset:g});else{let Ne=$h(W,B);await Jn(ae,W,{overrideNavigation:Ne,fetcherSubmission:K,preventScrollReset:g})}}async function Kr(N,L,V,B){try{let K=await TR(c,N,L,V,B,s,i);return await Promise.all(K.map((X,re)=>{if(kR(X)){let W=X.result;return{type:Oe.redirect,response:CR(W,L,V[re].route.id,B,u,f.v7_relativeSplatPath)}}return IR(X)}))}catch(K){return V.map(()=>({type:Oe.error,error:K}))}}async function ht(N,L,V,B,K){let[X,...re]=await Promise.all([V.length?Kr("loader",K,V,L):[],...B.map(W=>{if(W.matches&&W.match&&W.controller){let ae=Qs(t.history,W.path,W.controller.signal);return Kr("loader",ae,[W.match],W.matches).then(J=>J[0])}else return Promise.resolve({type:Oe.error,error:qt(404,{pathname:W.path})})})]);return await Promise.all([Mv(N,V,X,X.map(()=>K.signal),!1,k.loaderData),Mv(N,B.map(W=>W.match),re,B.map(W=>W.controller?W.controller.signal:null),!0)]),{loaderResults:X,fetcherResults:re}}function ft(){fe=!0,ye.push(...Yi()),Ee.forEach((N,L)=>{xe.has(L)&&(Yn.add(L),Dn(L))})}function un(N,L,V){V===void 0&&(V={}),k.fetchers.set(N,L),dt({fetchers:new Map(k.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Sn(N,L,V,B){B===void 0&&(B={});let K=po(k.matches,L);Us(N),dt({errors:{[K.route.id]:V},fetchers:new Map(k.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function aa(N){return f.v7_fetcherPersist&&(Le.set(N,(Le.get(N)||0)+1),ct.has(N)&&ct.delete(N)),k.fetchers.get(N)||pR}function Us(N){let L=k.fetchers.get(N);xe.has(N)&&!(L&&L.state==="loading"&&ie.has(N))&&Dn(N),Ee.delete(N),ie.delete(N),Ie.delete(N),ct.delete(N),Yn.delete(N),k.fetchers.delete(N)}function Gi(N){if(f.v7_fetcherPersist){let L=(Le.get(N)||0)-1;L<=0?(Le.delete(N),ct.add(N)):Le.set(N,L)}else Us(N);dt({fetchers:new Map(k.fetchers)})}function Dn(N){let L=xe.get(N);he(L,"Expected fetch controller: "+N),L.abort(),xe.delete(N)}function la(N){for(let L of N){let V=aa(L),B=ni(V.data);k.fetchers.set(L,B)}}function Bs(){let N=[],L=!1;for(let V of Ie){let B=k.fetchers.get(V);he(B,"Expected fetcher: "+V),B.state==="loading"&&(Ie.delete(V),N.push(V),L=!0)}return la(N),L}function du(N){let L=[];for(let[V,B]of ie)if(B<N){let K=k.fetchers.get(V);he(K,"Expected fetcher: "+V),K.state==="loading"&&(Dn(V),ie.delete(V),L.push(V))}return la(L),L.length>0}function lh(N,L){let V=k.blockers.get(N)||ka;return St.get(N)!==L&&St.set(N,L),V}function $s(N){k.blockers.delete(N),St.delete(N)}function Qi(N,L){let V=k.blockers.get(N)||ka;he(V.state==="unblocked"&&L.state==="blocked"||V.state==="blocked"&&L.state==="blocked"||V.state==="blocked"&&L.state==="proceeding"||V.state==="blocked"&&L.state==="unblocked"||V.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+L.state);let B=new Map(k.blockers);B.set(N,L),dt({blockers:B})}function ua(N){let{currentLocation:L,nextLocation:V,historyAction:B}=N;if(St.size===0)return;St.size>1&&Oo(!1,"A router only supports one blocker at a time");let K=Array.from(St.entries()),[X,re]=K[K.length-1],W=k.blockers.get(X);if(!(W&&W.state==="proceeding")&&re({currentLocation:L,nextLocation:V,historyAction:B}))return X}function _r(N){let L=qt(404,{pathname:N}),V=l||o,{matches:B,route:K}=bv(V);return Yi(),{notFoundMatches:B,route:K,error:L}}function Gr(N,L){return{boundaryId:po(L.partialMatches).route.id,error:qt(400,{type:"route-discovery",pathname:N,message:L.error!=null&&"message"in L.error?L.error:String(L.error)})}}function Yi(N){let L=[];return Tt.forEach((V,B)=>{(!N||N(B))&&(V.cancel(),L.push(B),Tt.delete(B))}),L}function wr(N,L,V){if(C=N,D=L,R=V||null,!I&&k.navigation===Bh){I=!0;let B=da(k.location,k.matches);B!=null&&dt({restoreScrollPosition:B})}return()=>{C=null,D=null,R=null}}function ca(N,L){return R&&R(N,L.map(B=>WP(B,k.loaderData)))||N.key}function zs(N,L){if(C&&D){let V=ca(N,L);C[V]=D()}}function da(N,L){if(C){let V=ca(N,L),B=C[V];if(typeof B=="number")return B}return null}function Zn(N,L,V){if(d)if(N){let B=N[N.length-1].route;if(B.path&&(B.path==="*"||B.path.endsWith("/*")))return{active:!0,matches:ac(L,V,u,!0)}}else return{active:!0,matches:ac(L,V,u,!0)||[]};return{active:!1,matches:null}}async function Xi(N,L,V){let B=N,K=B.length>0?B[B.length-1].route:null;for(;;){let X=l==null,re=l||o;try{await wR(d,L,B,re,s,i,Nn,V)}catch(Z){return{type:"error",error:Z,partialMatches:B}}finally{X&&(o=[...o])}if(V.aborted)return{type:"aborted"};let W=ss(re,L,u),ae=!1;if(W){let Z=W[W.length-1].route;if(Z.index)return{type:"success",matches:W};if(Z.path&&Z.path.length>0)if(Z.path==="*")ae=!0;else return{type:"success",matches:W}}let J=ac(re,L,u,!0);if(!J||B.map(Z=>Z.route.id).join("-")===J.map(Z=>Z.route.id).join("-"))return{type:"success",matches:ae?W:null};if(B=J,K=B[B.length-1].route,K.path==="*")return{type:"success",matches:B}}}function It(N){s={},l=Rl(N,i,void 0,s)}function hu(N,L){let V=l==null;ME(N,L,l||o,s,i),V&&(o=[...o],dt({}))}return U={get basename(){return u},get future(){return f},get state(){return k},get routes(){return o},get window(){return e},initialize:ih,subscribe:Fs,enableScrollRestoration:wr,navigate:js,fetch:cu,revalidate:ra,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:aa,deleteFetcher:Gi,dispose:Vs,getBlocker:lh,deleteBlocker:$s,patchRoutes:hu,_internalFetchControllers:xe,_internalActiveDeferreds:Tt,_internalSetRoutes:It},U}function yR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function rp(t,e,n,r,i,s,o,l){let u,c;if(o){u=[];for(let f of e)if(u.push(f),f.route.id===o){c=f;break}}else u=e,c=e[e.length-1];let d=Lm(i||".",Om(u,s),Kn(t.pathname,n)||t.pathname,l==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Vm(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:ur([n,d.pathname])),xi(d)}function Iv(t,e,n,r){if(!r||!yR(r))return{path:n};if(r.formMethod&&!NR(r.formMethod))return{path:n,error:qt(405,{method:r.formMethod})};let i=()=>({path:n,error:qt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=VE(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Fn(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((_,C)=>{let[R,D]=C;return""+_+R+"="+D+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Fn(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}he(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=ip(r.formData),c=r.formData;else if(r.body instanceof FormData)u=ip(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=kv(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=kv(u)}catch{return i()}let d={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Fn(d.formMethod))return{path:n,submission:d};let f=zi(n);return e&&f.search&&Vm(f.search)&&u.append("index",""),f.search="?"+u,{path:xi(f),submission:d}}function vR(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Cv(t,e,n,r,i,s,o,l,u,c,d,f,m,_,C,R){let D=R?fn(R[1])?R[1].error:R[1].data:void 0,I=t.createURL(e.location),y=t.createURL(i),w=R&&fn(R[1])?R[0]:void 0,b=w?vR(n,w):n,U=R?R[1].statusCode:void 0,k=o&&U&&U>=400,S=b.filter((E,P)=>{let{route:x}=E;if(x.lazy)return!0;if(x.loader==null)return!1;if(s)return typeof x.loader!="function"||x.loader.hydrate?!0:e.loaderData[x.id]===void 0&&(!e.errors||e.errors[x.id]===void 0);if(_R(e.loaderData,e.matches[P],E)||u.some(fe=>fe===E.route.id))return!0;let O=e.matches[P],A=E;return Pv(E,qe({currentUrl:I,currentParams:O.params,nextUrl:y,nextParams:A.params},r,{actionResult:D,actionStatus:U,defaultShouldRevalidate:k?!1:l||I.pathname+I.search===y.pathname+y.search||I.search!==y.search||LE(O,A)}))}),g=[];return f.forEach((E,P)=>{if(s||!n.some(ye=>ye.route.id===E.routeId)||d.has(P))return;let x=ss(_,E.path,C);if(!x){g.push({key:P,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(P),A=$a(x,E.path),fe=!1;m.has(P)?fe=!1:c.has(P)?(c.delete(P),fe=!0):O&&O.state!=="idle"&&O.data===void 0?fe=l:fe=Pv(A,qe({currentUrl:I,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:D,actionStatus:U,defaultShouldRevalidate:k?!1:l})),fe&&g.push({key:P,routeId:E.routeId,path:E.path,matches:x,match:A,controller:new AbortController})}),[S,g]}function _R(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function LE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Pv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function wR(t,e,n,r,i,s,o,l){let u=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(u);c||(c=t({path:e,matches:n,patch:(d,f)=>{l.aborted||ME(d,f,r,i,s)}}),o.set(u,c)),c&&AR(c)&&await c}finally{o.delete(u)}}function ME(t,e,n,r,i){if(t){var s;let o=r[t];he(o,"No route found to patch children into: routeId = "+t);let l=Rl(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=Rl(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function Rv(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];he(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Oo(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!zP.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,qe({},e(i),{lazy:void 0}))}function ER(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function TR(t,e,n,r,i,s,o,l){let u=r.reduce((f,m)=>f.add(m.route.id),new Set),c=new Set,d=await t({matches:i.map(f=>{let m=u.has(f.route.id);return qe({},f,{shouldLoad:m,resolve:C=>(c.add(f.route.id),m?SR(e,n,f,s,o,C,l):Promise.resolve({type:Oe.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(f=>he(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((f,m)=>u.has(i[m].route.id))}async function SR(t,e,n,r,i,s,o){let l,u,c=d=>{let f,m=new Promise((R,D)=>f=D);u=()=>f(),e.signal.addEventListener("abort",u);let _=R=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:o},...R!==void 0?[R]:[]),C;return s?C=s(R=>_(R)):C=(async()=>{try{return{type:"data",result:await _()}}catch(R){return{type:"error",result:R}}})(),Promise.race([C,m])};try{let d=n.route[t];if(n.route.lazy)if(d){let f,[m]=await Promise.all([c(d).catch(_=>{f=_}),Rv(n.route,i,r)]);if(f!==void 0)throw f;l=m}else if(await Rv(n.route,i,r),d=n.route[t],d)l=await c(d);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw qt(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Oe.data,result:void 0};else if(d)l=await c(d);else{let f=new URL(e.url),m=f.pathname+f.search;throw qt(404,{pathname:m})}he(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Oe.error,result:d}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function IR(t){let{result:e,type:n}=t;if(FE(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:Oe.error,error:d}}return n===Oe.error?{type:Oe.error,error:new zc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Oe.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Oe.error){if(Lv(e)){var r;if(e.data instanceof Error){var i;return{type:Oe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new zc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Oe.error,error:e,statusCode:xd(e)?e.status:void 0}}if(xR(e)){var s,o;return{type:Oe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Lv(e)){var l,u;return{type:Oe.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Oe.data,data:e}}function CR(t,e,n,r,i,s){let o=t.headers.get("Location");if(he(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mm.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=rp(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function Av(t,e,n){if(Mm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Kn(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Qs(t,e,n,r){let i=t.createURL(VE(e)).toString(),s={signal:n};if(r&&Fn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=ip(r.formData):s.body=r.formData}return new Request(i,s)}function ip(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function kv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function PR(t,e,n,r,i,s){let o={},l=null,u,c=!1,d={},f=r&&fn(r[1])?r[1].error:void 0;return n.forEach((m,_)=>{let C=e[_].route.id;if(he(!cs(m),"Cannot handle redirect results in processLoaderData"),fn(m)){let R=m.error;f!==void 0&&(R=f,f=void 0),l=l||{};{let D=po(t,C);l[D.route.id]==null&&(l[D.route.id]=R)}o[C]=void 0,c||(c=!0,u=xd(m.error)?m.error.status:500),m.headers&&(d[C]=m.headers)}else us(m)?(i.set(C,m.deferredData),o[C]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(d[C]=m.headers)):(o[C]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(d[C]=m.headers))}),f!==void 0&&r&&(l={[r[0]]:f},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:d}}function xv(t,e,n,r,i,s,o,l){let{loaderData:u,errors:c}=PR(e,n,r,i,l);for(let d=0;d<s.length;d++){let{key:f,match:m,controller:_}=s[d];he(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let C=o[d];if(!(_&&_.signal.aborted))if(fn(C)){let R=po(t.matches,m==null?void 0:m.route.id);c&&c[R.route.id]||(c=qe({},c,{[R.route.id]:C.error})),t.fetchers.delete(f)}else if(cs(C))he(!1,"Unhandled fetcher revalidation redirect");else if(us(C))he(!1,"Unhandled fetcher deferred data");else{let R=ni(C.data);t.fetchers.set(f,R)}}return{loaderData:u,errors:c}}function Nv(t,e,n,r){let i=qe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Dv(t){return t?fn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function po(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function bv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function qt(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new zc(t||500,l,new Error(u),!0)}function Ov(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(cs(n))return{result:n,idx:e}}}function VE(t){let e=typeof t=="string"?zi(t):t;return xi(qe({},e,{hash:""}))}function RR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function AR(t){return typeof t=="object"&&t!=null&&"then"in t}function kR(t){return FE(t.result)&&hR.has(t.result.status)}function us(t){return t.type===Oe.deferred}function fn(t){return t.type===Oe.error}function cs(t){return(t&&t.type)===Oe.redirect}function Lv(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function xR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function FE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function NR(t){return dR.has(t.toLowerCase())}function Fn(t){return uR.has(t.toLowerCase())}async function Mv(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],u=e[o];if(!u)continue;let c=t.find(f=>f.route.id===u.route.id),d=c!=null&&!LE(c,u)&&(s&&s[u.route.id])!==void 0;if(us(l)&&(i||d)){let f=r[o];he(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await jE(l,f,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function jE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Oe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Oe.error,error:i}}return{type:Oe.data,data:t.deferredData.data}}}function Vm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function $a(t,e){let n=typeof e=="string"?zi(e).search:e.search;if(t[t.length-1].route.index&&Vm(n||""))return t[t.length-1];let r=DE(t);return r[r.length-1]}function Vv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function $h(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function DR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function xa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function bR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ni(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function OR(t,e){try{let n=t.sessionStorage.getItem(OE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function LR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(OE,JSON.stringify(n))}catch(r){Oo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}const Wl=F.createContext(null),Fm=F.createContext(null),gr=F.createContext(null),jm=F.createContext(null),yr=F.createContext({outlet:null,matches:[],isDataRoute:!1}),UE=F.createContext(null);function MR(t,e){let{relative:n}=e===void 0?{}:e;ql()||he(!1);let{basename:r,navigator:i}=F.useContext(gr),{hash:s,pathname:o,search:l}=Kl(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ur([r,o])),i.createHref({pathname:u,search:l,hash:s})}function ql(){return F.useContext(jm)!=null}function Hi(){return ql()||he(!1),F.useContext(jm).location}function BE(t){F.useContext(gr).static||F.useLayoutEffect(t)}function Qn(){let{isDataRoute:t}=F.useContext(yr);return t?QR():VR()}function VR(){ql()||he(!1);let t=F.useContext(Wl),{basename:e,future:n,navigator:r}=F.useContext(gr),{matches:i}=F.useContext(yr),{pathname:s}=Hi(),o=JSON.stringify(Om(i,n.v7_relativeSplatPath)),l=F.useRef(!1);return BE(()=>{l.current=!0}),F.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=Lm(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ur([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const FR=F.createContext(null);function jR(t){let e=F.useContext(yr).outlet;return e&&F.createElement(FR.Provider,{value:t},e)}function $E(){let{matches:t}=F.useContext(yr),e=t[t.length-1];return e?e.params:{}}function Kl(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=F.useContext(gr),{matches:i}=F.useContext(yr),{pathname:s}=Hi(),o=JSON.stringify(Om(i,r.v7_relativeSplatPath));return F.useMemo(()=>Lm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function UR(t,e,n,r){ql()||he(!1);let{navigator:i}=F.useContext(gr),{matches:s}=F.useContext(yr),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Hi(),d;d=c;let f=d.pathname||"/",m=f;if(u!=="/"){let R=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(R.length).join("/")}let _=ss(t,{pathname:m});return WR(_&&_.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:ur([u,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:ur([u,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r)}function BR(){let t=WE(),e=xd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,null)}const $R=F.createElement(BR,null);class zR extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(yr.Provider,{value:this.props.routeContext},F.createElement(UE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HR(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(Wl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(yr.Provider,{value:e},r)}function WR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||he(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:_}=n,C=f.route.loader&&m[f.route.id]===void 0&&(!_||_[f.route.id]===void 0);if(f.route.lazy||C){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let _,C=!1,R=null,D=null;n&&(_=l&&f.route.id?l[f.route.id]:void 0,R=f.route.errorElement||$R,u&&(c<0&&m===0?(C=!0,D=null):c===m&&(C=!0,D=f.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,m+1)),y=()=>{let w;return _?w=R:C?w=D:f.route.Component?w=F.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,F.createElement(HR,{match:f,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?F.createElement(zR,{location:n.location,revalidation:n.revalidation,component:R,error:_,children:y(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):y()},null)}var zE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zE||{}),Es=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Es||{});function qR(t){let e=F.useContext(Wl);return e||he(!1),e}function HE(t){let e=F.useContext(Fm);return e||he(!1),e}function KR(t){let e=F.useContext(yr);return e||he(!1),e}function Nd(t){let e=KR(),n=e.matches[e.matches.length-1];return n.route.id||he(!1),n.route.id}function GR(){return Nd(Es.UseRouteId)}function Go(){let t=HE(Es.UseLoaderData),e=Nd(Es.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function WE(){var t;let e=F.useContext(UE),n=HE(Es.UseRouteError),r=Nd(Es.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function QR(){let{router:t}=qR(zE.UseNavigateStable),e=Nd(Es.UseNavigateStable),n=F.useRef(!1);return BE(()=>{n.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hc({fromRouteId:e},s)))},[t,e])}function Dd(t){return jR(t.context)}function YR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ot.Pop,navigator:s,static:o=!1,future:l}=t;ql()&&he(!1);let u=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:u,navigator:s,static:o,future:Hc({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=zi(r));let{pathname:d="/",search:f="",hash:m="",state:_=null,key:C="default"}=r,R=F.useMemo(()=>{let D=Kn(d,u);return D==null?null:{location:{pathname:D,search:f,hash:m,state:_,key:C},navigationType:i}},[u,d,f,m,_,C,i]);return R==null?null:F.createElement(gr.Provider,{value:c},F.createElement(jm.Provider,{children:n,value:R}))}new Promise(()=>{});function XR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:F.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Di(){return Di=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Di.apply(this,arguments)}function Um(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const lc="get",zh="application/x-www-form-urlencoded";function bd(t){return t!=null&&typeof t.tagName=="string"}function JR(t){return bd(t)&&t.tagName.toLowerCase()==="button"}function ZR(t){return bd(t)&&t.tagName.toLowerCase()==="form"}function eA(t){return bd(t)&&t.tagName.toLowerCase()==="input"}function tA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nA(t,e){return t.button===0&&(!e||e==="_self")&&!tA(t)}function sp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function rA(t,e){let n=sp(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}let Bu=null;function iA(){if(Bu===null)try{new FormData(document.createElement("form"),0),Bu=!1}catch{Bu=!0}return Bu}const sA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hh(t){return t!=null&&!sA.has(t)?null:t}function oA(t,e){let n,r,i,s,o;if(ZR(t)){let l=t.getAttribute("action");r=l?Kn(l,e):null,n=t.getAttribute("method")||lc,i=Hh(t.getAttribute("enctype"))||zh,s=new FormData(t)}else if(JR(t)||eA(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?Kn(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||lc,i=Hh(t.getAttribute("formenctype"))||Hh(l.getAttribute("enctype"))||zh,s=new FormData(l,t),!iA()){let{name:c,type:d,value:f}=t;if(d==="image"){let m=c?c+".":"";s.append(m+"x","0"),s.append(m+"y","0")}else c&&s.append(c,f)}}else{if(bd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lc,r=null,i=zh,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}const aA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],lA=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],uA=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"],cA="6";try{window.__reactRouterVersion=cA}catch{}function dA(t,e){return gR({basename:e==null?void 0:e.basename,future:Di({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:UP({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||hA(),routes:t,mapRouteProperties:XR,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnMiss:e==null?void 0:e.unstable_patchRoutesOnMiss,window:e==null?void 0:e.window}).initialize()}function hA(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Di({},e,{errors:fA(e.errors)})),e}function fA(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new zc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const qE=F.createContext({isTransitioning:!1}),pA=F.createContext(new Map),mA="startTransition",Fv=uf[mA],gA="flushSync",jv=VP[gA];function yA(t){Fv?Fv(t):t()}function Na(t){jv?jv(t):t()}let vA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function _A(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=F.useState(n.state),[o,l]=F.useState(),[u,c]=F.useState({isTransitioning:!1}),[d,f]=F.useState(),[m,_]=F.useState(),[C,R]=F.useState(),D=F.useRef(new Map),{v7_startTransition:I}=r||{},y=F.useCallback(g=>{I?yA(g):g()},[I]),w=F.useCallback((g,E)=>{let{deletedFetchers:P,unstable_flushSync:x,unstable_viewTransitionOpts:O}=E;P.forEach(fe=>D.current.delete(fe)),g.fetchers.forEach((fe,ye)=>{fe.data!==void 0&&D.current.set(ye,fe.data)});let A=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!O||A){x?Na(()=>s(g)):y(()=>s(g));return}if(x){Na(()=>{m&&(d&&d.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let fe=n.window.document.startViewTransition(()=>{Na(()=>s(g))});fe.finished.finally(()=>{Na(()=>{f(void 0),_(void 0),l(void 0),c({isTransitioning:!1})})}),Na(()=>_(fe));return}m?(d&&d.resolve(),m.skipTransition(),R({state:g,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(l(g),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,m,d,D,y]);F.useLayoutEffect(()=>n.subscribe(w),[n,w]),F.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new vA)},[u]),F.useEffect(()=>{if(d&&o&&n.window){let g=o,E=d.promise,P=n.window.document.startViewTransition(async()=>{y(()=>s(g)),await E});P.finished.finally(()=>{f(void 0),_(void 0),l(void 0),c({isTransitioning:!1})}),_(P)}},[y,o,d,n.window]),F.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,m,i.location,o]),F.useEffect(()=>{!u.isTransitioning&&C&&(l(C.state),c({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),R(void 0))},[u.isTransitioning,C]),F.useEffect(()=>{},[]);let b=F.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,E,P)=>n.navigate(g,{state:E,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(g,E,P)=>n.navigate(g,{replace:!0,state:E,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),U=n.basename||"/",k=F.useMemo(()=>({router:n,navigator:b,static:!1,basename:U}),[n,b,U]),S=F.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return F.createElement(F.Fragment,null,F.createElement(Wl.Provider,{value:k},F.createElement(Fm.Provider,{value:i},F.createElement(pA.Provider,{value:D.current},F.createElement(qE.Provider,{value:u},F.createElement(YR,{basename:U,location:i.location,navigationType:i.historyAction,navigator:b,future:S},i.initialized||n.future.v7_partialHydration?F.createElement(wA,{routes:n.routes,future:n.future,state:i}):e))))),null)}const wA=F.memo(EA);function EA(t){let{routes:e,future:n,state:r}=t;return UR(e,void 0,r,n)}const TA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=F.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,m=Um(e,aA),{basename:_}=F.useContext(gr),C,R=!1;if(typeof c=="string"&&SA.test(c)&&(C=c,TA))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),U=Kn(b.pathname,_);b.origin===w.origin&&U!=null?c=U+b.search+b.hash:R=!0}catch{}let D=MR(c,{relative:i}),I=CA(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:f});function y(w){r&&r(w),w.defaultPrevented||I(w)}return F.createElement("a",Di({},m,{href:C||D,onClick:R||s?r:y,ref:n,target:u}))}),Wh=F.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:u,unstable_viewTransition:c,children:d}=e,f=Um(e,lA),m=Kl(u,{relative:f.relative}),_=Hi(),C=F.useContext(Fm),{navigator:R,basename:D}=F.useContext(gr),I=C!=null&&xA(m)&&c===!0,y=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,w=_.pathname,b=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(w=w.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&D&&(b=Kn(b,D)||b);const U=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=w===y||!o&&w.startsWith(y)&&w.charAt(U)==="/",S=b!=null&&(b===y||!o&&b.startsWith(y)&&b.charAt(y.length)==="/"),g={isActive:k,isPending:S,isTransitioning:I},E=k?r:void 0,P;typeof s=="function"?P=s(g):P=[s,k?"active":null,S?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(g):l;return F.createElement(Kt,Di({},f,{"aria-current":E,className:P,ref:n,style:x,to:u,unstable_viewTransition:c}),typeof d=="function"?d(g):d)}),IA=F.forwardRef((t,e)=>{let{fetcherKey:n,navigate:r,reloadDocument:i,replace:s,state:o,method:l=lc,action:u,onSubmit:c,relative:d,preventScrollReset:f,unstable_viewTransition:m}=t,_=Um(t,uA),C=QE(),R=kA(u,{relative:d}),D=l.toLowerCase()==="get"?"get":"post",I=y=>{if(c&&c(y),y.defaultPrevented)return;y.preventDefault();let w=y.nativeEvent.submitter,b=(w==null?void 0:w.getAttribute("formmethod"))||l;C(w||y.currentTarget,{fetcherKey:n,method:b,navigate:r,replace:s,state:o,relative:d,preventScrollReset:f,unstable_viewTransition:m})};return F.createElement("form",Di({ref:e,method:D,action:R,onSubmit:i?c:I},_))});var Wc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wc||(Wc={}));var Uv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Uv||(Uv={}));function KE(t){let e=F.useContext(Wl);return e||he(!1),e}function CA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=Qn(),c=Hi(),d=Kl(t,{relative:o});return F.useCallback(f=>{if(nA(f,n)){f.preventDefault();let m=r!==void 0?r:xi(c)===xi(d);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,u,d,r,i,n,t,s,o,l])}function GE(t){let e=F.useRef(sp(t)),n=F.useRef(!1),r=Hi(),i=F.useMemo(()=>rA(r.search,n.current?null:e.current),[r.search]),s=Qn(),o=F.useCallback((l,u)=>{const c=sp(typeof l=="function"?l(i):l);n.current=!0,s("?"+c,u)},[s,i]);return[i,o]}function PA(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let RA=0,AA=()=>"__"+String(++RA)+"__";function QE(){let{router:t}=KE(Wc.UseSubmit),{basename:e}=F.useContext(gr),n=GR();return F.useCallback(function(r,i){i===void 0&&(i={}),PA();let{action:s,method:o,encType:l,formData:u,body:c}=oA(r,e);if(i.navigate===!1){let d=i.fetcherKey||AA();t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||l,unstable_flushSync:i.unstable_flushSync})}else t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,unstable_flushSync:i.unstable_flushSync,unstable_viewTransition:i.unstable_viewTransition})},[t,e,n])}function kA(t,e){let{relative:n}=e===void 0?{}:e,{basename:r}=F.useContext(gr),i=F.useContext(yr);i||he(!1);let[s]=i.matches.slice(-1),o=Di({},Kl(t||".",{relative:n})),l=Hi();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search);u.has("index")&&u.get("index")===""&&(u.delete("index"),o.search=u.toString()?"?"+u.toString():"")}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:ur([r,o.pathname])),xi(o)}function xA(t,e){e===void 0&&(e={});let n=F.useContext(qE);n==null&&he(!1);let{basename:r}=KE(Wc.useViewTransitionState),i=Kl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Kn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Kn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $c(i.pathname,o)!=null||$c(i.pathname,s)!=null}var Bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},XE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,_=c&63;u||(_=64,o||(m=64)),r.push(n[d],n[f],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||f==null)throw new DA;const m=s<<2|l>>4;if(r.push(m),c!==64){const _=l<<4&240|c>>2;if(r.push(_),f!==64){const C=c<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bA=function(t){const e=YE(t);return XE.encodeByteArray(e,!0)},qc=function(t){return bA(t).replace(/\./g,"")},JE=function(t){try{return XE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=()=>OA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof Bv>"u")return;const t=Bv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JE(t[1]);return e&&JSON.parse(e)},Od=()=>{try{return LA()||MA()||VA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZE=t=>{var e,n;return(n=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FA=t=>{const e=ZE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eT=()=>{var t;return(t=Od())===null||t===void 0?void 0:t.config},tT=t=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qc(JSON.stringify(n)),qc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function $A(){var t;const e=(t=Od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WA(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qA(){return!$A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KA(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="FirebaseError";class Wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QA,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?YA(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Wr(i,l,r)}}function YA(t,e){return t.replace(XA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XA=/\{\$([^}]+)}/g;function JA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($v(s)&&$v(o)){if(!Kc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $v(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function za(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ha(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZA(t,e){const n=new ek(t,e);return n.subscribe.bind(n)}class ek{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qh),i.error===void 0&&(i.error=qh),i.complete===void 0&&(i.complete=qh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t){return t&&t._delegate?t._delegate:t}class Ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nk=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ik(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rk(t){return t===rs?void 0:t}function ik(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const ok={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},ak=we.INFO,lk={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},uk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=ak,this._logHandler=uk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ok[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const ck=(t,e)=>e.some(n=>t instanceof n);let zv,Hv;function dk(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hk(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nT=new WeakMap,op=new WeakMap,rT=new WeakMap,Kh=new WeakMap,$m=new WeakMap;function fk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nT.set(n,t)}).catch(()=>{}),$m.set(e,t),e}function pk(t){if(op.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});op.set(t,e)}let ap={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return op.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mk(t){ap=t(ap)}function gk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gh(this),e,...n);return rT.set(r,e.sort?e.sort():[e]),Si(r)}:hk().includes(t)?function(...e){return t.apply(Gh(this),e),Si(nT.get(this))}:function(...e){return Si(t.apply(Gh(this),e))}}function yk(t){return typeof t=="function"?gk(t):(t instanceof IDBTransaction&&pk(t),ck(t,dk())?new Proxy(t,ap):t)}function Si(t){if(t instanceof IDBRequest)return fk(t);if(Kh.has(t))return Kh.get(t);const e=yk(t);return e!==t&&(Kh.set(t,e),$m.set(e,t)),e}const Gh=t=>$m.get(t);function vk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Si(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Si(o.result),u.oldVersion,u.newVersion,Si(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const _k=["get","getKey","getAll","getAllKeys","count"],wk=["put","add","delete","clear"],Qh=new Map;function Wv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_k.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Qh.set(e,s),s}mk(t=>({...t,get:(e,n,r)=>Wv(e,n)||t.get(e,n,r),has:(e,n)=>!!Wv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lp="@firebase/app",qv="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new Bm("@firebase/app"),Sk="@firebase/app-compat",Ik="@firebase/analytics-compat",Ck="@firebase/analytics",Pk="@firebase/app-check-compat",Rk="@firebase/app-check",Ak="@firebase/auth",kk="@firebase/auth-compat",xk="@firebase/database",Nk="@firebase/database-compat",Dk="@firebase/functions",bk="@firebase/functions-compat",Ok="@firebase/installations",Lk="@firebase/installations-compat",Mk="@firebase/messaging",Vk="@firebase/messaging-compat",Fk="@firebase/performance",jk="@firebase/performance-compat",Uk="@firebase/remote-config",Bk="@firebase/remote-config-compat",$k="@firebase/storage",zk="@firebase/storage-compat",Hk="@firebase/firestore",Wk="@firebase/vertexai-preview",qk="@firebase/firestore-compat",Kk="firebase",Gk="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="[DEFAULT]",Qk={[lp]:"fire-core",[Sk]:"fire-core-compat",[Ck]:"fire-analytics",[Ik]:"fire-analytics-compat",[Rk]:"fire-app-check",[Pk]:"fire-app-check-compat",[Ak]:"fire-auth",[kk]:"fire-auth-compat",[xk]:"fire-rtdb",[Nk]:"fire-rtdb-compat",[Dk]:"fire-fn",[bk]:"fire-fn-compat",[Ok]:"fire-iid",[Lk]:"fire-iid-compat",[Mk]:"fire-fcm",[Vk]:"fire-fcm-compat",[Fk]:"fire-perf",[jk]:"fire-perf-compat",[Uk]:"fire-rc",[Bk]:"fire-rc-compat",[$k]:"fire-gcs",[zk]:"fire-gcs-compat",[Hk]:"fire-fst",[qk]:"fire-fst-compat",[Wk]:"fire-vertex","fire-js":"fire-js",[Kk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,Yk=new Map,cp=new Map;function Kv(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lo(t){const e=t.name;if(cp.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;cp.set(e,t);for(const n of Gc.values())Kv(n,t);for(const n of Yk.values())Kv(n,t);return!0}function zm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new Gl("app","Firebase",Xk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=Gk;function iT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:up,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(n||(n=eT()),!n)throw Ii.create("no-options");const s=Gc.get(i);if(s){if(Kc(n,s.options)&&Kc(r,s.config))return s;throw Ii.create("duplicate-app",{appName:i})}const o=new sk(i);for(const u of cp.values())o.addComponent(u);const l=new Jk(n,r,o);return Gc.set(i,l),l}function sT(t=up){const e=Gc.get(t);if(!e&&t===up&&eT())return iT();if(!e)throw Ii.create("no-app",{appName:t});return e}function Ci(t,e,n){var r;let i=(r=Qk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(l.join(" "));return}Lo(new Ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="firebase-heartbeat-database",ex=1,Al="firebase-heartbeat-store";let Yh=null;function oT(){return Yh||(Yh=vk(Zk,ex,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),Yh}async function tx(t){try{const n=(await oT()).transaction(Al),r=await n.objectStore(Al).get(aT(t));return await n.done,r}catch(e){if(e instanceof Wr)Ss.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(n.message)}}}async function Gv(t,e){try{const r=(await oT()).transaction(Al,"readwrite");await r.objectStore(Al).put(e,aT(t)),await r.done}catch(n){if(n instanceof Wr)Ss.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ss.warn(r.message)}}}function aT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=1024,rx=30*24*60*60*1e3;class ix{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ox(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=rx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qv(),{heartbeatsToSend:r,unsentEntries:i}=sx(this._heartbeatsCache.heartbeats),s=qc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Qv(){return new Date().toISOString().substring(0,10)}function sx(t,e=nx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Yv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ox{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KA()?GA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Yv(t){return qc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t){Lo(new Ts("platform-logger",e=>new Ek(e),"PRIVATE")),Lo(new Ts("heartbeat",e=>new ix(e),"PRIVATE")),Ci(lp,qv,t),Ci(lp,qv,"esm2017"),Ci("fire-js","")}ax("");var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,lT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,g){function E(){}E.prototype=g.prototype,S.D=g.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(P,x,O){for(var A=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)A[fe-2]=arguments[fe];return g.prototype[x].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,g,E){E||(E=0);var P=Array(16);if(typeof g=="string")for(var x=0;16>x;++x)P[x]=g.charCodeAt(E++)|g.charCodeAt(E++)<<8|g.charCodeAt(E++)<<16|g.charCodeAt(E++)<<24;else for(x=0;16>x;++x)P[x]=g[E++]|g[E++]<<8|g[E++]<<16|g[E++]<<24;g=S.g[0],E=S.g[1],x=S.g[2];var O=S.g[3],A=g+(O^E&(x^O))+P[0]+3614090360&4294967295;g=E+(A<<7&4294967295|A>>>25),A=O+(x^g&(E^x))+P[1]+3905402710&4294967295,O=g+(A<<12&4294967295|A>>>20),A=x+(E^O&(g^E))+P[2]+606105819&4294967295,x=O+(A<<17&4294967295|A>>>15),A=E+(g^x&(O^g))+P[3]+3250441966&4294967295,E=x+(A<<22&4294967295|A>>>10),A=g+(O^E&(x^O))+P[4]+4118548399&4294967295,g=E+(A<<7&4294967295|A>>>25),A=O+(x^g&(E^x))+P[5]+1200080426&4294967295,O=g+(A<<12&4294967295|A>>>20),A=x+(E^O&(g^E))+P[6]+2821735955&4294967295,x=O+(A<<17&4294967295|A>>>15),A=E+(g^x&(O^g))+P[7]+4249261313&4294967295,E=x+(A<<22&4294967295|A>>>10),A=g+(O^E&(x^O))+P[8]+1770035416&4294967295,g=E+(A<<7&4294967295|A>>>25),A=O+(x^g&(E^x))+P[9]+2336552879&4294967295,O=g+(A<<12&4294967295|A>>>20),A=x+(E^O&(g^E))+P[10]+4294925233&4294967295,x=O+(A<<17&4294967295|A>>>15),A=E+(g^x&(O^g))+P[11]+2304563134&4294967295,E=x+(A<<22&4294967295|A>>>10),A=g+(O^E&(x^O))+P[12]+1804603682&4294967295,g=E+(A<<7&4294967295|A>>>25),A=O+(x^g&(E^x))+P[13]+4254626195&4294967295,O=g+(A<<12&4294967295|A>>>20),A=x+(E^O&(g^E))+P[14]+2792965006&4294967295,x=O+(A<<17&4294967295|A>>>15),A=E+(g^x&(O^g))+P[15]+1236535329&4294967295,E=x+(A<<22&4294967295|A>>>10),A=g+(x^O&(E^x))+P[1]+4129170786&4294967295,g=E+(A<<5&4294967295|A>>>27),A=O+(E^x&(g^E))+P[6]+3225465664&4294967295,O=g+(A<<9&4294967295|A>>>23),A=x+(g^E&(O^g))+P[11]+643717713&4294967295,x=O+(A<<14&4294967295|A>>>18),A=E+(O^g&(x^O))+P[0]+3921069994&4294967295,E=x+(A<<20&4294967295|A>>>12),A=g+(x^O&(E^x))+P[5]+3593408605&4294967295,g=E+(A<<5&4294967295|A>>>27),A=O+(E^x&(g^E))+P[10]+38016083&4294967295,O=g+(A<<9&4294967295|A>>>23),A=x+(g^E&(O^g))+P[15]+3634488961&4294967295,x=O+(A<<14&4294967295|A>>>18),A=E+(O^g&(x^O))+P[4]+3889429448&4294967295,E=x+(A<<20&4294967295|A>>>12),A=g+(x^O&(E^x))+P[9]+568446438&4294967295,g=E+(A<<5&4294967295|A>>>27),A=O+(E^x&(g^E))+P[14]+3275163606&4294967295,O=g+(A<<9&4294967295|A>>>23),A=x+(g^E&(O^g))+P[3]+4107603335&4294967295,x=O+(A<<14&4294967295|A>>>18),A=E+(O^g&(x^O))+P[8]+1163531501&4294967295,E=x+(A<<20&4294967295|A>>>12),A=g+(x^O&(E^x))+P[13]+2850285829&4294967295,g=E+(A<<5&4294967295|A>>>27),A=O+(E^x&(g^E))+P[2]+4243563512&4294967295,O=g+(A<<9&4294967295|A>>>23),A=x+(g^E&(O^g))+P[7]+1735328473&4294967295,x=O+(A<<14&4294967295|A>>>18),A=E+(O^g&(x^O))+P[12]+2368359562&4294967295,E=x+(A<<20&4294967295|A>>>12),A=g+(E^x^O)+P[5]+4294588738&4294967295,g=E+(A<<4&4294967295|A>>>28),A=O+(g^E^x)+P[8]+2272392833&4294967295,O=g+(A<<11&4294967295|A>>>21),A=x+(O^g^E)+P[11]+1839030562&4294967295,x=O+(A<<16&4294967295|A>>>16),A=E+(x^O^g)+P[14]+4259657740&4294967295,E=x+(A<<23&4294967295|A>>>9),A=g+(E^x^O)+P[1]+2763975236&4294967295,g=E+(A<<4&4294967295|A>>>28),A=O+(g^E^x)+P[4]+1272893353&4294967295,O=g+(A<<11&4294967295|A>>>21),A=x+(O^g^E)+P[7]+4139469664&4294967295,x=O+(A<<16&4294967295|A>>>16),A=E+(x^O^g)+P[10]+3200236656&4294967295,E=x+(A<<23&4294967295|A>>>9),A=g+(E^x^O)+P[13]+681279174&4294967295,g=E+(A<<4&4294967295|A>>>28),A=O+(g^E^x)+P[0]+3936430074&4294967295,O=g+(A<<11&4294967295|A>>>21),A=x+(O^g^E)+P[3]+3572445317&4294967295,x=O+(A<<16&4294967295|A>>>16),A=E+(x^O^g)+P[6]+76029189&4294967295,E=x+(A<<23&4294967295|A>>>9),A=g+(E^x^O)+P[9]+3654602809&4294967295,g=E+(A<<4&4294967295|A>>>28),A=O+(g^E^x)+P[12]+3873151461&4294967295,O=g+(A<<11&4294967295|A>>>21),A=x+(O^g^E)+P[15]+530742520&4294967295,x=O+(A<<16&4294967295|A>>>16),A=E+(x^O^g)+P[2]+3299628645&4294967295,E=x+(A<<23&4294967295|A>>>9),A=g+(x^(E|~O))+P[0]+4096336452&4294967295,g=E+(A<<6&4294967295|A>>>26),A=O+(E^(g|~x))+P[7]+1126891415&4294967295,O=g+(A<<10&4294967295|A>>>22),A=x+(g^(O|~E))+P[14]+2878612391&4294967295,x=O+(A<<15&4294967295|A>>>17),A=E+(O^(x|~g))+P[5]+4237533241&4294967295,E=x+(A<<21&4294967295|A>>>11),A=g+(x^(E|~O))+P[12]+1700485571&4294967295,g=E+(A<<6&4294967295|A>>>26),A=O+(E^(g|~x))+P[3]+2399980690&4294967295,O=g+(A<<10&4294967295|A>>>22),A=x+(g^(O|~E))+P[10]+4293915773&4294967295,x=O+(A<<15&4294967295|A>>>17),A=E+(O^(x|~g))+P[1]+2240044497&4294967295,E=x+(A<<21&4294967295|A>>>11),A=g+(x^(E|~O))+P[8]+1873313359&4294967295,g=E+(A<<6&4294967295|A>>>26),A=O+(E^(g|~x))+P[15]+4264355552&4294967295,O=g+(A<<10&4294967295|A>>>22),A=x+(g^(O|~E))+P[6]+2734768916&4294967295,x=O+(A<<15&4294967295|A>>>17),A=E+(O^(x|~g))+P[13]+1309151649&4294967295,E=x+(A<<21&4294967295|A>>>11),A=g+(x^(E|~O))+P[4]+4149444226&4294967295,g=E+(A<<6&4294967295|A>>>26),A=O+(E^(g|~x))+P[11]+3174756917&4294967295,O=g+(A<<10&4294967295|A>>>22),A=x+(g^(O|~E))+P[2]+718787259&4294967295,x=O+(A<<15&4294967295|A>>>17),A=E+(O^(x|~g))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+g&4294967295,S.g[1]=S.g[1]+(x+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,g){g===void 0&&(g=S.length);for(var E=g-this.blockSize,P=this.B,x=this.h,O=0;O<g;){if(x==0)for(;O<=E;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<g;)if(P[x++]=S.charCodeAt(O++),x==this.blockSize){i(this,P),x=0;break}}else for(;O<g;)if(P[x++]=S[O++],x==this.blockSize){i(this,P),x=0;break}}this.h=x,this.o+=g},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var g=1;g<S.length-8;++g)S[g]=0;var E=8*this.o;for(g=S.length-8;g<S.length;++g)S[g]=E&255,E/=256;for(this.u(S),S=Array(16),g=E=0;4>g;++g)for(var P=0;32>P;P+=8)S[E++]=this.g[g]>>>P&255;return S};function s(S,g){var E=l;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=g(S)}function o(S,g){this.h=g;for(var E=[],P=!0,x=S.length-1;0<=x;x--){var O=S[x]|0;P&&O==g||(E[x]=O,P=!1)}this.g=E}var l={};function u(S){return-128<=S&&128>S?s(S,function(g){return new o([g|0],0>g?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return D(c(-S));for(var g=[],E=1,P=0;S>=E;P++)g[P]=S/E|0,E*=4294967296;return new o(g,0)}function d(S,g){if(S.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(S.charAt(0)=="-")return D(d(S.substring(1),g));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(g,8)),P=f,x=0;x<S.length;x+=8){var O=Math.min(8,S.length-x),A=parseInt(S.substring(x,x+O),g);8>O?(O=c(Math.pow(g,O)),P=P.j(O).add(c(A))):(P=P.j(E),P=P.add(c(A)))}return P}var f=u(0),m=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-D(this).m();for(var S=0,g=1,E=0;E<this.g.length;E++){var P=this.i(E);S+=(0<=P?P:4294967296+P)*g,g*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(R(this))return"-"+D(this).toString(S);for(var g=c(Math.pow(S,6)),E=this,P="";;){var x=b(E,g).g;E=I(E,x.j(g));var O=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=x,C(E))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(var g=0;g<S.g.length;g++)if(S.g[g]!=0)return!1;return!0}function R(S){return S.h==-1}t.l=function(S){return S=I(this,S),R(S)?-1:C(S)?0:1};function D(S){for(var g=S.g.length,E=[],P=0;P<g;P++)E[P]=~S.g[P];return new o(E,~S.h).add(m)}t.abs=function(){return R(this)?D(this):this},t.add=function(S){for(var g=Math.max(this.g.length,S.g.length),E=[],P=0,x=0;x<=g;x++){var O=P+(this.i(x)&65535)+(S.i(x)&65535),A=(O>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);P=A>>>16,O&=65535,A&=65535,E[x]=A<<16|O}return new o(E,E[E.length-1]&-2147483648?-1:0)};function I(S,g){return S.add(D(g))}t.j=function(S){if(C(this)||C(S))return f;if(R(this))return R(S)?D(this).j(D(S)):D(D(this).j(S));if(R(S))return D(this.j(D(S)));if(0>this.l(_)&&0>S.l(_))return c(this.m()*S.m());for(var g=this.g.length+S.g.length,E=[],P=0;P<2*g;P++)E[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<S.g.length;x++){var O=this.i(P)>>>16,A=this.i(P)&65535,fe=S.i(x)>>>16,ye=S.i(x)&65535;E[2*P+2*x]+=A*ye,y(E,2*P+2*x),E[2*P+2*x+1]+=O*ye,y(E,2*P+2*x+1),E[2*P+2*x+1]+=A*fe,y(E,2*P+2*x+1),E[2*P+2*x+2]+=O*fe,y(E,2*P+2*x+2)}for(P=0;P<g;P++)E[P]=E[2*P+1]<<16|E[2*P];for(P=g;P<2*g;P++)E[P]=0;return new o(E,0)};function y(S,g){for(;(S[g]&65535)!=S[g];)S[g+1]+=S[g]>>>16,S[g]&=65535,g++}function w(S,g){this.g=S,this.h=g}function b(S,g){if(C(g))throw Error("division by zero");if(C(S))return new w(f,f);if(R(S))return g=b(D(S),g),new w(D(g.g),D(g.h));if(R(g))return g=b(S,D(g)),new w(D(g.g),g.h);if(30<S.g.length){if(R(S)||R(g))throw Error("slowDivide_ only works with positive integers.");for(var E=m,P=g;0>=P.l(S);)E=U(E),P=U(P);var x=k(E,1),O=k(P,1);for(P=k(P,2),E=k(E,2);!C(P);){var A=O.add(P);0>=A.l(S)&&(x=x.add(E),O=A),P=k(P,1),E=k(E,1)}return g=I(S,x.j(g)),new w(x,g)}for(x=f;0<=S.l(g);){for(E=Math.max(1,Math.floor(S.m()/g.m())),P=Math.ceil(Math.log(E)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=c(E),A=O.j(g);R(A)||0<A.l(S);)E-=P,O=c(E),A=O.j(g);C(O)&&(O=m),x=x.add(O),S=I(S,A)}return new w(x,S)}t.A=function(S){return b(this,S).h},t.and=function(S){for(var g=Math.max(this.g.length,S.g.length),E=[],P=0;P<g;P++)E[P]=this.i(P)&S.i(P);return new o(E,this.h&S.h)},t.or=function(S){for(var g=Math.max(this.g.length,S.g.length),E=[],P=0;P<g;P++)E[P]=this.i(P)|S.i(P);return new o(E,this.h|S.h)},t.xor=function(S){for(var g=Math.max(this.g.length,S.g.length),E=[],P=0;P<g;P++)E[P]=this.i(P)^S.i(P);return new o(E,this.h^S.h)};function U(S){for(var g=S.g.length+1,E=[],P=0;P<g;P++)E[P]=S.i(P)<<1|S.i(P-1)>>>31;return new o(E,S.h)}function k(S,g){var E=g>>5;g%=32;for(var P=S.g.length-E,x=[],O=0;O<P;O++)x[O]=0<g?S.i(O+E)>>>g|S.i(O+E+1)<<32-g:S.i(O+E);return new o(x,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ps=o}).apply(typeof Xv<"u"?Xv:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uT,cT,Wa,dT,uc,dp,hT,fT,pT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var M=a[v];if(!(M in p))break e;p=p[M]}a=a[a.length-1],v=p[a],h=h(v),h!=v&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,v=!1,M={next:function(){if(!v&&p<a.length){var j=p++;return{value:h(j,a[j]),done:!1}}return v=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,p){return a.call.apply(a.bind,arguments)}function f(a,h,p){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,v),a.apply(h,M)}}return function(){return a.apply(h,arguments)}}function m(a,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function _(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function C(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(v,M,j){for(var q=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)q[Me-2]=arguments[Me];return h.prototype[M].apply(v,q)}}function R(a){const h=a.length;if(0<h){const p=Array(h);for(let v=0;v<h;v++)p[v]=a[v];return p}return[]}function D(a,h){for(let p=1;p<arguments.length;p++){const v=arguments[p];if(u(v)){const M=a.length||0,j=v.length||0;a.length=M+j;for(let q=0;q<j;q++)a[M+q]=v[q]}else a.push(v)}}class I{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function w(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function b(a){return b[" "](a),a}b[" "]=function(){};var U=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function k(a,h,p){for(const v in a)h.call(p,a[v],v,a)}function S(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function g(a){const h={};for(const p in a)h[p]=a[p];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,h){let p,v;for(let M=1;M<arguments.length;M++){v=arguments[M];for(p in v)a[p]=v[p];for(let j=0;j<E.length;j++)p=E[j],Object.prototype.hasOwnProperty.call(v,p)&&(a[p]=v[p])}}function x(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function O(a){l.setTimeout(()=>{throw a},0)}function A(){var a=ne;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class fe{constructor(){this.h=this.g=null}add(h,p){const v=ye.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var ye=new I(()=>new Yn,a=>a.reset());class Yn{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,G=!1,ne=new fe,ie=()=>{const a=l.Promise.resolve(void 0);xe=()=>{a.then(Ie)}};var Ie=()=>{for(var a;a=A();){try{a.h.call(a.g)}catch(p){O(p)}var h=ye;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}G=!1};function Ee(){this.s=this.s,this.C=this.C}Ee.prototype.s=!1,Ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function Tt(a,h){if(Le.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(U){e:{try{b(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:St[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Tt.aa.h.call(this)}}C(Tt,Le);var St={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Nn="closure_listenable_"+(1e6*Math.random()|0),na=0;function ih(a,h,p,v,M){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=M,this.key=++na,this.da=this.fa=!1}function Vs(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Fs(a){this.src=a,this.g={},this.h=0}Fs.prototype.add=function(a,h,p,v,M){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var q=Xn(a,h,v,M);return-1<q?(h=a[q],p||(h.fa=!1)):(h=new ih(h,this.src,j,!!v,M),h.fa=p,a.push(h)),h};function dt(a,h){var p=h.type;if(p in a.g){var v=a.g[p],M=Array.prototype.indexOf.call(v,h,void 0),j;(j=0<=M)&&Array.prototype.splice.call(v,M,1),j&&(Vs(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Xn(a,h,p,v){for(var M=0;M<a.length;++M){var j=a[M];if(!j.da&&j.listener==h&&j.capture==!!p&&j.ha==v)return M}return-1}var js="closure_lm_"+(1e6*Math.random()|0),ra={};function Jn(a,h,p,v,M){if(Array.isArray(h)){for(var j=0;j<h.length;j++)Jn(a,h[j],p,v,M);return null}return p=Kr(p),a&&a[Nn]?a.K(h,p,c(v)?!!v.capture:!!v,M):sh(a,h,p,!1,v,M)}function sh(a,h,p,v,M,j){if(!h)throw Error("Invalid event type");var q=c(M)?!!M.capture:!!M,Me=oa(a);if(Me||(a[js]=Me=new Fs(a)),p=Me.add(h,p,v,q,j),p.proxy)return p;if(v=oh(),p.proxy=v,v.src=a,v.listener=p,a.addEventListener)ct||(M=q),M===void 0&&(M=!1),a.addEventListener(h.toString(),v,M);else if(a.attachEvent)a.attachEvent(cu(h.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function oh(){function a(p){return h.call(a.src,a.listener,p)}const h=ah;return a}function ia(a,h,p,v,M){if(Array.isArray(h))for(var j=0;j<h.length;j++)ia(a,h[j],p,v,M);else v=c(v)?!!v.capture:!!v,p=Kr(p),a&&a[Nn]?(a=a.i,h=String(h).toString(),h in a.g&&(j=a.g[h],p=Xn(j,p,v,M),-1<p&&(Vs(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete a.g[h],a.h--)))):a&&(a=oa(a))&&(h=a.g[h.toString()],a=-1,h&&(a=Xn(h,p,v,M)),(p=-1<a?h[a]:null)&&sa(p))}function sa(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Nn])dt(h.i,a);else{var p=a.type,v=a.proxy;h.removeEventListener?h.removeEventListener(p,v,a.capture):h.detachEvent?h.detachEvent(cu(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=oa(h))?(dt(p,a),p.h==0&&(p.src=null,h[js]=null)):Vs(a)}}}function cu(a){return a in ra?ra[a]:ra[a]="on"+a}function ah(a,h){if(a.da)a=!0;else{h=new Tt(h,this);var p=a.listener,v=a.ha||a.src;a.fa&&sa(a),a=p.call(v,h)}return a}function oa(a){return a=a[js],a instanceof Fs?a:null}var vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kr(a){return typeof a=="function"?a:(a[vr]||(a[vr]=function(h){return a.handleEvent(h)}),a[vr])}function ht(){Ee.call(this),this.i=new Fs(this),this.M=this,this.F=null}C(ht,Ee),ht.prototype[Nn]=!0,ht.prototype.removeEventListener=function(a,h,p,v){ia(this,a,h,p,v)};function ft(a,h){var p,v=a.F;if(v)for(p=[];v;v=v.F)p.push(v);if(a=a.M,v=h.type||h,typeof h=="string")h=new Le(h,a);else if(h instanceof Le)h.target=h.target||a;else{var M=h;h=new Le(v,a),P(h,M)}if(M=!0,p)for(var j=p.length-1;0<=j;j--){var q=h.g=p[j];M=un(q,v,!0,h)&&M}if(q=h.g=a,M=un(q,v,!0,h)&&M,M=un(q,v,!1,h)&&M,p)for(j=0;j<p.length;j++)q=h.g=p[j],M=un(q,v,!1,h)&&M}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],v=0;v<p.length;v++)Vs(p[v]);delete a.g[h],a.h--}}this.F=null},ht.prototype.K=function(a,h,p,v){return this.i.add(String(a),h,!1,p,v)},ht.prototype.L=function(a,h,p,v){return this.i.add(String(a),h,!0,p,v)};function un(a,h,p,v){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,j=0;j<h.length;++j){var q=h[j];if(q&&!q.da&&q.capture==p){var Me=q.listener,Ct=q.ha||q.src;q.fa&&dt(a.i,q),M=Me.call(Ct,v)!==!1&&M}}return M&&!v.defaultPrevented}function Sn(a,h,p){if(typeof a=="function")p&&(a=m(a,p));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function aa(a){a.g=Sn(()=>{a.g=null,a.i&&(a.i=!1,aa(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Us extends Ee{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:aa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(a){Ee.call(this),this.h=a,this.g={}}C(Gi,Ee);var Dn=[];function la(a){k(a.g,function(h,p){this.g.hasOwnProperty(p)&&sa(h)},a),a.g={}}Gi.prototype.N=function(){Gi.aa.N.call(this),la(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bs=l.JSON.stringify,du=l.JSON.parse,lh=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function $s(){}$s.prototype.h=null;function Qi(a){return a.h||(a.h=a.i())}function ua(){}var _r={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gr(){Le.call(this,"d")}C(Gr,Le);function Yi(){Le.call(this,"c")}C(Yi,Le);var wr={},ca=null;function zs(){return ca=ca||new ht}wr.La="serverreachability";function da(a){Le.call(this,wr.La,a)}C(da,Le);function Zn(a){const h=zs();ft(h,new da(h))}wr.STAT_EVENT="statevent";function Xi(a,h){Le.call(this,wr.STAT_EVENT,a),this.stat=h}C(Xi,Le);function It(a){const h=zs();ft(h,new Xi(h,a))}wr.Ma="timingevent";function hu(a,h){Le.call(this,wr.Ma,a),this.size=h}C(hu,Le);function N(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function L(){this.g=!0}L.prototype.xa=function(){this.g=!1};function V(a,h,p,v,M,j){a.info(function(){if(a.g)if(j)for(var q="",Me=j.split("&"),Ct=0;Ct<Me.length;Ct++){var Re=Me[Ct].split("=");if(1<Re.length){var Vt=Re[0];Re=Re[1];var Ft=Vt.split("_");q=2<=Ft.length&&Ft[1]=="type"?q+(Vt+"="+Re+"&"):q+(Vt+"=redacted&")}}else q=null;else q=j;return"XMLHTTP REQ ("+v+") [attempt "+M+"]: "+h+`
`+p+`
`+q})}function B(a,h,p,v,M,j,q){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+M+"]: "+h+`
`+p+`
`+j+" "+q})}function K(a,h,p,v){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+re(a,p)+(v?" "+v:"")})}function X(a,h){a.info(function(){return"TIMEOUT: "+h})}L.prototype.info=function(){};function re(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var v=p[a];if(!(2>v.length)){var M=v[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return Bs(p)}catch{return h}}var W={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},J;function Z(){}C(Z,$s),Z.prototype.g=function(){return new XMLHttpRequest},Z.prototype.i=function(){return{}},J=new Z;function pe(a,h,p,v){this.j=a,this.i=h,this.l=p,this.R=v||1,this.U=new Gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}var Ne={},Te={};function rt(a,h,p){a.L=1,a.v=gu(Tr(h)),a.m=p,a.P=!0,Qe(a,null)}function Qe(a,h){a.F=Date.now(),bn(a),a.A=Tr(a.v);var p=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),zg(p.i,"t",v),a.C=0,p=a.j.J,a.h=new Pe,a.g=ay(a.j,p?h:null,!a.m),0<a.O&&(a.M=new Us(m(a.Y,a,a.g),a.O)),h=a.U,p=a.g,v=a.ca;var M="readystatechange";Array.isArray(M)||(M&&(Dn[0]=M.toString()),M=Dn);for(var j=0;j<M.length;j++){var q=Jn(p,M[j],v||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Zn(),V(a.i,a.u,a.A,a.l,a.R,a.m)}pe.prototype.ca=function(a){a=a.target;const h=this.M;h&&Sr(a)==3?h.j():this.Y(a)},pe.prototype.Y=function(a){try{if(a==this.g)e:{const Ft=Sr(this.g);var h=this.g.Ba();const Ks=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Yg(this.g)))){this.J||Ft!=4||h==7||(h==8||0>=Ks?Zn(3):Zn(2)),tr(this);var p=this.g.Z();this.X=p;t:if(Qr(this)){var v=Yg(this.g);a="";var M=v.length,j=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),Lt(this);var q="";break t}this.h.i=new l.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,a+=this.h.i.decode(v[h],{stream:!(j&&h==M-1)});v.length=0,this.h.g+=a,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=p==200,B(this.i,this.u,this.A,this.l,this.R,Ft,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Ct=this.g;if((Me=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Me)){var Re=Me;break t}}Re=null}if(p=Re)K(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,p);else{this.o=!1,this.s=3,It(12),In(this),Lt(this);break e}}if(this.P){p=!0;let On;for(;!this.J&&this.C<q.length;)if(On=er(this,q),On==Te){Ft==4&&(this.s=4,It(14),p=!1),K(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Ne){this.s=4,It(15),K(this.i,this.l,q,"[Invalid Chunk]"),p=!1;break}else K(this.i,this.l,On,null),Yr(this,On);if(Qr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||q.length!=0||this.h.h||(this.s=1,It(16),p=!1),this.o=this.o&&p,!p)K(this.i,this.l,q,"[Invalid Chunked Response]"),In(this),Lt(this);else if(0<q.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),hh(Vt),Vt.M=!0,It(11))}}else K(this.i,this.l,q,null),Yr(this,q);Ft==4&&In(this),this.o&&!this.J&&(Ft==4?ry(this.j,this):(this.o=!1,bn(this)))}else u1(this.g),p==400&&0<q.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),In(this),Lt(this)}}}catch{}finally{}};function Qr(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function er(a,h){var p=a.C,v=h.indexOf(`
`,p);return v==-1?Te:(p=Number(h.substring(p,v)),isNaN(p)?Ne:(v+=1,v+p>h.length?Te:(h=h.slice(v,v+p),a.C=v+p,h)))}pe.prototype.cancel=function(){this.J=!0,In(this)};function bn(a){a.S=Date.now()+a.I,Er(a,a.I)}function Er(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=N(m(a.ba,a),h)}function tr(a){a.B&&(l.clearTimeout(a.B),a.B=null)}pe.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(X(this.i,this.A),this.L!=2&&(Zn(),It(17)),In(this),this.s=2,Lt(this)):Er(this,this.S-a)};function Lt(a){a.j.G==0||a.J||ry(a.j,a)}function In(a){tr(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,la(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Yr(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||be(p.h,a))){if(!a.K&&be(p.h,a)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var M=v;if(M[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Eu(p),_u(p);else break e;dh(p),It(18)}}else p.za=M[1],0<p.za-p.T&&37500>M[2]&&p.F&&p.v==0&&!p.C&&(p.C=N(m(p.Za,p),6e3));if(1>=Mt(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Zi(p,11)}else if((a.K||p.g==a)&&Eu(p),!y(h))for(M=p.Da.g.parse(h),h=0;h<M.length;h++){let Re=M[h];if(p.T=Re[0],Re=Re[1],p.G==2)if(Re[0]=="c"){p.K=Re[1],p.ia=Re[2];const Vt=Re[3];Vt!=null&&(p.la=Vt,p.j.info("VER="+p.la));const Ft=Re[4];Ft!=null&&(p.Aa=Ft,p.j.info("SVER="+p.Aa));const Ks=Re[5];Ks!=null&&typeof Ks=="number"&&0<Ks&&(v=1.5*Ks,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const On=a.g;if(On){const Su=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var j=v.h;j.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(cn(j,j.h),j.h=null))}if(v.D){const fh=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;fh&&(v.ya=fh,Ue(v.I,v.D,fh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var q=a;if(v.qa=oy(v,v.J?v.ia:null,v.W),q.K){ha(v.h,q);var Me=q,Ct=v.L;Ct&&(Me.I=Ct),Me.B&&(tr(Me),bn(Me)),v.g=q}else ty(v);0<p.i.length&&wu(p)}else Re[0]!="stop"&&Re[0]!="close"||Zi(p,7);else p.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Zi(p,7):ch(p):Re[0]!="noop"&&p.l&&p.l.ta(Re),p.v=0)}}Zn(4)}catch{}}var Hs=class{constructor(a,h){this.g=a,this.map=h}};function ce(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function je(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Mt(a){return a.h?1:a.g?a.g.size:0}function be(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function cn(a,h){a.g?a.g.add(h):a.h=h}function ha(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}ce.prototype.cancel=function(){if(this.i=fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function fu(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return R(a.i)}function GI(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],p=a.length,v=0;v<p;v++)h.push(a[v]);return h}h=[],p=0;for(v in a)h[p++]=a[v];return h}function QI(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const v in a)h[p++]=v;return h}}}function Vg(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=QI(a),v=GI(a),M=v.length,j=0;j<M;j++)h.call(void 0,v[j],p&&p[j],a)}var Fg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YI(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var v=a[p].indexOf("="),M=null;if(0<=v){var j=a[p].substring(0,v);M=a[p].substring(v+1)}else j=a[p];h(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ji(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ji){this.h=a.h,pu(this,a.j),this.o=a.o,this.g=a.g,mu(this,a.s),this.l=a.l;var h=a.i,p=new ma;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),jg(this,p),this.m=a.m}else a&&(h=String(a).match(Fg))?(this.h=!1,pu(this,h[1]||"",!0),this.o=fa(h[2]||""),this.g=fa(h[3]||"",!0),mu(this,h[4]),this.l=fa(h[5]||"",!0),jg(this,h[6]||"",!0),this.m=fa(h[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}Ji.prototype.toString=function(){var a=[],h=this.j;h&&a.push(pa(h,Ug,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(pa(h,Ug,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(pa(p,p.charAt(0)=="/"?ZI:JI,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",pa(p,t1)),a.join("")};function Tr(a){return new Ji(a)}function pu(a,h,p){a.j=p?fa(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function mu(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function jg(a,h,p){h instanceof ma?(a.i=h,n1(a.i,a.h)):(p||(h=pa(h,e1)),a.i=new ma(h,a.h))}function Ue(a,h,p){a.i.set(h,p)}function gu(a){return Ue(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function fa(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function pa(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,XI),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function XI(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ug=/[#\/\?@]/g,JI=/[#\?:]/g,ZI=/[#\?]/g,e1=/[#\?@]/g,t1=/#/g;function ma(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Xr(a){a.g||(a.g=new Map,a.h=0,a.i&&YI(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=ma.prototype,t.add=function(a,h){Xr(this),this.i=null,a=Ws(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function Bg(a,h){Xr(a),h=Ws(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function $g(a,h){return Xr(a),h=Ws(a,h),a.g.has(h)}t.forEach=function(a,h){Xr(this),this.g.forEach(function(p,v){p.forEach(function(M){a.call(h,M,v,this)},this)},this)},t.na=function(){Xr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){const M=a[v];for(let j=0;j<M.length;j++)p.push(h[v])}return p},t.V=function(a){Xr(this);let h=[];if(typeof a=="string")$g(this,a)&&(h=h.concat(this.g.get(Ws(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return Xr(this),this.i=null,a=Ws(this,a),$g(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function zg(a,h,p){Bg(a,h),0<p.length&&(a.i=null,a.g.set(Ws(a,h),R(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];const j=encodeURIComponent(String(v)),q=this.V(v);for(v=0;v<q.length;v++){var M=j;q[v]!==""&&(M+="="+encodeURIComponent(String(q[v]))),a.push(M)}}return this.i=a.join("&")};function Ws(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function n1(a,h){h&&!a.j&&(Xr(a),a.i=null,a.g.forEach(function(p,v){var M=v.toLowerCase();v!=M&&(Bg(this,v),zg(this,M,p))},a)),a.j=h}function r1(a,h){const p=new L;if(l.Image){const v=new Image;v.onload=_(Jr,p,"TestLoadImage: loaded",!0,h,v),v.onerror=_(Jr,p,"TestLoadImage: error",!1,h,v),v.onabort=_(Jr,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=_(Jr,p,"TestLoadImage: timeout",!1,h,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else h(!1)}function i1(a,h){const p=new L,v=new AbortController,M=setTimeout(()=>{v.abort(),Jr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:v.signal}).then(j=>{clearTimeout(M),j.ok?Jr(p,"TestPingServer: ok",!0,h):Jr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Jr(p,"TestPingServer: error",!1,h)})}function Jr(a,h,p,v,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),v(p)}catch{}}function s1(){this.g=new lh}function o1(a,h,p){const v=p||"";try{Vg(a,function(M,j){let q=M;c(M)&&(q=Bs(M)),h.push(v+j+"="+encodeURIComponent(q))})}catch(M){throw h.push(v+"type="+encodeURIComponent("_badmap")),M}}function ga(a){this.l=a.Ub||null,this.j=a.eb||!1}C(ga,$s),ga.prototype.g=function(){return new yu(this.l,this.j)},ga.prototype.i=function(a){return function(){return a}}({});function yu(a,h){ht.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(yu,ht),t=yu.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,va(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?ya(this):va(this),this.readyState==3&&Hg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ya(this))},t.Qa=function(a){this.g&&(this.response=a,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(a){a.readyState=4,a.l=null,a.j=null,a.v=null,va(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function va(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Wg(a){let h="";return k(a,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function uh(a,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=Wg(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Ue(a,h,p))}function et(a){ht.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(et,ht);var a1=/^https?$/i,l1=["POST","PUT"];t=et.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():J.g(),this.v=this.o?Qi(this.o):Qi(J),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(j){qg(this,j);return}if(a=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var M in v)p.set(M,v[M]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const j of v.keys())p.set(j,v.get(j));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),M=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(l1,h,void 0))||v||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,q]of p)this.g.setRequestHeader(j,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qg(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){qg(this,j)}};function qg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Kg(a),vu(a)}function Kg(a){a.A||(a.A=!0,ft(a,"complete"),ft(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ft(this,"complete"),ft(this,"abort"),vu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vu(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gg(this):this.bb())},t.bb=function(){Gg(this)};function Gg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Sr(a)!=4||a.Z()!=2)){if(a.u&&Sr(a)==4)Sn(a.Ea,0,a);else if(ft(a,"readystatechange"),Sr(a)==4){a.h=!1;try{const q=a.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=q===0){var M=String(a.D).match(Fg)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),v=!a1.test(M?M.toLowerCase():"")}p=v}if(p)ft(a,"complete"),ft(a,"success");else{a.m=6;try{var j=2<Sr(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",Kg(a)}}finally{vu(a)}}}}function vu(a,h){if(a.g){Qg(a);const p=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||ft(a,"ready");try{p.onreadystatechange=v}catch{}}}function Qg(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Sr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),du(h)}};function Yg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function u1(a){const h={};a=(a.g&&2<=Sr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(y(a[v]))continue;var p=x(a[v]);const M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=h[M]||[];h[M]=j,j.push(p)}S(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function Xg(a){this.Aa=0,this.i=[],this.j=new L,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,a),this.cb=_a("retryDelaySeedMs",1e4,a),this.Wa=_a("forwardChannelMaxRetries",2,a),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ce(a&&a.concurrentRequestLimit),this.Da=new s1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xg.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,v){It(0),this.W=a,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=oy(this,null,this.W),wu(this)};function ch(a){if(Jg(a),a.G==3){var h=a.U++,p=Tr(a.I);if(Ue(p,"SID",a.K),Ue(p,"RID",h),Ue(p,"TYPE","terminate"),wa(a,p),h=new pe(a,a.j,h),h.L=2,h.v=gu(Tr(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=ay(h.j,null),h.g.ea(h.v)),h.F=Date.now(),bn(h)}sy(a)}function _u(a){a.g&&(hh(a),a.g.cancel(),a.g=null)}function Jg(a){_u(a),a.u&&(l.clearTimeout(a.u),a.u=null),Eu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function wu(a){if(!je(a.h)&&!a.s){a.s=!0;var h=a.Ga;xe||ie(),G||(xe(),G=!0),ne.add(h,a),a.B=0}}function c1(a,h){return Mt(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=N(m(a.Ga,a,h),iy(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const M=new pe(this,this.j,a);let j=this.o;if(this.S&&(j?(j=g(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=ey(this,M,h),p=Tr(this.I),Ue(p,"RID",a),Ue(p,"CVER",22),this.D&&Ue(p,"X-HTTP-Session-Id",this.D),wa(this,p),j&&(this.O?h="headers="+encodeURIComponent(String(Wg(j)))+"&"+h:this.m&&uh(p,this.m,j)),cn(this.h,M),this.Ua&&Ue(p,"TYPE","init"),this.P?(Ue(p,"$req",h),Ue(p,"SID","null"),M.T=!0,rt(M,p,null)):rt(M,p,h),this.G=2}}else this.G==3&&(a?Zg(this,a):this.i.length==0||je(this.h)||Zg(this))};function Zg(a,h){var p;h?p=h.l:p=a.U++;const v=Tr(a.I);Ue(v,"SID",a.K),Ue(v,"RID",p),Ue(v,"AID",a.T),wa(a,v),a.m&&a.o&&uh(v,a.m,a.o),p=new pe(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=ey(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),cn(a.h,p),rt(p,v,h)}function wa(a,h){a.H&&k(a.H,function(p,v){Ue(h,v,p)}),a.l&&Vg({},function(p,v){Ue(h,v,p)})}function ey(a,h,p){p=Math.min(a.i.length,p);var v=a.l?m(a.l.Na,a.l,a):null;e:{var M=a.i;let j=-1;for(;;){const q=["count="+p];j==-1?0<p?(j=M[0].g,q.push("ofs="+j)):j=0:q.push("ofs="+j);let Me=!0;for(let Ct=0;Ct<p;Ct++){let Re=M[Ct].g;const Vt=M[Ct].map;if(Re-=j,0>Re)j=Math.max(0,M[Ct].g-100),Me=!1;else try{o1(Vt,q,"req"+Re+"_")}catch{v&&v(Vt)}}if(Me){v=q.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,v}function ty(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;xe||ie(),G||(xe(),G=!0),ne.add(h,a),a.v=0}}function dh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=N(m(a.Fa,a),iy(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ny(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=N(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),_u(this),ny(this))};function hh(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function ny(a){a.g=new pe(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Tr(a.qa);Ue(h,"RID","rpc"),Ue(h,"SID",a.K),Ue(h,"AID",a.T),Ue(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ue(h,"TO",a.ja),Ue(h,"TYPE","xmlhttp"),wa(a,h),a.m&&a.o&&uh(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=gu(Tr(h)),p.m=null,p.P=!0,Qe(p,a)}t.Za=function(){this.C!=null&&(this.C=null,_u(this),dh(this),It(19))};function Eu(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function ry(a,h){var p=null;if(a.g==h){Eu(a),hh(a),a.g=null;var v=2}else if(be(a.h,h))p=h.D,ha(a.h,h),v=1;else return;if(a.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var M=a.B;v=zs(),ft(v,new hu(v,p)),wu(a)}else ty(a);else if(M=h.s,M==3||M==0&&0<h.X||!(v==1&&c1(a,h)||v==2&&dh(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),M){case 1:Zi(a,5);break;case 4:Zi(a,10);break;case 3:Zi(a,6);break;default:Zi(a,2)}}}function iy(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function Zi(a,h){if(a.j.info("Error code "+h),h==2){var p=m(a.fb,a),v=a.Xa;const M=!v;v=new Ji(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||pu(v,"https"),gu(v),M?r1(v.toString(),p):i1(v.toString(),p)}else It(2);a.G=0,a.l&&a.l.sa(h),sy(a),Jg(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function sy(a){if(a.G=0,a.ka=[],a.l){const h=fu(a.h);(h.length!=0||a.i.length!=0)&&(D(a.ka,h),D(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function oy(a,h,p){var v=p instanceof Ji?Tr(p):new Ji(p);if(v.g!="")h&&(v.g=h+"."+v.g),mu(v,v.s);else{var M=l.location;v=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var j=new Ji(null);v&&pu(j,v),h&&(j.g=h),M&&mu(j,M),p&&(j.l=p),v=j}return p=a.D,h=a.ya,p&&h&&Ue(v,p,h),Ue(v,"VER",a.la),wa(a,v),v}function ay(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new et(new ga({eb:p})):new et(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ly(){}t=ly.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tu(){}Tu.prototype.g=function(a,h){return new dn(a,h)};function dn(a,h){ht.call(this),this.g=new Xg(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new qs(this)}C(dn,ht),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){ch(this.g)},dn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Bs(a),a=p);h.i.push(new Hs(h.Ya++,a)),h.G==3&&wu(h)},dn.prototype.N=function(){this.g.l=null,delete this.j,ch(this.g),delete this.g,dn.aa.N.call(this)};function uy(a){Gr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}C(uy,Gr);function cy(){Yi.call(this),this.status=1}C(cy,Yi);function qs(a){this.g=a}C(qs,ly),qs.prototype.ua=function(){ft(this.g,"a")},qs.prototype.ta=function(a){ft(this.g,new uy(a))},qs.prototype.sa=function(a){ft(this.g,new cy)},qs.prototype.ra=function(){ft(this.g,"b")},Tu.prototype.createWebChannel=Tu.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,pT=function(){return new Tu},fT=function(){return zs()},hT=wr,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},W.NO_ERROR=0,W.TIMEOUT=8,W.HTTP_ERROR=6,uc=W,ae.COMPLETE="complete",dT=ae,ua.EventType=_r,_r.OPEN="a",_r.CLOSE="b",_r.ERROR="c",_r.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Wa=ua,cT=ga,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,uT=et}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Bm("@firebase/firestore");function Da(){return Is.logLevel}function Y(t,...e){if(Is.logLevel<=we.DEBUG){const n=e.map(Hm);Is.debug(`Firestore (${Yo}): ${t}`,...n)}}function Ur(t,...e){if(Is.logLevel<=we.ERROR){const n=e.map(Hm);Is.error(`Firestore (${Yo}): ${t}`,...n)}}function Mo(t,...e){if(Is.logLevel<=we.WARN){const n=e.map(Hm);Is.warn(`Firestore (${Yo}): ${t}`,...n)}}function Hm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+t;throw Ur(e),new Error(e)}function Ve(t,e){t||oe()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class ux{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cx{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new mT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new $t(e)}}class dx{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hx{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class px{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new fx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=mx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function Vo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new vt(0,0))}static max(){return new le(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends kl{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const gx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends kl{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return gx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ee(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ee(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ee(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ge.fromString(e))}static fromName(e){return new te(Ge.fromString(e).popFirst(5))}static empty(){return new te(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ge(e.slice()))}}function yx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new bi(i,te.empty(),e)}function vx(t){return new bi(t.readTime,t.key,-1)}class bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bi(le.min(),te.empty(),-1)}static max(){return new bi(le.max(),te.empty(),-1)}}function _x(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==wx)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Tx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wm.oe=-1;function Ld(t){return t==null}function Qc(t){return t===0&&1/t==-1/0}function Sx(t){return typeof t=="number"&&Number.isInteger(t)&&!Qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Os(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new Nt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vT("Invalid base64 string: "+s):s}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const Ix=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=Ix.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cs(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Km(t){const e=t.mapValue.fields.__previous_value__;return qm(e)?Km(e):e}function xl(t){const e=Oi(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qm(t)?4:Px(t)?9007199254740991:10:oe()}function pr(t,e){if(t===e)return!0;const n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xl(t).isEqual(xl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Oi(i.timestampValue),l=Oi(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Cs(i.bytesValue).isEqual(Cs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),l=at(s.doubleValue);return o===l?Qc(o)===Qc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Zv(o)!==Zv(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!pr(o[u],l[u])))return!1;return!0}(t,e);default:return oe()}}function Dl(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=Ps(t),r=Ps(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=at(s.integerValue||s.doubleValue),u=at(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return t_(t.timestampValue,e.timestampValue);case 4:return t_(xl(t),xl(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Cs(s),u=Cs(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=ke(l[c],u[c]);if(d!==0)return d}return ke(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ke(at(s.latitude),at(o.latitude));return l!==0?l:ke(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let c=0;c<l.length&&c<u.length;++c){const d=Fo(l[c],u[c]);if(d)return d}return ke(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Hu.mapValue&&o===Hu.mapValue)return 0;if(s===Hu.mapValue)return 1;if(o===Hu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=ke(u[f],d[f]);if(m!==0)return m;const _=Fo(l[u[f]],c[d[f]]);if(_!==0)return _}return ke(u.length,d.length)}(t.mapValue,e.mapValue);default:throw oe()}}function t_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Oi(t),r=Oi(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function jo(t){return hp(t)}function hp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=hp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${hp(n.fields[o])}`;return i+"}"}(t.mapValue):oe()}function fp(t){return!!t&&"integerValue"in t}function Gm(t){return!!t&&"arrayValue"in t}function n_(t){return!!t&&"nullValue"in t}function r_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cc(t){return!!t&&"mapValue"in t}function il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Os(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Px(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=il(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Os(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn(il(this.value))}}function _T(t){const e=[];return Os(t.fields,(n,r)=>{const i=new kt([n]);if(cc(r)){const s=_T(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ht(e,0,le.min(),le.min(),le.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ht(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Ht(e,2,n,le.min(),le.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,le.min(),le.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this.position=e,this.inclusive=n}}function i_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function s_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{}class gt extends wT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kx(e,n,r):n==="array-contains"?new Dx(e,r):n==="in"?new bx(e,r):n==="not-in"?new Ox(e,r):n==="array-contains-any"?new Lx(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xx(e,r):new Nx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fo(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends wT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mr(e,n)}matches(e){return ET(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ET(t){return t.op==="and"}function TT(t){return Ax(t)&&ET(t)}function Ax(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function pp(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(TT(t))return t.filters.map(e=>pp(e)).join(",");{const e=t.filters.map(n=>pp(n)).join(",");return`${t.op}(${e})`}}function ST(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)}(t,e):t instanceof mr?function(r,i){return i instanceof mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&ST(o,i.filters[l]),!0):!1}(t,e):void oe()}function IT(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(IT).join(" ,")+"}"}(t):"Filter"}class kx extends gt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class xx extends gt{constructor(e,n){super(e,"in",n),this.keys=CT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Nx extends gt{constructor(e,n){super(e,"not-in",n),this.keys=CT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class Dx extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gm(n)&&Dl(n.arrayValue,this.value)}}class bx extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class Ox extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dl(this.value.arrayValue,n)}}class Lx extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function o_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Mx(t,e,n,r,i,s,o)}function Qm(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jo(r)).join(",")),e.ue=n}return e.ue}function Ym(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ST(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s_(t.startAt,e.startAt)&&s_(t.endAt,e.endAt)}function mp(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Vx(t,e,n,r,i,s,o,l){return new Md(t,e,n,r,i,s,o,l)}function Xm(t){return new Md(t)}function a_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fx(t){return t.collectionGroup!==null}function sl(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Nt(kt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xc(s,r))}),n.has(kt.keyField().canonicalString())||e.ce.push(new Xc(kt.keyField(),r))}return e.ce}function cr(t){const e=ue(t);return e.le||(e.le=jx(e,sl(t))),e.le}function jx(t,e){if(t.limitType==="F")return o_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xc(i.field,s)});const n=t.endAt?new Yc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yc(t.startAt.position,t.startAt.inclusive):null;return o_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gp(t,e,n){return new Md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vd(t,e){return Ym(cr(t),cr(e))&&t.limitType===e.limitType}function PT(t){return`${Qm(cr(t))}|lt:${t.limitType}`}function Js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IT(i)).join(", ")}]`),Ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jo(i)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Fd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of sl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=i_(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,sl(r),i)||r.endAt&&!function(o,l,u){const c=i_(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,sl(r),i))}(t,e)}function Ux(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RT(t){return(e,n)=>{let r=!1;for(const i of sl(t)){const s=Bx(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Bx(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Fo(u,c):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new Ze(te.comparator);function Br(){return $x}const AT=new Ze(te.comparator);function qa(...t){let e=AT;for(const n of t)e=e.insert(n.key,n);return e}function kT(t){let e=AT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ds(){return ol()}function xT(){return ol()}function ol(){return new Xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const zx=new Ze(te.comparator),Hx=new Nt(te.comparator);function _e(...t){let e=Hx;for(const n of t)e=e.add(n);return e}const Wx=new Nt(ke);function qx(){return Wx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function DT(t){return{integerValue:""+t}}function Kx(t,e){return Sx(e)?DT(e):NT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this._=void 0}}function Gx(t,e,n){return t instanceof Jc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&qm(s)&&(s=Km(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof bl?OT(t,e):t instanceof Ol?LT(t,e):function(i,s){const o=bT(i,s),l=l_(o)+l_(i.Pe);return fp(o)&&fp(i.Pe)?DT(l):NT(i.serializer,l)}(t,e)}function Qx(t,e,n){return t instanceof bl?OT(t,e):t instanceof Ol?LT(t,e):n}function bT(t,e){return t instanceof Zc?function(r){return fp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Jc extends jd{}class bl extends jd{constructor(e){super(),this.elements=e}}function OT(t,e){const n=MT(e);for(const r of t.elements)n.some(i=>pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ol extends jd{constructor(e){super(),this.elements=e}}function LT(t,e){let n=MT(e);for(const r of t.elements)n=n.filter(i=>!pr(i,r));return{arrayValue:{values:n}}}class Zc extends jd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function l_(t){return at(t.integerValue||t.doubleValue)}function MT(t){return Gm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Yx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bl&&i instanceof bl||r instanceof Ol&&i instanceof Ol?Vo(r.elements,i.elements,pr):r instanceof Zc&&i instanceof Zc?pr(r.Pe,i.Pe):r instanceof Jc&&i instanceof Jc}(t.transform,e.transform)}class Xx{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ud{}function VT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jT(t.key,Hn.none()):new Jl(t.key,t.data,Hn.none());{const n=t.data,r=tn.empty();let i=new Nt(kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Wi(t.key,r,new mn(i.toArray()),Hn.none())}}function Jx(t,e,n){t instanceof Jl?function(i,s,o){const l=i.value.clone(),u=c_(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(i,s,o){if(!dc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=c_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(FT(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,r){return t instanceof Jl?function(s,o,l,u){if(!dc(s.precondition,o))return l;const c=s.value.clone(),d=d_(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wi?function(s,o,l,u){if(!dc(s.precondition,o))return l;const c=d_(s.fieldTransforms,u,o),d=o.data;return d.setAll(FT(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,l){return dc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Zx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=bT(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function u_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vo(r,i,(s,o)=>Yx(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends Ud{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wi extends Ud{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function FT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function c_(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Qx(o,l,n[i]))}return r}function d_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Gx(s,o,e))}return r}class jT extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eN extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Jx(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=VT(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,r)=>u_(n,r))&&Vo(this.baseMutations,e.baseMutations,(n,r)=>u_(n,r))}}class Jm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return zx}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Jm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Se;function iN(t){switch(t){default:return oe();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function UT(t){if(t===void 0)return Ur("GRPC error has no .code"),z.UNKNOWN;switch(t){case st.OK:return z.OK;case st.CANCELLED:return z.CANCELLED;case st.UNKNOWN:return z.UNKNOWN;case st.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case st.INTERNAL:return z.INTERNAL;case st.UNAVAILABLE:return z.UNAVAILABLE;case st.UNAUTHENTICATED:return z.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case st.NOT_FOUND:return z.NOT_FOUND;case st.ALREADY_EXISTS:return z.ALREADY_EXISTS;case st.PERMISSION_DENIED:return z.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case st.ABORTED:return z.ABORTED;case st.OUT_OF_RANGE:return z.OUT_OF_RANGE;case st.UNIMPLEMENTED:return z.UNIMPLEMENTED;case st.DATA_LOSS:return z.DATA_LOSS;default:return oe()}}(Se=st||(st={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new ps([4294967295,4294967295],0);function h_(t){const e=sN().encode(t),n=new lT;return n.update(e),new Uint8Array(n.digest())}function f_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ps([n,r],0),new ps([i,s],0)]}class Zm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ka(`Invalid padding: ${n}`);if(r<0)throw new Ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ps.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ps.fromNumber(r)));return i.compare(oN)===1&&(i=new ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=h_(e),[r,i]=f_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Zm(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=h_(e),[r,i]=f_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bd(le.min(),i,new Ze(ke),Br(),_e())}}class Zl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zl(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class BT{constructor(e,n){this.targetId=e,this.me=n}}class $T{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class p_{constructor(){this.fe=0,this.ge=g_(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new Zl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=g_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=m_(),this.Qe=new Ze(ke)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(mp(s))if(r===0){const o=new te(s.path);this.Ue(n,o,Ht.newNoDocument(o,le.min()))}else Ve(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Cs(r).toUint8Array()}catch(u){if(u instanceof vT)return Mo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Zm(o,i,s)}catch(u){return Mo(u instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&mp(l.target)){const u=new te(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Ht.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=_e();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Bd(e,n,this.Qe,this.ke,r);return this.ke=Br(),this.qe=m_(),this.Qe=new Ze(ke),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new p_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nt(ke),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new p_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function m_(){return new Ze(te.comparator)}function g_(){return new Ze(te.comparator)}const lN={asc:"ASCENDING",desc:"DESCENDING"},uN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cN={and:"AND",or:"OR"};class dN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yp(t,e){return t.useProto3Json||Ld(e)?e:{value:e}}function ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hN(t,e){return ed(t,e.toTimestamp())}function dr(t){return Ve(!!t),le.fromTimestamp(function(n){const r=Oi(n);return new vt(r.seconds,r.nanos)}(t))}function eg(t,e){return vp(t,e).canonicalString()}function vp(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HT(t){const e=Ge.fromString(t);return Ve(QT(e)),e}function _p(t,e){return eg(t.databaseId,e.path)}function Xh(t,e){const n=HT(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(qT(n))}function WT(t,e){return eg(t.databaseId,e)}function fN(t){const e=HT(t);return e.length===4?Ge.emptyPath():qT(e)}function wp(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qT(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function y_(t,e,n){return{name:_p(t,e),fields:n.value.mapValue.fields}}function pN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ve(d===void 0||typeof d=="string"),Ot.fromBase64String(d||"")):(Ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?z.UNKNOWN:UT(c.code);return new ee(d,c.message||"")}(o);n=new $T(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xh(t,r.document.name),s=dr(r.document.updateTime),o=r.document.createTime?dr(r.document.createTime):le.min(),l=new tn({mapValue:{fields:r.document.fields}}),u=Ht.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new hc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xh(t,r.document),s=r.readTime?dr(r.readTime):le.min(),o=Ht.newNoDocument(i,s),l=r.removedTargetIds||[];n=new hc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xh(t,r.document),s=r.removedTargetIds||[];n=new hc([],s,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new rN(i,s),l=r.targetId;n=new BT(l,o)}}return n}function mN(t,e){let n;if(e instanceof Jl)n={update:y_(t,e.key,e.value)};else if(e instanceof jT)n={delete:_p(t,e.key)};else if(e instanceof Wi)n={update:y_(t,e.key,e.data),updateMask:IN(e.fieldMask)};else{if(!(e instanceof eN))return oe();n={verify:_p(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Jc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof bl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ol)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Zc)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:hN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function gN(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?dr(i.updateTime):dr(s);return o.isEqual(le.min())&&(o=dr(s)),new Xx(o,i.transformResults||[])}(n,e))):[]}function yN(t,e){return{documents:[WT(t,e.path)]}}function vN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WT(t,i);const s=function(c){if(c.length!==0)return GT(mr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Zs(m.field),direction:EN(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=yp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function _N(t){let e=fN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=KT(f);return m instanceof mr&&TT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(C){return new Xc(eo(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Ld(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,_=f.values||[];return new Yc(_,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,_=f.values||[];return new Yc(_,m)}(n.endAt)),Vx(e,i,o,s,l,"F",u,c)}function wN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=eo(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=eo(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=eo(n.unaryFilter.field);return gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=eo(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(eo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(r=>KT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function EN(t){return lN[t]}function TN(t){return uN[t]}function SN(t){return cN[t]}function Zs(t){return{fieldPath:t.canonicalString()}}function eo(t){return kt.fromServerFormat(t.fieldPath)}function GT(t){return t instanceof gt?function(n){if(n.op==="=="){if(r_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NAN"}};if(n_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NAN"}};if(n_(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(n.field),op:TN(n.op),value:n.value}}}(t):t instanceof mr?function(n){const r=n.getFilters().map(i=>GT(i));return r.length===1?r[0]:{compositeFilter:{op:SN(n.op),filters:r}}}(t):oe()}function IN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,i,s=le.min(),o=le.min(),l=Ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.ct=e}}function PN(t){const e=_N({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.an=new AN}addToCollectionParentIndex(e,n){return this.an.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(bi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class AN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(Ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new Uo(0)}static Bn(){return new Uo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.changes=new Xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&al(r.mutation,i,mn.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qa();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Br();const o=ol(),l=function(){return ol()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Wi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),al(d.mutation,c,d.mutation.getFieldMask(),vt.now())):o.set(c.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return l.set(c,new xN(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ol();let i=new Ze((o,l)=>o-l),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||mn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const f=(i.get(l.batchId)||_e()).add(u);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,f=xT();d.forEach(m=>{if(!s.has(m)){const _=VT(n.get(m),r.get(m));_!==null&&f.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(ds());let l=-1,u=s;return o.next(c=>$.forEach(c,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,_e())).next(d=>({batchId:l,changes:kT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=qa();return this.indexManager.getCollectionParents(e,s).next(l=>$.forEach(l,u=>{const c=function(f,m){return new Md(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ht.newInvalidDocument(d)))});let l=qa();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&al(d.mutation,c,mn.empty(),vt.now()),Fd(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return $.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:dr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:PN(i.bundledQuery),readTime:dr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.overlays=new Ze(te.comparator),this.Pr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=ds(),s=n.length+1,o=new te(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ze((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=ds(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=ds(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return $.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nN(n,r));let s=this.Pr.get(n);s===void 0&&(s=_e(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Ir=new Nt(_t.Tr),this.Er=new Nt(_t.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new _t(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new te(new Ge([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.Er.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new te(new Ge([])),r=new _t(n,e),i=new _t(n,e+1);let s=_e();return this.Er.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return te.comparator(e.key,n.key)||ke(e.yr,n.yr)}static dr(e,n){return ke(e.yr,n.yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Nt(_t.Tr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tN(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Sr=this.Sr.add(new _t(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const l=this.br(o.yr);s.push(l)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(ke);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],l=>{r=r.add(l.yr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new _t(new te(s),0);let l=new Nt(ke);return this.Sr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.yr)),!0)},o),$.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return $.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new _t(n,0),i=this.Sr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.Fr=e,this.docs=function(){return new Ze(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Br();const o=n.path,l=new te(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_x(vx(d),r)<=0||(i.has(d.key)||Fd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}Mr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VN(this)}getSize(e){return $.resolve(this.size)}}class VN extends kN{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.persistence=e,this.Or=new Xo(n=>Qm(n),Ym),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new tg,this.targetCount=0,this.Br=Uo.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),$.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Qn(n),$.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.kr={},this.overlays={},this.qr=new Wm(0),this.Qr=!1,this.Qr=!0,this.Kr=new ON,this.referenceDelegate=e(this),this.$r=new FN(this),this.indexManager=new RN,this.remoteDocumentCache=function(i){return new MN(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new CN(n),this.Wr=new DN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new LN(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new UN(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(s=>this.referenceDelegate.zr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}jr(e,n){return $.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class UN extends Ex{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Hr=new tg,this.Jr=null}static Yr(e){return new ng(e)}get Zr(){if(this.Jr)return this.Jr;throw oe()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Zr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Zr,r=>{const i=te.fromPath(r);return this.Xr(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return $.or([()=>$.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new rg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return qA()?8:Tx(bt())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new BN;return this.Zi(e,n,o).next(l=>{if(s.result=l,this.Gi)return this.Xi(e,n,o,l.size)})}).next(()=>s.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(Da()<=we.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),$.resolve()):(Da()<=we.DEBUG&&Y("QueryEngine","Query:",Js(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(Da()<=we.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):$.resolve())}Ji(e,n){if(a_(n))return $.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gp(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Hi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.es(n,l);return this.ts(n,c,o,u.readTime)?this.Ji(e,gp(n,null,"F")):this.ns(e,c,n,u)}))})))}Yi(e,n,r,i){return a_(n)||i.isEqual(le.min())?$.resolve(null):this.Hi.getDocuments(e,r).next(s=>{const o=this.es(n,s);return this.ts(n,o,r,i)?$.resolve(null):(Da()<=we.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Js(n)),this.ns(e,o,n,yx(i,-1)).next(l=>l))})}es(e,n){let r=new Nt(RT(e));return n.forEach((i,s)=>{Fd(e,s)&&(r=r.add(s))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zi(e,n,r){return Da()<=we.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Js(n)),this.Hi.getDocumentsMatchingQuery(e,n,bi.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new Ze(ke),this.os=new Xo(s=>Qm(s),Ym),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NN(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function HN(t,e,n,r){return new zN(t,e,n,r)}async function YT(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=_e();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ls:c,removedBatchIds:o,addedBatchIds:l}))})})}function WN(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.us.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const f=c.batch,m=f.keys();let _=$.resolve();return m.forEach(C=>{_=_.next(()=>d.getEntry(u,C)).next(R=>{const D=c.docVersions.get(C);Ve(D!==null),R.version.compareTo(D)<0&&(f.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),d.addEntry(R)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=_e();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XT(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function qN(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const l=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;l.push(n.$r.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.$r.addMatchingKeys(s,d.addedDocuments,f)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(Ot.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(f,_),function(R,D,I){return R.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,_,d)&&l.push(n.$r.updateTargetData(s,_))});let u=Br(),c=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(KN(s,o,e.documentUpdates).next(d=>{u=d.hs,c=d.Ps})),!r.isEqual(le.min())){const d=n.$r.getLastRemoteSnapshotVersion(s).next(f=>n.$r.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return $.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ss=i,s))}function KN(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Br();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Y("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{hs:o,Ps:i}})}function GN(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QN(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.$r.allocateTargetId(r).next(o=>(i=new fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}async function Ep(t,e,n){const r=ue(t),i=r.ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Xl(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function v_(t,e,n){const r=ue(t);let i=le.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=ue(u),m=f.os.get(d);return m!==void 0?$.resolve(f.ss.get(m)):f.$r.getTargetData(c,d)}(r,o,cr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.rs.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:_e())).next(l=>(YN(r,Ux(e),l),{documents:l,Is:s})))}function YN(t,e,n){let r=t._s.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t._s.set(e,r)}class __{constructor(){this.activeTargetIds=qx()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XN{constructor(){this.io=new __,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new __,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function Jh(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class tD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get vo(){return!1}Fo(n,r,i,s,o){const l=Jh(),u=this.Mo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,s,o),this.Oo(n,u,c,i).then(d=>(Y("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Mo("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}No(n,r,i,s,o,l){return this.Fo(n,r,i,s,o)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Mo(n,r){const i=ZN[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const s=Jh();return new Promise((o,l)=>{const u=new uT;u.setWithCredentials(!0),u.listenOnce(dT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case uc.NO_ERROR:const d=u.getResponseJson();Y(Bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case uc.TIMEOUT:Y(Bt,`RPC '${e}' ${s} timed out`),l(new ee(z.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const f=u.getStatus();if(Y(Bt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const C=function(D){const I=D.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(I)>=0?I:z.UNKNOWN}(_.status);l(new ee(C,_.message))}else l(new ee(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ee(z.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Y(Bt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Y(Bt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Lo(e,n,r){const i=Jh(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pT(),l=fT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new cT({})),this.xo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");Y(Bt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=o.createWebChannel(d,u);let m=!1,_=!1;const C=new eD({Po:D=>{_?Y(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(m||(Y(Bt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),Y(Bt,`RPC '${e}' stream ${i} sending:`,D),f.send(D))},Io:()=>f.close()}),R=(D,I,y)=>{D.listen(I,w=>{try{y(w)}catch(b){setTimeout(()=>{throw b},0)}})};return R(f,Wa.EventType.OPEN,()=>{_||(Y(Bt,`RPC '${e}' stream ${i} transport opened.`),C.po())}),R(f,Wa.EventType.CLOSE,()=>{_||(_=!0,Y(Bt,`RPC '${e}' stream ${i} transport closed`),C.wo())}),R(f,Wa.EventType.ERROR,D=>{_||(_=!0,Mo(Bt,`RPC '${e}' stream ${i} transport errored:`,D),C.wo(new ee(z.UNAVAILABLE,"The operation could not be completed")))}),R(f,Wa.EventType.MESSAGE,D=>{var I;if(!_){const y=D.data[0];Ve(!!y);const w=y,b=w.error||((I=w[0])===null||I===void 0?void 0:I.error);if(b){Y(Bt,`RPC '${e}' stream ${i} received error:`,b);const U=b.status;let k=function(E){const P=st[E];if(P!==void 0)return UT(P)}(U),S=b.message;k===void 0&&(k=z.INTERNAL,S="Unknown error status: "+U+" with message "+b.message),_=!0,C.wo(new ee(k,S)),f.close()}else Y(Bt,`RPC '${e}' stream ${i} received:`,y),C.So(y)}}),R(l,hT.STAT_EVENT,D=>{D.stat===dp.PROXY?Y(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===dp.NOPROXY&&Y(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.yo()},0),C}}function Zh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){return new dN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,i,s,o,l,u){this.ai=e,this.jo=r,this.Ho=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new JT(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new ee(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nD extends ZT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=pN(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?dr(o.readTime):le.min()}(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=wp(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=mp(u)?{documents:yN(s,u)}:{query:vN(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=zT(s,o.resumeToken);const c=yp(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(le.min())>0){l.readTime=ed(s,o.snapshotVersion.toTimestamp());const c=yp(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=wN(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=wp(this.serializer),n.removeTarget=e,this.__(n)}}class rD extends ZT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=gN(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=wp(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mN(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,vp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(z.UNKNOWN,s.toString())})}No(e,n,r,i,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.No(e,vp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(z.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class sD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(Ur(n),this.b_=!1):Y("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{r.enqueueAndForget(async()=>{Ls(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ue(u);c.N_.add(4),await eu(c),c.k_.set("Unknown"),c.N_.delete(4),await zd(c)}(this))})}),this.k_=new sD(r,i)}}async function zd(t){if(Ls(t))for(const e of t.L_)await e(!0)}async function eu(t){for(const e of t.L_)await e(!1)}function eS(t,e){const n=ue(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),ag(n)?og(n):Jo(n).n_()&&sg(n,e))}function ig(t,e){const n=ue(t),r=Jo(n);n.O_.delete(e),r.n_()&&tS(n,e),n.O_.size===0&&(r.n_()?r.s_():Ls(n)&&n.k_.set("Unknown"))}function sg(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(t).d_(e)}function tS(t,e){t.q_.xe(e),Jo(t).A_(e)}function og(t){t.q_=new aN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Jo(t).start(),t.k_.D_()}function ag(t){return Ls(t)&&!Jo(t).t_()&&t.O_.size>0}function Ls(t){return ue(t).N_.size===0}function nS(t){t.q_=void 0}async function aD(t){t.k_.set("Online")}async function lD(t){t.O_.forEach((e,n)=>{sg(t,e)})}async function uD(t,e){nS(t),ag(t)?(t.k_.F_(e),og(t)):t.k_.set("Unknown")}async function cD(t,e,n){if(t.k_.set("Online"),e instanceof $T&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.O_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.O_.delete(l),i.q_.removeTarget(l))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await td(t,r)}else if(e instanceof hc?t.q_.Ke(e):e instanceof BT?t.q_.He(e):t.q_.We(e),!n.isEqual(le.min()))try{const r=await XT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.q_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.O_.get(c);d&&s.O_.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=s.O_.get(u);if(!d)return;s.O_.set(u,d.withResumeToken(Ot.EMPTY_BYTE_STRING,d.snapshotVersion)),tS(s,u);const f=new fi(d.target,u,c,d.sequenceNumber);sg(s,f)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await td(t,r)}}async function td(t,e,n){if(!Xl(e))throw e;t.N_.add(1),await eu(t),t.k_.set("Offline"),n||(n=()=>XT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await zd(t)})}function rS(t,e){return e().catch(n=>td(t,n,e))}async function Hd(t){const e=ue(t),n=Li(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;dD(e);)try{const i=await GN(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,hD(e,i)}catch(i){await td(e,i)}iS(e)&&sS(e)}function dD(t){return Ls(t)&&t.x_.length<10}function hD(t,e){t.x_.push(e);const n=Li(t);n.n_()&&n.R_&&n.V_(e.mutations)}function iS(t){return Ls(t)&&!Li(t).t_()&&t.x_.length>0}function sS(t){Li(t).start()}async function fD(t){Li(t).g_()}async function pD(t){const e=Li(t);for(const n of t.x_)e.V_(n.mutations)}async function mD(t,e,n){const r=t.x_.shift(),i=Jm.from(r,e,n);await rS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hd(t)}async function gD(t,e){e&&Li(t).R_&&await async function(r,i){if(function(o){return iN(o)&&o!==z.ABORTED}(i.code)){const s=r.x_.shift();Li(r).i_(),await rS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hd(r)}}(t,e),iS(t)&&sS(t)}async function E_(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=Ls(n);n.N_.add(3),await eu(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await zd(n)}async function yD(t,e){const n=ue(t);e?(n.N_.delete(2),await zd(n)):e||(n.N_.add(2),await eu(n),n.k_.set("Unknown"))}function Jo(t){return t.Q_||(t.Q_=function(n,r,i){const s=ue(n);return s.y_(),new nD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:aD.bind(null,t),Ao:lD.bind(null,t),Vo:uD.bind(null,t),E_:cD.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),ag(t)?og(t):t.k_.set("Unknown")):(await t.Q_.stop(),nS(t))})),t.Q_}function Li(t){return t.K_||(t.K_=function(n,r,i){const s=ue(n);return s.y_(),new rD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:fD.bind(null,t),Vo:gD.bind(null,t),m_:pD.bind(null,t),f_:mD.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await Hd(t)):(await t.K_.stop(),t.x_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new lg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),Xl(t))return new ee(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=qa(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new To(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new To;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.U_=new Ze(te.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):oe():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bo{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Bo(e,n,To.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class _D{constructor(){this.queries=S_(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=ue(n),s=i.queries;i.queries=S_(),s.forEach((o,l)=>{for(const u of l.z_)u.onError(r)})})(this,new ee(z.ABORTED,"Firestore shutting down"))}}function S_(){return new Xo(t=>PT(t),Vd)}async function wD(t,e){const n=ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.j_()&&e.H_()&&(r=2):(s=new vD,r=e.H_()?0:1);try{switch(r){case 0:s.G_=await n.onListen(i,!0);break;case 1:s.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=ug(o,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.z_.push(e),e.Y_(n.onlineState),s.G_&&e.Z_(s.G_)&&cg(n)}async function ED(t,e){const n=ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?i=e.H_()?0:1:!s.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TD(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.z_)l.Z_(i)&&(r=!0);o.G_=i}}r&&cg(n)}function SD(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.z_)s.onError(n);r.queries.delete(e)}function cg(t){t.J_.forEach(e=>{e.next()})}var Tp,I_;(I_=Tp||(Tp={})).X_="default",I_.Cache="cache";class ID{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==Tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.key=e}}class aS{constructor(e){this.key=e}}class CD{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=_e(),this.mutatedKeys=_e(),this.da=RT(e),this.Aa=new To(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new T_,i=n?n.Aa:this.Aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),_=Fd(this.query,f)?f:null,C=!!m&&this.mutatedKeys.has(m.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let D=!1;m&&_?m.data.isEqual(_.data)?C!==R&&(r.track({type:3,doc:_}),D=!0):this.fa(m,_)||(r.track({type:2,doc:_}),D=!0,(u&&this.da(_,u)>0||c&&this.da(_,c)<0)&&(l=!0)):!m&&_?(r.track({type:0,doc:_}),D=!0):m&&!_&&(r.track({type:1,doc:m}),D=!0,(u||c)&&(l=!0)),D&&(_?(o=o.add(_),s=R?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Aa:o,ma:r,ts:l,mutatedKeys:s}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const o=e.ma.W_();o.sort((d,f)=>function(_,C){const R=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return R(_)-R(C)}(d.type,f.type)||this.da(d.doc,f.doc)),this.ga(r),i=i!=null&&i;const l=n&&!i?this.pa():[],u=this.Ea.size===0&&this.current&&!i?1:0,c=u!==this.Ta;return this.Ta=u,o.length!==0||c?{snapshot:new Bo(this.query,e.Aa,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:l}:{ya:l}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new T_,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=_e(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});const n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new aS(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new oS(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=_e();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return Bo.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class PD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RD{constructor(e){this.key=e,this.Da=!1}}class AD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new Xo(l=>PT(l),Vd),this.Fa=new Map,this.Ma=new Set,this.xa=new Ze(te.comparator),this.Oa=new Map,this.Na=new tg,this.La={},this.Ba=new Map,this.ka=Uo.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function kD(t,e,n=!0){const r=fS(t);let i;const s=r.va.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ba()):i=await lS(r,e,n,!0),i}async function xD(t,e){const n=fS(t);await lS(n,e,!0,!1)}async function lS(t,e,n,r){const i=await QN(t.localStore,cr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await ND(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&eS(t.remoteStore,i),l}async function ND(t,e,n,r,i){t.Qa=(f,m,_)=>async function(R,D,I,y){let w=D.view.Va(I);w.ts&&(w=await v_(R.localStore,D.query,!1).then(({documents:S})=>D.view.Va(S,w)));const b=y&&y.targetChanges.get(D.targetId),U=y&&y.targetMismatches.get(D.targetId)!=null,k=D.view.applyChanges(w,R.isPrimaryClient,b,U);return P_(R,D.targetId,k.ya),k.snapshot}(t,f,m,_);const s=await v_(t.localStore,e,!0),o=new CD(e,s.Is),l=o.Va(s.documents),u=Zl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);P_(t,n,c.ya);const d=new PD(e,n,o);return t.va.set(e,d),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),c.snapshot}async function DD(t,e,n){const r=ue(t),i=r.va.get(e),s=r.Fa.get(i.targetId);if(s.length>1)return r.Fa.set(i.targetId,s.filter(o=>!Vd(o,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ep(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ig(r.remoteStore,i.targetId),Sp(r,i.targetId)}).catch(Yl)):(Sp(r,i.targetId),await Ep(r.localStore,i.targetId,!0))}async function bD(t,e){const n=ue(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ig(n.remoteStore,r.targetId))}async function OD(t,e,n){const r=BD(t);try{const i=await function(o,l){const u=ue(o),c=vt.now(),d=l.reduce((_,C)=>_.add(C.key),_e());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=Br(),R=_e();return u.us.getEntries(_,d).next(D=>{C=D,C.forEach((I,y)=>{y.isValidDocument()||(R=R.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,C)).next(D=>{f=D;const I=[];for(const y of l){const w=Zx(y,f.get(y.key).overlayedDocument);w!=null&&I.push(new Wi(y.key,w,_T(w.value.mapValue),Hn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,I,l)}).next(D=>{m=D;const I=D.applyToLocalDocumentSet(f,R);return u.documentOverlayCache.saveOverlays(_,D.batchId,I)})}).then(()=>({batchId:m.batchId,changes:kT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.La[o.currentUser.toKey()];c||(c=new Ze(ke)),c=c.insert(l,u),o.La[o.currentUser.toKey()]=c}(r,i.batchId,n),await tu(r,i.changes),await Hd(r.remoteStore)}catch(i){const s=ug(i,"Failed to persist write");n.reject(s)}}async function uS(t,e){const n=ue(t);try{const r=await qN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oa.get(s);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Da=!0:i.modifiedDocuments.size>0?Ve(o.Da):i.removedDocuments.size>0&&(Ve(o.Da),o.Da=!1))}),await tu(n,r,e)}catch(r){await Yl(r)}}function C_(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((s,o)=>{const l=o.view.Y_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ue(o);u.onlineState=l;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.z_)m.Y_(l)&&(c=!0)}),c&&cg(u)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LD(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),s=i&&i.key;if(s){let o=new Ze(te.comparator);o=o.insert(s,Ht.newNoDocument(s,le.min()));const l=_e().add(s),u=new Bd(le.min(),new Map,new Ze(ke),o,l);await uS(r,u),r.xa=r.xa.remove(s),r.Oa.delete(e),dg(r)}else await Ep(r.localStore,e,!1).then(()=>Sp(r,e,n)).catch(Yl)}async function MD(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await WN(n.localStore,e);dS(n,r,null),cS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tu(n,i)}catch(i){await Yl(i)}}async function VD(t,e,n){const r=ue(t);try{const i=await function(o,l){const u=ue(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(Ve(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);dS(r,e,n),cS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tu(r,i)}catch(i){await Yl(i)}}function cS(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function dS(t,e,n){const r=ue(t);let i=r.La[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function Sp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||hS(t,r)})}function hS(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(ig(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),dg(t))}function P_(t,e,n){for(const r of n)r instanceof oS?(t.Na.addReference(r.key,e),FD(t,r)):r instanceof aS?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||hS(t,r.key)):oe()}function FD(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.Ma.add(r),dg(t))}function dg(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new te(Ge.fromString(e)),r=t.ka.next();t.Oa.set(r,new RD(n)),t.xa=t.xa.insert(n,r),eS(t.remoteStore,new fi(cr(Xm(n.path)),r,"TargetPurposeLimboResolution",Wm.oe))}}async function tu(t,e,n){const r=ue(t),i=[],s=[],o=[];r.va.isEmpty()||(r.va.forEach((l,u)=>{o.push(r.Qa(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=rg.Ui(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.E_(i),await async function(u,c){const d=ue(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(c,m=>$.forEach(m.Ki,_=>d.persistence.referenceDelegate.addReference(f,m.targetId,_)).next(()=>$.forEach(m.$i,_=>d.persistence.referenceDelegate.removeReference(f,m.targetId,_)))))}catch(f){if(!Xl(f))throw f;Y("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const _=d.ss.get(m),C=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(C);d.ss=d.ss.insert(m,R)}}}(r.localStore,s))}async function jD(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await YT(n.localStore,e);n.currentUser=e,function(s,o){s.Ba.forEach(l=>{l.forEach(u=>{u.reject(new ee(z.CANCELLED,o))})}),s.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(n,r.ls)}}function UD(t,e){const n=ue(t),r=n.Oa.get(e);if(r&&r.Da)return _e().add(r.key);{let i=_e();const s=n.Fa.get(e);if(!s)return i;for(const o of s){const l=n.va.get(o);i=i.unionWith(l.view.Ra)}return i}}function fS(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LD.bind(null,e),e.Ca.E_=TD.bind(null,e.eventManager),e.Ca.Ka=SD.bind(null,e.eventManager),e}function BD(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VD.bind(null,e),e}class R_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HN(this.persistence,new $N,e.initialUser,this.serializer)}createPersistence(e){return new jN(ng.Yr,this.serializer)}createSharedClientState(e){return new XN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $D{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jD.bind(null,this.syncEngine),await yD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _D}()}createDatastore(e){const n=$d(e.databaseInfo.databaseId),r=function(s){return new tD(s)}(e.databaseInfo);return function(s,o,l,u){return new iD(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new oD(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>C_(this.syncEngine,n,0),function(){return w_.D()?new w_:new JN}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,d){const f=new AD(i,s,o,l,u,c);return d&&(f.qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ue(i);Y("RemoteStore","RemoteStore shutting down."),s.N_.add(5),await eu(s),s.B_.shutdown(),s.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=gT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Y("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Y("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ug(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ef(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function A_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qD(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>E_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>E_(e.remoteStore,i)),t._onlineComponents=e}function WD(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function qD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await ef(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!WD(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await ef(t,new R_)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await ef(t,new R_);return t._offlineComponents}async function pS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await A_(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await A_(t,new $D))),t._onlineComponents}function KD(t){return pS(t).then(e=>e.syncEngine)}async function GD(t){const e=await pS(t),n=e.eventManager;return n.onListen=kD.bind(null,e.syncEngine),n.onUnlisten=DD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bD.bind(null,e.syncEngine),n}function QD(t,e,n={}){const r=new Pi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const d=new zD({next:m=>{o.enqueueAndForget(()=>ED(s,f));const _=m.docs.has(l);!_&&m.fromCache?c.reject(new ee(z.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?c.reject(new ee(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new ID(Xm(l.path),d,{includeMetadataChanges:!0,oa:!0});return wD(s,f)}(await GD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e,n){if(!n)throw new ee(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YD(t,e,n,r){if(e===!0&&r===!0)throw new ee(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x_(t){if(!te.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N_(t){if(te.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hg(t);throw new ee(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lx;switch(r.type){case"firstParty":return new hx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=k_.get(n);r&&(Y("ComponentProvider","Removing Datastore"),k_.delete(n),r.terminate())}(this),Promise.resolve()}}function XD(t,e,n,r={}){var i;const s=(t=Mi(t,Wd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=$t.MOCK_USER;else{l=UA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ee(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $t(c)}t._authCredentials=new ux(new mT(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fg(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class Ri extends fg{constructor(e,n,r){super(e,n,Xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new te(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function JD(t,e,...n){if(t=Yt(t),gS("collection","path",e),t instanceof Wd){const r=Ge.fromString(e,...n);return N_(r),new Ri(t,null,r)}{if(!(t instanceof an||t instanceof Ri))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return N_(r),new Ri(t.firestore,null,r)}}function Zo(t,e,...n){if(t=Yt(t),arguments.length===1&&(e=gT.newId()),gS("doc","path",e),t instanceof Wd){const r=Ge.fromString(e,...n);return x_(r),new an(t,null,new te(r))}{if(!(t instanceof an||t instanceof Ri))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return x_(r),new an(t.firestore,t instanceof Ri?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new JT(this,"async_queue_retry"),this.Tu=()=>{const n=Zh();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=Zh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=Zh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new Pi;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!Xl(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=lg.createAndSchedule(this,e,n,r,s=>this.Ru(s));return this.cu.push(i),i}Eu(){this.lu&&oe()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}class nu extends Wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ZD}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vS(this),this._firestoreClient.terminate()}}function eb(t,e){const n=typeof t=="object"?t:sT(),r=typeof t=="string"?t:"(default)",i=zm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=FA("firestore");s&&XD(i,...s)}return i}function yS(t){return t._firestoreClient||vS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vS(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,d){return new Cx(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,mS(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new HD(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Ot.fromBase64String(e))}catch(n){throw new ee(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=/^__.*__$/;class nb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}class _S{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class gg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return nd(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(wS(this.yu)&&tb.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class rb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$d(e)}Ou(e,n,r,i=!1){return new gg({yu:e,methodName:n,xu:r,path:kt.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yg(t){const e=t._freezeSettings(),n=$d(t._databaseId);return new rb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ES(t,e,n,r,i,s={}){const o=t.Ou(s.merge||s.mergeFields?2:0,e,n,i);vg("Data must be an object, but it was:",o,r);const l=TS(r,o);let u,c;if(s.merge)u=new mn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=Ip(e,f,n);if(!o.contains(m))throw new ee(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);IS(d,m)||d.push(m)}u=new mn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new nb(new tn(l),u,c)}class Kd extends pg{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kd}}function ib(t,e,n,r){const i=t.Ou(1,e,n);vg("Data must be an object, but it was:",i,r);const s=[],o=tn.empty();Os(r,(u,c)=>{const d=_g(e,u,n);c=Yt(c);const f=i.Cu(d);if(c instanceof Kd)s.push(d);else{const m=Gd(c,f);m!=null&&(s.push(d),o.set(d,m))}});const l=new mn(s);return new _S(o,l,i.fieldTransforms)}function sb(t,e,n,r,i,s){const o=t.Ou(1,e,n),l=[Ip(e,r,n)],u=[i];if(s.length%2!=0)throw new ee(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(Ip(e,s[m])),u.push(s[m+1]);const c=[],d=tn.empty();for(let m=l.length-1;m>=0;--m)if(!IS(c,l[m])){const _=l[m];let C=u[m];C=Yt(C);const R=o.Cu(_);if(C instanceof Kd)c.push(_);else{const D=Gd(C,R);D!=null&&(c.push(_),d.set(_,D))}}const f=new mn(c);return new _S(d,f,o.fieldTransforms)}function Gd(t,e){if(SS(t=Yt(t)))return vg("Unsupported field value:",e,t),TS(t,e);if(t instanceof pg)return function(r,i){if(!wS(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Gd(l,i.vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=vt.fromDate(r);return{timestampValue:ed(i.serializer,s)}}if(r instanceof vt){const s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ed(i.serializer,s)}}if(r instanceof mg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $o)return{bytesValue:zT(i.serializer,r._byteString)};if(r instanceof an){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${hg(r)}`)}(t,e)}function TS(t,e){const n={};return yT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(t,(r,i)=>{const s=Gd(i,e.Su(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function SS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof mg||t instanceof $o||t instanceof an||t instanceof pg)}function vg(t,e,n){if(!SS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hg(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function Ip(t,e,n){if((e=Yt(e))instanceof qd)return e._internalPath;if(typeof e=="string")return _g(t,e);throw nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const ob=new RegExp("[~\\*/\\[\\]]");function _g(t,e,n){if(e.search(ob)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qd(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ee(z.INVALID_ARGUMENT,l+t+u)}function IS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ab(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ab extends CS{data(){return super.data()}}function PS(t,e){return typeof e=="string"?_g(t,e):e instanceof qd?e._internalPath:e._delegate._internalPath}class lb{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Os(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new mg(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Km(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){const n=Oi(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Ve(QT(r));const i=new Nl(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Ur(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AS extends CS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(PS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cb extends AS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t){t=Mi(t,an);const e=Mi(t.firestore,nu);return QD(yS(e),t._key).then(n=>mb(e,t,n))}class db extends lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function hb(t,e,n){t=Mi(t,an);const r=Mi(t.firestore,nu),i=RS(t.converter,e);return Eg(r,[ES(yg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hn.none())])}function fb(t,e,n,...r){t=Mi(t,an);const i=Mi(t.firestore,nu),s=yg(i);let o;return o=typeof(e=Yt(e))=="string"||e instanceof qd?sb(s,"updateDoc",t._key,e,n,r):ib(s,"updateDoc",t._key,e),Eg(i,[o.toMutation(t._key,Hn.exists(!0))])}function pb(t,e){const n=Mi(t.firestore,nu),r=Zo(t),i=RS(t.converter,e);return Eg(n,[ES(yg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function Eg(t,e){return function(r,i){const s=new Pi;return r.asyncQueue.enqueueAndForget(async()=>OD(await KD(r),i,s)),s.promise}(yS(t),e)}function mb(t,e,n){const r=n.docs.get(e._key),i=new db(t);return new AS(t,i,e._key,r,new ub(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Yo=i})(Qo),Lo(new Ts("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new nu(new cx(r.getProvider("auth-internal")),new px(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ci(Jv,"4.6.5",e),Ci(Jv,"4.6.5","esm2017")})();var gb="firebase",yb="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(gb,yb,"app");function Tg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vb=kS,xS=new Gl("auth","Firebase",kS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Bm("@firebase/auth");function _b(t,...e){rd.logLevel<=we.WARN&&rd.warn(`Auth (${Qo}): ${t}`,...e)}function fc(t,...e){rd.logLevel<=we.ERROR&&rd.error(`Auth (${Qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw Sg(t,...e)}function hr(t,...e){return Sg(t,...e)}function NS(t,e,n){const r=Object.assign(Object.assign({},vb()),{[e]:n});return new Gl("auth","Firebase",r).create(e,{appName:t.name})}function Lr(t){return NS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xS.create(t,...e)}function se(t,e,...n){if(!t)throw Sg(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fc(e),new Error(e)}function $r(t,e){t||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wb(){return b_()==="http:"||b_()==="https:"}function b_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wb()||zA()||"connection"in navigator)?navigator.onLine:!0}function Tb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=BA()||HA()}get(){return Eb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e){$r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new ru(3e4,6e4);function qi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ki(t,e,n,r,i={}){return bS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ql(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),DS.fetch()(OS(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function bS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sb),e);try{const i=new Pb(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw qu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw qu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw qu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw NS(t,d,c);Gn(t,d)}}catch(i){if(i instanceof Wr)throw i;Gn(t,"network-request-failed",{message:String(i)})}}async function iu(t,e,n,r,i={}){const s=await Ki(t,e,n,r,i);return"mfaPendingCredential"in s&&Gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function OS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ig(t.config,i):`${t.config.apiScheme}://${i}`}function Cb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),Ib.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hr(t,e,r);return i.customData._tokenResponse=n,i}function O_(t){return t!==void 0&&t.enterprise!==void 0}class Rb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Cb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Ab(t,e){return Ki(t,"GET","/v2/recaptchaConfig",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(t,e){return Ki(t,"POST","/v1/accounts:delete",e)}async function LS(t,e){return Ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xb(t,e=!1){const n=Yt(t),r=await n.getIdToken(e),i=Cg(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ll(tf(i.auth_time)),issuedAtTime:ll(tf(i.iat)),expirationTime:ll(tf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tf(t){return Number(t)*1e3}function Cg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fc("JWT malformed, contained fewer than 3 sections"),null;try{const i=JE(n);return i?JSON.parse(i):(fc("Failed to decode base64 JWT payload"),null)}catch(i){return fc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function L_(t){const e=Cg(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wr&&Nb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Nb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ll(t,LS(n,{idToken:r}));se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?MS(s.providerUserInfo):[],l=Ob(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Pp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function bb(t){const e=Yt(t);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ob(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MS(t){return t.map(e=>{var{providerId:n}=e,r=Tg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,e){const n=await bS(t,{},async()=>{const r=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=OS(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",DS.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mb(t,e){return Ki(t,"POST","/v2/accounts:revokeToken",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=L_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Lb(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new So;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Tg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xb(this,e)}reload(){return bb(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await Ll(this,kb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(l=n.tenantId)!==null&&l!==void 0?l:void 0,D=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:b,isAnonymous:U,providerData:k,stsTokenManager:S}=n;se(w&&S,e,"internal-error");const g=So.fromJSON(this.name,S);se(typeof w=="string",e,"internal-error"),ti(f,e.name),ti(m,e.name),se(typeof b=="boolean",e,"internal-error"),se(typeof U=="boolean",e,"internal-error"),ti(_,e.name),ti(C,e.name),ti(R,e.name),ti(D,e.name),ti(I,e.name),ti(y,e.name);const E=new Dr({uid:w,auth:e,email:m,emailVerified:b,displayName:f,isAnonymous:U,photoURL:C,phoneNumber:_,tenantId:R,stsTokenManager:g,createdAt:I,lastLoginAt:y});return k&&Array.isArray(k)&&(E.providerData=k.map(P=>Object.assign({},P))),D&&(E._redirectEventId=D),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new So;i.updateFromServerResponse(n);const s=new Dr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await id(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?MS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new So;l.updateFromIdToken(r);const u=new Dr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Pp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;function br(t){$r(t instanceof Function,"Expected a class definition");let e=M_.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VS.type="NONE";const V_=VS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=pc(this.userKey,i.apiKey,s),this.fullPersistenceKey=pc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(br(V_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||br(V_);const o=pc(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const f=Dr._fromJSON(e,d);c!==s&&(l=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Io(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Io(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(US(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($S(e))return"Blackberry";if(zS(e))return"Webos";if(Pg(e))return"Safari";if((e.includes("chrome/")||jS(e))&&!e.includes("edge/"))return"Chrome";if(BS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FS(t=bt()){return/firefox\//i.test(t)}function Pg(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jS(t=bt()){return/crios\//i.test(t)}function US(t=bt()){return/iemobile/i.test(t)}function BS(t=bt()){return/android/i.test(t)}function $S(t=bt()){return/blackberry/i.test(t)}function zS(t=bt()){return/webos/i.test(t)}function Qd(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vb(t=bt()){var e;return Qd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fb(){return WA()&&document.documentMode===10}function HS(t=bt()){return Qd(t)||BS(t)||zS(t)||$S(t)||/windows phone/i.test(t)||US(t)}function jb(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e=[]){let n;switch(t){case"Browser":n=F_(bt());break;case"Worker":n=`${F_(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(t,e={}){return Ki(t,"GET","/v2/passwordPolicy",qi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=6;class zb{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$b,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new Ub(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=br(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await LS(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(or(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Lr(this));const n=e?Yt(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bb(this),n=new zb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Mb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&br(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_b(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ms(t){return Yt(t)}class j_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZA(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wb(t){Yd=t}function qS(t){return Yd.loadJS(t)}function qb(){return Yd.recaptchaEnterpriseScript}function Kb(){return Yd.gapiScript}function Gb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Qb="recaptcha-enterprise",Yb="NO_RECAPTCHA";class Xb{constructor(e){this.type=Qb,this.auth=Ms(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Ab(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new Rb(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;O_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Yb)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&O_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=qb();u.length!==0&&(u+=l),qS(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function U_(t,e,n,r=!1){const i=new Xb(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Rp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await U_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await U_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e){const n=zm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Kc(s,e??{}))return i;Gn(i,"already-initialized")}return n.initialize({options:e})}function Zb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eO(t,e,n){const r=Ms(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=KS(e),{host:o,port:l}=tO(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),nO()}function KS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tO(t){const e=KS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:B_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:B_(o)}}}function B_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function rO(t,e){return Ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(t,e){return iu(t,"POST","/v1/accounts:signInWithPassword",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e){return iu(t,"POST","/v1/accounts:signInWithEmailLink",qi(t,e))}async function oO(t,e){return iu(t,"POST","/v1/accounts:signInWithEmailLink",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Rg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ml(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ml(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rp(e,n,"signInWithPassword",iO);case"emailLink":return sO(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rp(e,r,"signUpPassword",rO);case"emailLink":return oO(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t,e){return iu(t,"POST","/v1/accounts:signInWithIdp",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="http://localhost";class Rs extends Rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Tg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Rs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:aO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uO(t){const e=za(Ha(t)).link,n=e?za(Ha(e)).deep_link_id:null,r=za(Ha(t)).deep_link_id;return(r?za(Ha(r)).link:null)||r||n||e||t}class Ag{constructor(e){var n,r,i,s,o,l;const u=za(Ha(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,f=lO((i=u.mode)!==null&&i!==void 0?i:null);se(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=uO(e);try{return new Ag(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,n){return Ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ag.parseLink(n);return se(r,"argument-error"),Ml._fromEmailAndCode(e,r.code,r.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends GS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends su{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return li.credential(n,r)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends su{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends su{constructor(){super("twitter.com")}static credential(e,n){return Rs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(t,e){return iu(t,"POST","/v1/accounts:signUp",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Dr._fromIdTokenResponse(e,r,i),o=$_(r);return new As({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$_(r);return new As({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends Wr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sd(e,n,r,i)}}function QS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(t,s,e,r):s})}async function dO(t,e,n=!1){const r=await Ll(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return As._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(t,e,n=!1){const{auth:r}=t;if(or(r.app))return Promise.reject(Lr(r));const i="reauthenticate";try{const s=await Ll(t,QS(r,i,e,t),n);se(s.idToken,r,"internal-error");const o=Cg(s.idToken);se(o,r,"internal-error");const{sub:l}=o;return se(t.uid===l,r,"user-mismatch"),As._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t,e,n=!1){if(or(t.app))return Promise.reject(Lr(t));const r="signIn",i=await QS(t,r,e),s=await As._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function fO(t,e){return YS(Ms(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(t){const e=Ms(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pO(t,e,n){if(or(t.app))return Promise.reject(Lr(t));const r=Ms(t),o=await Rp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cO).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&XS(t),u}),l=await As._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function mO(t,e,n){return or(t.app)?Promise.reject(Lr(t)):fO(Yt(t),ea.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XS(t),r})}function gO(t,e,n,r){return Yt(t).onIdTokenChanged(e,n,r)}function yO(t,e,n){return Yt(t).beforeAuthStateChanged(e,n)}const od="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(od,"1"),this.storage.removeItem(od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(){const t=bt();return Pg(t)||Qd(t)}const _O=1e3,wO=10;class ZS extends JS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=vO()&&jb(),this.fallbackToPolling=HS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Fb()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZS.type="LOCAL";const EO=ZS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends JS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eI.type="SESSION";const tI=eI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await TO(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=kg("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function IO(t){fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function CO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RO(){return nI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebaseLocalStorageDb",AO=1,ad="firebaseLocalStorage",iI="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jd(t,e){return t.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function kO(){const t=indexedDB.deleteDatabase(rI);return new ou(t).toPromise()}function Ap(){const t=indexedDB.open(rI,AO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ad,{keyPath:iI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ad)?e(r):(r.close(),await kO(),e(await Ap()))})})}async function z_(t,e,n){const r=Jd(t,!0).put({[iI]:e,value:n});return new ou(r).toPromise()}async function xO(t,e){const n=Jd(t,!1).get(e),r=await new ou(n).toPromise();return r===void 0?null:r.value}function H_(t,e){const n=Jd(t,!0).delete(e);return new ou(n).toPromise()}const NO=800,DO=3;class sI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(RO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CO(),!this.activeServiceWorker)return;this.sender=new SO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ap();return await z_(e,od,"1"),await H_(e,od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>z_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Jd(i,!1).getAll();return new ou(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sI.type="LOCAL";const bO=sI;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e){return e?br(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends Rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LO(t){return YS(t.auth,new xg(t),t.bypassAuthState)}function MO(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),hO(n,new xg(t),t.bypassAuthState)}async function VO(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),dO(n,new xg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LO;case"linkViaPopup":case"linkViaRedirect":return VO;case"reauthViaPopup":case"reauthViaRedirect":return MO;default:Gn(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new ru(2e3,1e4);class mo extends oI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FO.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="pendingRedirect",mc=new Map;class UO extends oI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mc.get(this.auth._key());if(!e){try{const r=await BO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mc.set(this.auth._key(),e)}return this.bypassAuthState||mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BO(t,e){const n=HO(e),r=zO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $O(t,e){mc.set(t._key(),e)}function zO(t){return br(t._redirectPersistence)}function HO(t){return pc(jO,t.config.apiKey,t.name)}async function WO(t,e,n=!1){if(or(t.app))return Promise.reject(Lr(t));const r=Ms(t),i=OO(r,e),o=await new UO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=10*60*1e3;class KO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qO&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(e))}saveEventToCache(e){this.cachedEventUids.add(W_(e)),this.lastProcessedEventTime=Date.now()}}function W_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e={}){return Ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XO=/^https?/;async function JO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QO(t);for(const n of e)try{if(ZO(n))return}catch{}Gn(t,"unauthorized-domain")}function ZO(t){const e=Cp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!XO.test(n))return!1;if(YO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new ru(3e4,6e4);function q_(){const t=fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function t2(t){return new Promise((e,n)=>{var r,i,s;function o(){q_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q_(),n(hr(t,"network-request-failed"))},timeout:e2.get()})}if(!((i=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fr().gapi)===null||s===void 0)&&s.load)o();else{const l=Gb("iframefcb");return fr()[l]=()=>{gapi.load?o():n(hr(t,"network-request-failed"))},qS(`${Kb()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw gc=null,e})}let gc=null;function n2(t){return gc=gc||t2(t),gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new ru(5e3,15e3),i2="__/auth/iframe",s2="emulator/auth/iframe",o2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l2(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ig(e,s2):`https://${t.config.authDomain}/${i2}`,r={apiKey:e.apiKey,appName:t.name,v:Qo},i=a2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ql(r).slice(1)}`}async function u2(t){const e=await n2(t),n=fr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:l2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=hr(t,"network-request-failed"),l=fr().setTimeout(()=>{s(o)},r2.get());function u(){fr().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d2=500,h2=600,f2="_blank",p2="http://localhost";class K_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m2(t,e,n,r=d2,i=h2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},c2),{width:r.toString(),height:i.toString(),top:s,left:o}),c=bt().toLowerCase();n&&(l=jS(c)?f2:n),FS(c)&&(e=e||p2,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,C])=>`${m}${_}=${C},`,"");if(Vb(c)&&l!=="_self")return g2(e||"",l),new K_(null);const f=window.open(e||"",l,d);se(f,t,"popup-blocked");try{f.focus()}catch{}return new K_(f)}function g2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="__/auth/handler",v2="emulator/auth/handler",_2=encodeURIComponent("fac");async function G_(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qo,eventId:i};if(e instanceof GS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof su){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${_2}=${encodeURIComponent(u)}`:"";return`${w2(t)}?${Ql(l).slice(1)}${c}`}function w2({config:t}){return t.emulator?Ig(t,v2):`https://${t.authDomain}/${y2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="webStorageSupport";class E2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tI,this._completeRedirectFn=WO,this._overrideRedirectResult=$O}async _openPopup(e,n,r,i){var s;$r((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await G_(e,n,r,Cp(),i);return m2(e,o,kg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await G_(e,n,r,Cp(),i);return IO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($r(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await u2(e),r=new KO(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nf,{type:nf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[nf];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HS()||Pg()||Qd()}}const T2=E2;var Q_="@firebase/auth",Y_="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C2(t){Lo(new Ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WS(t)},c=new Hb(r,i,s,u);return Zb(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lo(new Ts("auth-internal",e=>{const n=Ms(e.getProvider("auth").getImmediate());return(r=>new S2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(Q_,Y_,I2(t)),Ci(Q_,Y_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=5*60,R2=tT("authIdTokenMaxAge")||P2;let X_=null;const A2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R2)return;const i=n==null?void 0:n.token;X_!==i&&(X_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function k2(t=sT()){const e=zm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jb(t,{popupRedirectResolver:T2,persistence:[bO,EO,tI]}),r=tT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=A2(s.toString());yO(n,o,()=>o(n.currentUser)),gO(n,l=>o(l))}}const i=ZE("auth");return i&&eO(n,`http://${i}`),n}function x2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Wb({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",x2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C2("Browser");const N2={apiKey:"AIzaSyD5m_J2nG-yIHy9rdMn7YpKhnwRYrY6Wkw",authDomain:"ecommerce-5e7ef.firebaseapp.com",databaseURL:"https://ecommerce-5e7ef-default-rtdb.firebaseio.com",projectId:"ecommerce-5e7ef",storageBucket:"ecommerce-5e7ef.appspot.com",messagingSenderId:"454449190693",appId:"1:454449190693:web:33b4f6a7a75c50df69accc"},lI=iT(N2),J_=k2(lI),ta=eb(lI),uI=()=>{const t=localStorage.getItem("expiration");if(t){const e=new Date(t),n=new Date;return e.getTime()-n.getTime()}else return null},ln=()=>{const t=localStorage.getItem("token");if(t){const e=uI();return e&&e<=0?"token expired":t}return null},D2=async t=>{const e=Zo(ta,"users",t);return!!(await wg(e)).exists()};function Pt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var b2=typeof Symbol=="function"&&Symbol.observable||"@@observable",Z_=b2,rf=()=>Math.random().toString(36).substring(7).split("").join("."),O2={INIT:`@@redux/INIT${rf()}`,REPLACE:`@@redux/REPLACE${rf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rf()}`},ld=O2;function Ng(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function cI(t,e,n){if(typeof t!="function")throw new Error(Pt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Pt(1));return n(cI)(t,e)}let r=t,i=e,s=new Map,o=s,l=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((D,I)=>{o.set(I,D)}))}function d(){if(u)throw new Error(Pt(3));return i}function f(D){if(typeof D!="function")throw new Error(Pt(4));if(u)throw new Error(Pt(5));let I=!0;c();const y=l++;return o.set(y,D),function(){if(I){if(u)throw new Error(Pt(6));I=!1,c(),o.delete(y),s=null}}}function m(D){if(!Ng(D))throw new Error(Pt(7));if(typeof D.type>"u")throw new Error(Pt(8));if(typeof D.type!="string")throw new Error(Pt(17));if(u)throw new Error(Pt(9));try{u=!0,i=r(i,D)}finally{u=!1}return(s=o).forEach(y=>{y()}),D}function _(D){if(typeof D!="function")throw new Error(Pt(10));r=D,m({type:ld.REPLACE})}function C(){const D=f;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Pt(11));function y(){const b=I;b.next&&b.next(d())}return y(),{unsubscribe:D(y)}},[Z_](){return this}}}return m({type:ld.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:_,[Z_]:C}}function L2(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ld.INIT})>"u")throw new Error(Pt(12));if(typeof n(void 0,{type:ld.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pt(13))})}function M2(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{L2(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let u=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],m=n[f],_=o[f],C=m(_,l);if(typeof C>"u")throw l&&l.type,new Error(Pt(14));c[f]=C,u=u||C!==_}return u=u||r.length!==Object.keys(o).length,u?c:o}}function ud(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function V2(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Pt(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},l=t.map(u=>u(o));return s=ud(...l)(i.dispatch),{...i,dispatch:s}}}function F2(t){return Ng(t)&&"type"in t&&typeof t.type=="string"}var dI=Symbol.for("immer-nothing"),e0=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function Un(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zo=Object.getPrototypeOf;function ks(t){return!!t&&!!t[_n]}function zr(t){var e;return t?hI(t)||Array.isArray(t)||!!t[e0]||!!((e=t.constructor)!=null&&e[e0])||eh(t)||th(t):!1}var j2=Object.prototype.constructor.toString();function hI(t){if(!t||typeof t!="object")return!1;const e=zo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===j2}function cd(t,e){Zd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Zd(t){const e=t[_n];return e?e.type_:Array.isArray(t)?1:eh(t)?2:th(t)?3:0}function kp(t,e){return Zd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function fI(t,e,n){const r=Zd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function U2(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function eh(t){return t instanceof Map}function th(t){return t instanceof Set}function is(t){return t.copy_||t.base_}function xp(t,e){if(eh(t))return new Map(t);if(th(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=hI(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[_n];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(zo(t),r)}else{const r=zo(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Dg(t,e=!1){return nh(t)||ks(t)||!zr(t)||(Zd(t)>1&&(t.set=t.add=t.clear=t.delete=B2),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Dg(r,!0))),t}function B2(){Un(2)}function nh(t){return Object.isFrozen(t)}var $2={};function xs(t){const e=$2[t];return e||Un(0,t),e}var Vl;function pI(){return Vl}function z2(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function t0(t,e){e&&(xs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Np(t){Dp(t),t.drafts_.forEach(H2),t.drafts_=null}function Dp(t){t===Vl&&(Vl=t.parent_)}function n0(t){return Vl=z2(Vl,t)}function H2(t){const e=t[_n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function r0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_n].modified_&&(Np(e),Un(4)),zr(t)&&(t=dd(e,t),e.parent_||hd(e,t)),e.patches_&&xs("Patches").generateReplacementPatches_(n[_n].base_,t,e.patches_,e.inversePatches_)):t=dd(e,n,[]),Np(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==dI?t:void 0}function dd(t,e,n){if(nh(e))return e;const r=e[_n];if(!r)return cd(e,(i,s)=>i0(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return hd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),cd(s,(l,u)=>i0(t,r,i,l,u,n,o)),hd(t,i,!1),n&&t.patches_&&xs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function i0(t,e,n,r,i,s,o){if(ks(i)){const l=s&&e&&e.type_!==3&&!kp(e.assigned_,r)?s.concat(r):void 0,u=dd(t,i,l);if(fI(n,r,u),ks(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(zr(i)&&!nh(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;dd(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&hd(t,i)}}function hd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Dg(e,n)}function W2(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:pI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=bg;n&&(i=[r],s=Fl);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var bg={get(t,e){if(e===_n)return t;const n=is(t);if(!kp(n,e))return q2(t,n,e);const r=n[e];return t.finalized_||!zr(r)?r:r===sf(t.base_,e)?(of(t),t.copy_[e]=Op(r,t)):r},has(t,e){return e in is(t)},ownKeys(t){return Reflect.ownKeys(is(t))},set(t,e,n){const r=mI(is(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=sf(is(t),e),s=i==null?void 0:i[_n];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(U2(n,i)&&(n!==void 0||kp(t.base_,e)))return!0;of(t),bp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return sf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,of(t),bp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=is(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Un(11)},getPrototypeOf(t){return zo(t.base_)},setPrototypeOf(){Un(12)}},Fl={};cd(bg,(t,e)=>{Fl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Fl.deleteProperty=function(t,e){return Fl.set.call(this,t,e,void 0)};Fl.set=function(t,e,n){return bg.set.call(this,t[0],e,n,t[0])};function sf(t,e){const n=t[_n];return(n?is(n):t)[e]}function q2(t,e,n){var i;const r=mI(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function mI(t,e){if(!(e in t))return;let n=zo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=zo(n)}}function bp(t){t.modified_||(t.modified_=!0,t.parent_&&bp(t.parent_))}function of(t){t.copy_||(t.copy_=xp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var K2=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,d=>n.call(this,d,...c))}}typeof n!="function"&&Un(6),r!==void 0&&typeof r!="function"&&Un(7);let i;if(zr(e)){const s=n0(this),o=Op(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?Np(s):Dp(s)}return t0(s,r),r0(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===dI&&(i=void 0),this.autoFreeze_&&Dg(i,!0),r){const s=[],o=[];xs("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Un(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){zr(t)||Un(8),ks(t)&&(t=G2(t));const e=n0(this),n=Op(t,void 0);return n[_n].isManual_=!0,Dp(e),n}finishDraft(t,e){const n=t&&t[_n];(!n||!n.isManual_)&&Un(9);const{scope_:r}=n;return t0(r,e),r0(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=xs("Patches").applyPatches_;return ks(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Op(t,e){const n=eh(t)?xs("MapSet").proxyMap_(t,e):th(t)?xs("MapSet").proxySet_(t,e):W2(t,e);return(e?e.scope_:pI()).drafts_.push(n),n}function G2(t){return ks(t)||Un(10,t),gI(t)}function gI(t){if(!zr(t)||nh(t))return t;const e=t[_n];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=xp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=xp(t,!0);return cd(n,(r,i)=>{fI(n,r,gI(i))}),e&&(e.finalized_=!1),n}var wn=new K2,yI=wn.produce;wn.produceWithPatches.bind(wn);wn.setAutoFreeze.bind(wn);wn.setUseStrictShallowCopy.bind(wn);wn.applyPatches.bind(wn);wn.createDraft.bind(wn);wn.finishDraft.bind(wn);function vI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Q2=vI(),Y2=vI,X2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ud:ud.apply(null,arguments)};function s0(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Wn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>F2(r)&&r.type===t,n}var _I=class Ga extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ga.prototype)}static get[Symbol.species](){return Ga}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ga(...e[0].concat(this)):new Ga(...e.concat(this))}};function o0(t){return zr(t)?yI(t,()=>{}):t}function a0(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Wn(10));const r=n.insert(e,t);return t.set(e,r),r}function J2(t){return typeof t=="boolean"}var Z2=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new _I;return n&&(J2(n)?o.push(Q2):o.push(Y2(n.extraArgument))),o},eL="RTK_autoBatch",wI=t=>e=>{setTimeout(e,t)},tL=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wI(10),nL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?tL:t.type==="callback"?t.queueNotification:wI(t.timeout),c=()=>{o=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),m=r.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[eL]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(d)}finally{i=!0}}})},rL=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new _I(t);return r&&i.push(nL(typeof r=="object"?r:void 0)),i};function iL(t){const e=Z2(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Ng(n))l=M2(n);else throw new Error(Wn(1));let u;typeof r=="function"?u=r(e):u=e();let c=ud;i&&(c=X2({trace:!1,...typeof i=="object"&&i}));const d=V2(...u),f=rL(d);let m=typeof o=="function"?o(f):f();const _=c(...m);return cI(l,s,_)}function EI(t){const e={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Wn(28));if(l in e)throw new Error(Wn(29));return e[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function sL(t){return typeof t=="function"}function oL(t,e){let[n,r,i]=EI(e),s;if(sL(t))s=()=>o0(t());else{const l=o0(t);s=()=>l}function o(l=s(),u){let c=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(ks(d)){const _=f(d,u);return _===void 0?d:_}else{if(zr(d))return yI(d,m=>f(m,u));{const m=f(d,u);if(m===void 0){if(d===null)return d;throw new Error(Wn(9))}return m}}return d},l)}return o.getInitialState=s,o}var aL=Symbol.for("rtk-slice-createasyncthunk");function lL(t,e){return`${t}/${e}`}function uL({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[aL];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Wn(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(dL()):i.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,b){const U=typeof w=="string"?w:w.type;if(!U)throw new Error(Wn(12));if(U in c.sliceCaseReducersByType)throw new Error(Wn(13));return c.sliceCaseReducersByType[U]=b,d},addMatcher(w,b){return c.sliceMatchers.push({matcher:w,reducer:b}),d},exposeAction(w,b){return c.actionCreators[w]=b,d},exposeCaseReducer(w,b){return c.sliceCaseReducersByName[w]=b,d}};u.forEach(w=>{const b=l[w],U={reducerName:w,type:lL(s,w),createNotation:typeof i.reducers=="function"};fL(b)?mL(U,b,d,e):hL(U,b,d)});function f(){const[w={},b=[],U=void 0]=typeof i.extraReducers=="function"?EI(i.extraReducers):[i.extraReducers],k={...w,...c.sliceCaseReducersByType};return oL(i.initialState,S=>{for(let g in k)S.addCase(g,k[g]);for(let g of c.sliceMatchers)S.addMatcher(g.matcher,g.reducer);for(let g of b)S.addMatcher(g.matcher,g.reducer);U&&S.addDefaultCase(U)})}const m=w=>w,_=new Map;let C;function R(w,b){return C||(C=f()),C(w,b)}function D(){return C||(C=f()),C.getInitialState()}function I(w,b=!1){function U(S){let g=S[w];return typeof g>"u"&&b&&(g=D()),g}function k(S=m){const g=a0(_,b,{insert:()=>new WeakMap});return a0(g,S,{insert:()=>{const E={};for(const[P,x]of Object.entries(i.selectors??{}))E[P]=cL(x,S,D,b);return E}})}return{reducerPath:w,getSelectors:k,get selectors(){return k(U)},selectSlice:U}}const y={name:s,reducer:R,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:D,...I(o),injectInto(w,{reducerPath:b,...U}={}){const k=b??o;return w.inject({reducerPath:k,reducer:R},U),{...y,...I(k,!0)}}};return y}}function cL(t,e,n,r){function i(s,...o){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var TI=uL();function dL(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function hL({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!pL(r))throw new Error(Wn(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?s0(t,o):s0(t))}function fL(t){return t._reducerDefinitionType==="asyncThunk"}function pL(t){return t._reducerDefinitionType==="reducerWithPrepare"}function mL({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Wn(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:u,settled:c,options:d}=n,f=i(t,s,d);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),l&&r.addCase(f.pending,l),u&&r.addCase(f.rejected,u),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Ku,pending:l||Ku,rejected:u||Ku,settled:c||Ku})}function Ku(){}function Wn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}let gL={notifications:[],navShown:!1,loading:!1,token:ln(),orderFormShown:!1};const SI=TI({name:"ui",initialState:gL,reducers:{toggleNav(t,e){t.navShown=e.payload},addNotification(t,e){t.notifications.push({...e.payload})},removeNotification(t){t.notifications.shift()},setLoading(t,e){t.loading=e.payload},setToken(t,e){localStorage.setItem("token",e.payload),t.token=e.payload},clearToken(t){localStorage.clear(),t.token=null},setOrderFormShown(t,e){t.orderFormShown=e.payload}}}),yL=SI.reducer,lt=SI.actions;let vL={cartItems:[],totalAmount:0,totalNumItems:0};const II=TI({name:"cart",initialState:vL,reducers:{addItem(t,e){t.totalAmount+=e.payload.price,t.totalNumItems+=e.payload.amount;const n=t.cartItems.findIndex(r=>r.id===e.payload.id);if(n>-1){let r=t.cartItems[n];r={...r,amount:r.amount+e.payload.amount},t.cartItems[n]=r}else t.cartItems.push(e.payload)},removeItem(t,e){t.totalAmount-=e.payload.price,t.totalNumItems-=e.payload.amount;const n=t.cartItems.findIndex(r=>r.id===e.payload.id);if(n>-1){let r=t.cartItems[n];r.amount===1?t.cartItems=t.cartItems.filter(i=>i.id!==e.payload.id):(r={...r,amount:r.amount-e.payload.amount},t.cartItems[n]=r)}},deleteOneItem(t,e){t.totalAmount=t.totalAmount-=e.payload.price*e.payload.amount,t.totalNumItems=t.totalNumItems-=e.payload.amount,t.cartItems=t.cartItems.filter(n=>n.id!==e.payload.id)},deleteAll(t){t.totalAmount=0,t.totalNumItems=0,t.cartItems=[]},setCart(t,e){t.cartItems=e.payload.cartItems,t.totalAmount=e.payload.totalAmount,t.totalNumItems=e.payload.totalNumItems}}}),_L=II.reducer,au=II.actions,Ns=iL({reducer:{ui:yL,cart:_L}}),me=(t,e)=>{Ns.dispatch(lt.addNotification({title:e,type:t})),setTimeout(()=>{Ns.dispatch(lt.removeNotification())},3e3)},CI=()=>{const t=ln();return t||t==="token expired"?(Ns.dispatch(lt.clearToken()),me("error","User logged out!"),Ni("/auth?mode=login")):Ni("/")},wL=()=>{const t=ln();return!t||t==="token expired"?(me("error","You are already logged out"),Ni("/auth?mode=login")):CI()},EL="_FallbackContainer_1j5f3_1",TL="_spinner_1j5f3_17",SL="_loading_1j5f3_1",IL="_content_1j5f3_53",af={FallbackContainer:EL,spinner:TL,loading:SL,content:IL},CL="_nav_78blv_1",PL="_link_78blv_19",RL="_navMenu_78blv_29",AL="_navItem_78blv_41",kL="_auth_78blv_43",xL="_cart_78blv_45",NL="_h1_78blv_65",DL="_red_78blv_77",bL="_isActive_78blv_85",OL="_notActive_78blv_93",LL="_active_78blv_113",ML="_icon_78blv_121",VL="_logout_78blv_131",FL="_menuBtn_78blv_159",jL="_menuPiece_78blv_169",UL="_middleBar_78blv_185",BL="_crossBtn_78blv_201",$L="_show_78blv_245",ve={nav:CL,link:PL,navMenu:RL,navItem:AL,auth:kL,cart:xL,h1:NL,red:DL,isActive:bL,notActive:OL,active:LL,icon:ML,logout:VL,menuBtn:FL,menuPiece:jL,middleBar:UL,crossBtn:BL,show:$L},zL="data:image/svg+xml,%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%20-2%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16%2015.503A5.041%205.041%200%201%200%2016%205.42a5.041%205.041%200%200%200%200%2010.083zm0%202.215c-6.703%200-11%203.699-11%205.5v3.363h22v-3.363c0-2.178-4.068-5.5-11-5.5z'/%3e%3c/svg%3e",HL="data:image/svg+xml,%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M6.29977%205H21L19%2012H7.37671M20%2016H8L6%203H3M9%2020C9%2020.5523%208.55228%2021%208%2021C7.44772%2021%207%2020.5523%207%2020C7%2019.4477%207.44772%2019%208%2019C8.55228%2019%209%2019.4477%209%2020ZM20%2020C20%2020.5523%2019.5523%2021%2019%2021C18.4477%2021%2018%2020.5523%2018%2020C18%2019.4477%2018.4477%2019%2019%2019C19.5523%2019%2020%2019.4477%2020%2020Z'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e";var PI={exports:{}},RI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=F;function WL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qL=typeof Object.is=="function"?Object.is:WL,KL=lu.useSyncExternalStore,GL=lu.useRef,QL=lu.useEffect,YL=lu.useMemo,XL=lu.useDebugValue;RI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=GL(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=YL(function(){function u(_){if(!c){if(c=!0,d=_,_=r(_),i!==void 0&&o.hasValue){var C=o.value;if(i(C,_))return f=C}return f=_}if(C=f,qL(d,_))return C;var R=r(_);return i!==void 0&&i(C,R)?C:(d=_,f=R)}var c=!1,d,f,m=n===void 0?null:n;return[function(){return u(e())},m===null?void 0:function(){return u(m())}]},[e,n,r,i]);var l=KL(t,s[0],s[1]);return QL(function(){o.hasValue=!0,o.value=l},[l]),XL(l),l};PI.exports=RI;var JL=PI.exports,gn="default"in uf?pi:uf,l0=Symbol.for("react-redux-context"),u0=typeof globalThis<"u"?globalThis:{};function ZL(){if(!gn.createContext)return{};const t=u0[l0]??(u0[l0]=new Map);let e=t.get(gn.createContext);return e||(e=gn.createContext(null),t.set(gn.createContext,e)),e}var Vi=ZL(),eM=()=>{throw new Error("uSES not initialized!")};function Og(t=Vi){return function(){return gn.useContext(t)}}var AI=Og(),kI=eM,tM=t=>{kI=t},nM=(t,e)=>t===e;function rM(t=Vi){const e=t===Vi?AI:Og(t),n=(r,i={})=>{const{equalityFn:s=nM,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:d,identityFunctionCheck:f}=e();gn.useRef(!0);const m=gn.useCallback({[r.name](C){return r(C)}}[r.name],[r,d,o.stabilityCheck]),_=kI(u.addNestedSub,l.getState,c||l.getState,m,s);return gn.useDebugValue(_),_};return Object.assign(n,{withTypes:()=>n}),n}var sr=rM();function iM(t){t()}function sM(){let t=null,e=null;return{clear(){t=null,e=null},notify(){iM(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var c0={notify(){},get:()=>[]};function oM(t,e){let n,r=c0,i=0,s=!1;function o(R){d();const D=r.subscribe(R);let I=!1;return()=>{I||(I=!0,D(),f())}}function l(){r.notify()}function u(){C.onStateChange&&C.onStateChange()}function c(){return s}function d(){i++,n||(n=t.subscribe(u),r=sM())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=c0)}function m(){s||(s=!0,d())}function _(){s&&(s=!1,f())}const C={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:_,getListeners:()=>r};return C}var aM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lM=typeof navigator<"u"&&navigator.product==="ReactNative",uM=aM||lM?gn.useLayoutEffect:gn.useEffect;function cM({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=gn.useMemo(()=>{const c=oM(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),l=gn.useMemo(()=>t.getState(),[t]);uM(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const u=e||Vi;return gn.createElement(u.Provider,{value:o},n)}var dM=cM;function xI(t=Vi){const e=t===Vi?AI:Og(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var hM=xI();function fM(t=Vi){const e=t===Vi?hM:xI(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var qr=fM();tM(JL.useSyncExternalStoreWithSelector);function pM(){const t=ln(),e=sr(s=>s.ui.navShown),n=qr(),r=()=>n(lt.toggleNav(!0)),i=()=>{n(lt.toggleNav(!1))};return T.jsxs("nav",{className:ve.nav,children:[T.jsx(Kt,{to:"/",className:ve.link,children:T.jsxs("h1",{className:ve.h1,children:["React",T.jsx("span",{className:ve.red,children:"Commerce"})]})}),!e&&T.jsxs("div",{className:ve.menuBtn,onClick:r,children:[T.jsx("div",{className:ve.menuPiece}),T.jsx("div",{className:`${ve.menuPiece} ${ve.middleBar}`}),T.jsx("div",{className:ve.menuPiece})]}),e&&T.jsx("div",{className:ve.crossBtn,onClick:i,children:"X"}),T.jsxs("div",{onClick:i,className:`${ve.navMenu} ${e?ve.show:""}`,children:[T.jsx(Wh,{className:({isActive:s})=>s?`${ve.active} ${ve.link} ${ve.navItem}`:`${ve.link} ${ve.navItem}`,to:"/",children:"Home"}),T.jsx(Wh,{className:({isActive:s})=>s?`${ve.active} ${ve.link} ${ve.navItem}`:`${ve.link} ${ve.navItem}`,to:"/shop",children:"Shop"}),T.jsx(Wh,{className:({isActive:s})=>s?`${ve.active} ${ve.link} ${ve.navItem}`:`${ve.link} ${ve.navItem}`,to:"/contactUs",children:"Contact Us"}),!t&&T.jsx(Kt,{to:"/auth?mode=login",className:`${ve.link} ${ve.auth}`,children:T.jsx("img",{className:ve.icon,src:zL,alt:"person icon"})}),t&&T.jsx(Kt,{className:`${ve.link} ${ve.cart}`,to:"/cart",children:T.jsx("img",{className:ve.icon,src:HL,alt:"cart icon"})}),t&&T.jsx(IA,{method:"POST",action:"/logout",className:`${ve.link} ${ve.logout} ${ve.navItem}`,children:T.jsx("button",{children:"Logout"})})]})]})}const mM="_footer_rtxc2_1",gM="_upperContainer_rtxc2_19",yM="_links_rtxc2_33",vM="_newsLetter_rtxc2_35",_M="_link_rtxc2_33",wM="_columnHeading_rtxc2_45",EM="_credits_rtxc2_79",TM="_love_rtxc2_91",SM="_name_rtxc2_99",IM="_column_rtxc2_45",CM="_h1_rtxc2_133",PM="_red_rtxc2_147",RM="_subBtn_rtxc2_171",AM="_subEmailInput_rtxc2_173",kM="_form_rtxc2_251",xM="_compShown_rtxc2_273",NM="_legalShown_rtxc2_275",Ae={footer:mM,upperContainer:gM,links:yM,newsLetter:vM,link:_M,columnHeading:wM,credits:EM,love:TM,name:SM,column:IM,h1:CM,red:PM,subBtn:RM,subEmailInput:AM,form:kM,compShown:xM,legalShown:NM};function DM(){const t=Qn(),[e,n]=F.useState(!1),[r,i]=F.useState(!1),s=F.useRef(null);function o(l){var u,c,d,f;l.preventDefault(),s&&((u=s.current)!=null&&u.value.includes("@"))&&((c=s.current)!=null&&c.value.includes("gmail.com"))||(d=s.current)!=null&&d.value.includes("yahoo.com")||(f=s.current)!=null&&f.value.includes("outlook.com")?(me("success","Subscribed to NewsLetter!"),t("/")):me("error","Please enter a valid Email!")}return T.jsxs("footer",{className:Ae.footer,children:[T.jsx("h1",{className:Ae.h1,children:T.jsxs(Kt,{to:"/",onClick:()=>{window.location.pathname==="/React-Ecommerce"&&window.scroll({top:0,behavior:"smooth"})},className:Ae.link,children:["React",T.jsx("span",{className:Ae.red,children:"Commerce"})]})}),T.jsxs("div",{className:Ae.upperContainer,children:[T.jsxs("div",{className:Ae.column,children:[T.jsxs("h3",{onClick:()=>n(l=>!l),className:Ae.columnHeading,children:["Company ",e?"<":">"]}),T.jsxs("div",{className:`${Ae.links} ${e?Ae.compShown:""}`,children:[T.jsx(Kt,{className:Ae.link,to:"/",children:"Home"}),T.jsx(Kt,{className:Ae.link,to:"/shop/category/all",children:"Shop"}),T.jsx(Kt,{className:Ae.link,to:"/auth?mode=login",children:"Login"}),T.jsx(Kt,{className:Ae.link,to:"/auth?mode=signup",children:"Signup"}),T.jsx(Kt,{className:Ae.link,to:"/contactUs",children:"Contact Us"})]})]}),T.jsxs("div",{className:Ae.column,children:[T.jsxs("h3",{onClick:()=>i(l=>!l),className:Ae.columnHeading,children:["Legal ",r?"<":">"]}),T.jsxs("div",{className:`${Ae.links} ${r?Ae.legalShown:""}`,children:[T.jsx(Kt,{target:"_blank",className:Ae.link,to:"https://codeletdigital.com/about",children:"Company Policy"}),T.jsx(Kt,{className:Ae.link,target:"_blank",to:"https://www.linkedin.com/in/hassan-bilal-dev",children:"Terms & Conditions"}),T.jsx(Kt,{className:Ae.link,to:"https://github.com/hassansheikh33/React-Ecommerce",target:"_blank",children:"Terms of Use"}),T.jsx(Kt,{target:"_blank",className:Ae.link,to:"https://github.com/hassansheikh33/React-Ecommerce",children:"Copyright"})]})]}),T.jsxs("div",{className:Ae.newsLetter,children:[T.jsx("h3",{className:Ae.columnHeading,children:"Subscribe to our newsletter"}),T.jsxs("form",{onSubmit:o,className:Ae.form,children:[T.jsx("input",{className:Ae.subEmailInput,type:"email",placeholder:"enter your email",ref:s}),T.jsx("button",{type:"submit",className:Ae.subBtn,children:"Subscribe"})]})]})]}),T.jsx("hr",{className:Ae.divider}),T.jsxs("p",{className:Ae.credits,children:["Made with ",T.jsx("span",{className:Ae.love,children:"love"})," by"," ",T.jsx("a",{className:Ae.name,href:"https://github.com/hassansheikh33",target:"_blank",children:"Muhammad Hassan Bilal"})]})]})}const bM="_notificationsContainer_1b9nc_1",OM="_notification_1b9nc_1",LM="_error_1b9nc_37",MM="_success_1b9nc_45",VM="_progress_1b9nc_53",ba={notificationsContainer:bM,notification:OM,error:LM,success:MM,progress:VM};function FM(){const t=sr(e=>e.ui.notifications);if(t.length>0)return T.jsx("div",{className:ba.notificationsContainer,children:t.map((e,n)=>T.jsx("div",{className:`${ba.notification} ${e.type==="error"?ba.error:e.type==="progress"?ba.progress:ba.success}`,children:T.jsx("p",{children:e.title})},n))})}function jM(){const t=ln(),e=QE();F.useEffect(()=>{if(t){const o=uI();o&&o>0?setTimeout(()=>{if(ln()&&t!=="token expired"){me("error","Session expired, please login again"),e(null,{action:"/logout",method:"POST"});return}},o):o&&o<=0&&(me("error","Session expired, please login again"),e(null,{action:"/logout",method:"POST"}))}else return},[t,e,me]),F.useEffect(()=>{(async()=>{t&&(await D2(t)||(me("error","Unauthenticated User"),e(null,{action:"/logout",method:"POST"})))})()},[t]);const n=Hi().pathname,r=sr(o=>o.ui.navShown),i=qr(),s=()=>{r&&i(lt.toggleNav(!1))};return F.useEffect(()=>{n.includes("order")||window.scroll({top:0,behavior:"smooth"})},[n]),T.jsxs(T.Fragment,{children:[T.jsx("header",{children:T.jsx(pM,{})}),T.jsxs("div",{onClick:s,children:[T.jsx("main",{className:af.content,children:T.jsxs(F.Suspense,{fallback:T.jsxs("div",{className:af.FallbackContainer,children:[T.jsx("h1",{children:"Loading.... "}),T.jsx("div",{className:af.spinner})]}),children:[T.jsx(FM,{}),T.jsx(Dd,{})]})}),T.jsx(DM,{})]})]})}function UM(){const t=WE();return console.log(t,typeof t),T.jsxs("div",{style:{textAlign:"center"},children:[T.jsx("h1",{children:"Some Error Occured"}),t.data&&T.jsxs("h2",{children:["Details :",t.data]}),!t.data&&T.jsx("h2",{children:t.toString()}),T.jsx("p",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>window.history.back(),children:"Go back?"})]})}const BM="_productContainer_1s62o_1",$M="_image_1s62o_9",zM="_priceRating_1s62o_19",HM="_price_1s62o_19",WM="_rating_1s62o_43",qM="_pointer_1s62o_57",KM="_buttonContainer_1s62o_65",GM="_red_1s62o_75",QM="_seeDetailsBtn_1s62o_83",Ir={productContainer:BM,image:$M,priceRating:zM,price:HM,rating:WM,pointer:qM,buttonContainer:KM,red:GM,seeDetailsBtn:QM},YM="_card_1krw5_1",XM={card:YM};function uu(t){return T.jsx("div",{className:`${XM.card} ${t.className?t.className:""}`,style:t.style,children:t.children})}const JM="_btn_n8j9c_1",d0={btn:JM};function Fi(t){return T.jsx("button",{disabled:t.disabled,type:t.type?t.type:"button",className:t.className?`${d0.btn} ${t.className}`:d0.btn,onClick:t.onClick,children:t.children})}const ZM=t=>async e=>{if(window.navigator.onLine){e(lt.setLoading(!0));const n=Zo(ta,"users",t),r=await wg(n);if(r.exists()){const i=r.data();e(au.setCart(i.cart))}e(lt.setLoading(!1))}else me("error","Please connect to an internet connection")},rh=(t,e)=>async()=>{try{const n=Zo(ta,"users",t);await fb(n,{cart:e})}catch(n){console.log(n),me("error","Could not update cart, please try again later!")}},Lg=(t,e)=>async(n,r)=>{if(window.navigator.onLine)try{n(au.addItem(e));const i=r().cart;await n(rh(t,i)),me("success","Item added to Cart")}catch(i){me("error","Could not add item to cart, please try again later!"),console.error(i)}else me("error","Please connect to an internet connection and try again")},eV=(t,e)=>async(n,r)=>{if(window.navigator.onLine)try{n(au.removeItem(e));const i=r().cart;await n(rh(t,i)),me("error","item removed from cart!")}catch(i){me("error","Could not remove item from cart, please try again later!"),console.error(i)}else me("error","Please connect to an internet connection and try again")},tV=(t,e)=>async(n,r)=>{if(window.navigator.onLine)try{n(au.deleteOneItem(e));const i=r().cart;await n(rh(t,i)),me("error","Item deleted from cart!")}catch(i){me("error","Could not delete item from cart, please try again later!"),console.error(i)}else me("error","Please connect to an internet connection and try again")},NI=(t,e)=>async(n,r)=>{if(window.navigator.onLine)try{n(au.deleteAll());const i=r().cart;await n(rh(t,i)),me(e.type,e.title)}catch{me("error","Could not empty cart, please try again later!")}else me("error","Please connect to an internet connection and try again")},nV=t=>async()=>{if(window.navigator.onLine)try{const e=JD(ta,"orders");await pb(e,t)}catch{me("error","Could not place an order, please try again later!")}else me("error","Please connect to an internet connection and try again")};function Mg(t){const e=ln(),n=qr(),r=()=>{e?n(Lg(e,{...t.product,amount:1})):me("error","Please Login to add items to Cart!")},i=()=>{me("progress","Redirecting to product description"),t.onClick()};return T.jsxs(uu,{className:Ir.productContainer,children:[T.jsxs("div",{className:Ir.pointer,onClick:i,children:[T.jsx("img",{src:t.product.image,alt:"product image",className:Ir.image}),T.jsxs("h3",{children:[t.product.title.slice(0,30),"..."]})]}),T.jsx("hr",{}),T.jsxs("p",{className:Ir.priceRating,children:[T.jsxs("span",{className:Ir.price,children:["$",t.product.price]}),T.jsxs("span",{className:Ir.rating,children:[T.jsxs("span",{children:[t.product.rating.rate," stars"]}),T.jsxs("span",{children:["(",t.product.rating.count," ratings)"]})]})]}),T.jsxs("div",{className:Ir.buttonContainer,children:[T.jsx(Fi,{onClick:r,className:Ir.red,children:"Add to Cart"}),T.jsx(Fi,{className:Ir.seeDetailsBtn,onClick:i,children:"See Details"})]})]})}const rV="_heading_1wwxg_1",iV="_filter_1wwxg_13",sV="_label_1wwxg_25",oV="_select_1wwxg_39",Oa={heading:rV,filter:iV,label:sV,select:oV},aV="_productsContainer_tddlx_1",lV={productsContainer:aV};function DI(t){return T.jsx("div",{style:t.style,className:lV.productsContainer,children:t.children})}function uV(){const{data:t,category:e}=Go(),[n,r]=F.useState("none"),i=u=>{r(u.target.value)};let s=[];switch(n){case"PLTH":s=t.sort((u,c)=>u.price-c.price);break;case"PHTL":s=t.sort((u,c)=>c.price-u.price);break;case"RLTH":s=t.sort((u,c)=>u.rating.rate-c.rating.rate);break;case"RHTL":s=t.sort((u,c)=>c.rating.rate-u.rating.rate);break;default:s=t.sort(()=>.5-Math.random())}const[o]=F.useState(s),l=Qn();return T.jsxs("div",{className:Oa.container,children:[T.jsx("h1",{className:Oa.heading,children:e}),T.jsxs("div",{className:Oa.filter,children:[T.jsx("label",{htmlFor:"filter",className:Oa.label,children:"Sort by"}),T.jsxs("select",{name:"filter",id:"filter",className:Oa.select,value:n,onChange:i,children:[T.jsx("option",{value:"none",children:"none"}),T.jsx("option",{value:"PLTH",children:"Price: Low to High"}),T.jsx("option",{value:"PHTL",children:"Price: High to Low"}),T.jsx("option",{value:"RLTH",children:"Rating: Low to High"}),T.jsx("option",{value:"RHTL",children:"Rating: High to Low"})]})]}),T.jsx(DI,{children:o.map(u=>T.jsx(Mg,{onClick:()=>l(`/shop/category/${e}/${u.id}`),product:u},u.id))})]})}var bI={exports:{}},cV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dV=cV,hV=dV;function OI(){}function LI(){}LI.resetWarningCache=OI;var fV=function(){function t(r,i,s,o,l,u){if(u!==hV){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LI,resetWarningCache:OI};return n.PropTypes=n,n};bI.exports=fV();var pV=bI.exports;const He=Ho(pV);function mV(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var MI=F,gV=mV(MI);function h0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var vV=!!(typeof window<"u"&&window.document&&window.document.createElement);function _V(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function u(){l=t(o.map(function(d){return d.props})),c.canUseDOM?e(l):n&&(l=n(l))}var c=function(d){yV(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var C=l;return l=void 0,o=[],C};var m=f.prototype;return m.UNSAFE_componentWillMount=function(){o.push(this),u()},m.componentDidUpdate=function(){u()},m.componentWillUnmount=function(){var C=o.indexOf(this);o.splice(C,1),u()},m.render=function(){return gV.createElement(s,this.props)},f}(MI.PureComponent);return h0(c,"displayName","SideEffect("+r(s)+")"),h0(c,"canUseDOM",vV),c}}var wV=_V;const EV=Ho(wV);var TV=typeof Element<"u",SV=typeof Map=="function",IV=typeof Set=="function",CV=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function yc(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!yc(t[r],e[r]))return!1;return!0}var s;if(SV&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!yc(r.value[1],e.get(r.value[0])))return!1;return!0}if(IV&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(CV&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(TV&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!yc(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var PV=function(e,n){try{return yc(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const RV=Ho(PV);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var f0=Object.getOwnPropertySymbols,AV=Object.prototype.hasOwnProperty,kV=Object.prototype.propertyIsEnumerable;function xV(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function NV(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var DV=NV()?Object.assign:function(t,e){for(var n,r=xV(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)AV.call(n,o)&&(r[o]=n[o]);if(f0){i=f0(n);for(var l=0;l<i.length;l++)kV.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};const bV=Ho(DV);var ms={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},de={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(de).map(function(t){return de[t]});var We={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},fd={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},jl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},OV=Object.keys(fd).reduce(function(t,e){return t[fd[e]]=e,t},{}),LV=[de.NOSCRIPT,de.SCRIPT,de.STYLE],Bn="data-react-helmet",MV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VV=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},FV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jV=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},p0=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},UV=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Lp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},BV=function(e){var n=Po(e,de.TITLE),r=Po(e,jl.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Po(e,jl.DEFAULT_TITLE);return n||i||void 0},$V=function(e){return Po(e,jl.ON_CHANGE_CLIENT_STATE)||function(){}},lf=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return Zt({},r,i)},{})},zV=function(e,n){return n.filter(function(r){return typeof r[de.BASE]<"u"}).map(function(r){return r[de.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var l=s[o],u=l.toLowerCase();if(e.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},La=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&KV("Helmet: "+e+' should be of type "Array". Instead found type "'+MV(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var l={};o.filter(function(m){for(var _=void 0,C=Object.keys(m),R=0;R<C.length;R++){var D=C[R],I=D.toLowerCase();n.indexOf(I)!==-1&&!(_===We.REL&&m[_].toLowerCase()==="canonical")&&!(I===We.REL&&m[I].toLowerCase()==="stylesheet")&&(_=I),n.indexOf(D)!==-1&&(D===We.INNER_HTML||D===We.CSS_TEXT||D===We.ITEM_PROP)&&(_=D)}if(!_||!m[_])return!1;var y=m[_].toLowerCase();return i[_]||(i[_]={}),l[_]||(l[_]={}),i[_][y]?!1:(l[_][y]=!0,!0)}).reverse().forEach(function(m){return s.push(m)});for(var u=Object.keys(l),c=0;c<u.length;c++){var d=u[c],f=bV({},i[d],l[d]);i[d]=f}return s},[]).reverse()},Po=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},HV=function(e){return{baseTag:zV([We.HREF,We.TARGET],e),bodyAttributes:lf(ms.BODY,e),defer:Po(e,jl.DEFER),encode:Po(e,jl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:lf(ms.HTML,e),linkTags:La(de.LINK,[We.REL,We.HREF],e),metaTags:La(de.META,[We.NAME,We.CHARSET,We.HTTPEQUIV,We.PROPERTY,We.ITEM_PROP],e),noscriptTags:La(de.NOSCRIPT,[We.INNER_HTML],e),onChangeClientState:$V(e),scriptTags:La(de.SCRIPT,[We.SRC,We.INNER_HTML],e),styleTags:La(de.STYLE,[We.CSS_TEXT],e),title:BV(e),titleAttributes:lf(ms.TITLE,e)}},Mp=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Mp(e)},0)}}(),m0=function(e){return clearTimeout(e)},WV=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Mp:global.requestAnimationFrame||Mp,qV=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||m0:global.cancelAnimationFrame||m0,KV=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Ma=null,GV=function(e){Ma&&qV(Ma),e.defer?Ma=WV(function(){g0(e,function(){Ma=null})}):(g0(e),Ma=null)},g0=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,u=e.noscriptTags,c=e.onChangeClientState,d=e.scriptTags,f=e.styleTags,m=e.title,_=e.titleAttributes;Vp(de.BODY,i),Vp(de.HTML,s),QV(m,_);var C={baseTag:Ys(de.BASE,r),linkTags:Ys(de.LINK,o),metaTags:Ys(de.META,l),noscriptTags:Ys(de.NOSCRIPT,u),scriptTags:Ys(de.SCRIPT,d),styleTags:Ys(de.STYLE,f)},R={},D={};Object.keys(C).forEach(function(I){var y=C[I],w=y.newTags,b=y.oldTags;w.length&&(R[I]=w),b.length&&(D[I]=C[I].oldTags)}),n&&n(),c(e,R,D)},VI=function(e){return Array.isArray(e)?e.join(""):e},QV=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=VI(e)),Vp(de.TITLE,n)},Vp=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Bn),s=i?i.split(","):[],o=[].concat(s),l=Object.keys(n),u=0;u<l.length;u++){var c=l[u],d=n[c]||"";r.getAttribute(c)!==d&&r.setAttribute(c,d),s.indexOf(c)===-1&&s.push(c);var f=o.indexOf(c);f!==-1&&o.splice(f,1)}for(var m=o.length-1;m>=0;m--)r.removeAttribute(o[m]);s.length===o.length?r.removeAttribute(Bn):r.getAttribute(Bn)!==l.join(",")&&r.setAttribute(Bn,l.join(","))}},Ys=function(e,n){var r=document.head||document.querySelector(de.HEAD),i=r.querySelectorAll(e+"["+Bn+"]"),s=Array.prototype.slice.call(i),o=[],l=void 0;return n&&n.length&&n.forEach(function(u){var c=document.createElement(e);for(var d in u)if(u.hasOwnProperty(d))if(d===We.INNER_HTML)c.innerHTML=u.innerHTML;else if(d===We.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{var f=typeof u[d]>"u"?"":u[d];c.setAttribute(d,f)}c.setAttribute(Bn,"true"),s.some(function(m,_){return l=_,c.isEqualNode(m)})?s.splice(l,1):o.push(c)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return r.appendChild(u)}),{oldTags:s,newTags:o}},FI=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},YV=function(e,n,r,i){var s=FI(r),o=VI(n);return s?"<"+e+" "+Bn+'="true" '+s+">"+Lp(o,i)+"</"+e+">":"<"+e+" "+Bn+'="true">'+Lp(o,i)+"</"+e+">"},XV=function(e,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===We.INNER_HTML||c===We.CSS_TEXT)}).reduce(function(c,d){var f=typeof s[d]>"u"?d:d+'="'+Lp(s[d],r)+'"';return c?c+" "+f:f},""),l=s.innerHTML||s.cssText||"",u=LV.indexOf(e)===-1;return i+"<"+e+" "+Bn+'="true" '+o+(u?"/>":">"+l+"</"+e+">")},"")},jI=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[fd[i]||i]=e[i],r},n)},JV=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[OV[i]||i]=e[i],r},n)},ZV=function(e,n,r){var i,s=(i={key:n},i[Bn]=!0,i),o=jI(r,s);return[pi.createElement(de.TITLE,o,n)]},eF=function(e,n){return n.map(function(r,i){var s,o=(s={key:i},s[Bn]=!0,s);return Object.keys(r).forEach(function(l){var u=fd[l]||l;if(u===We.INNER_HTML||u===We.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[u]=r[l]}),pi.createElement(e,o)})},Cr=function(e,n,r){switch(e){case de.TITLE:return{toComponent:function(){return ZV(e,n.title,n.titleAttributes)},toString:function(){return YV(e,n.title,n.titleAttributes,r)}};case ms.BODY:case ms.HTML:return{toComponent:function(){return jI(n)},toString:function(){return FI(n)}};default:return{toComponent:function(){return eF(e,n)},toString:function(){return XV(e,n,r)}}}},UI=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,u=e.noscriptTags,c=e.scriptTags,d=e.styleTags,f=e.title,m=f===void 0?"":f,_=e.titleAttributes;return{base:Cr(de.BASE,n,i),bodyAttributes:Cr(ms.BODY,r,i),htmlAttributes:Cr(ms.HTML,s,i),link:Cr(de.LINK,o,i),meta:Cr(de.META,l,i),noscript:Cr(de.NOSCRIPT,u,i),script:Cr(de.SCRIPT,c,i),style:Cr(de.STYLE,d,i),title:Cr(de.TITLE,{title:m,titleAttributes:_},i)}},tF=function(e){var n,r;return r=n=function(i){jV(s,i);function s(){return VV(this,s),UV(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!RV(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,u){if(!u)return null;switch(l.type){case de.SCRIPT:case de.NOSCRIPT:return{innerHTML:u};case de.STYLE:return{cssText:u}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var u,c=l.child,d=l.arrayTypeChildren,f=l.newChildProps,m=l.nestedChildren;return Zt({},d,(u={},u[c.type]=[].concat(d[c.type]||[],[Zt({},f,this.mapNestedChildrenToProps(c,m))]),u))},s.prototype.mapObjectTypeChildren=function(l){var u,c,d=l.child,f=l.newProps,m=l.newChildProps,_=l.nestedChildren;switch(d.type){case de.TITLE:return Zt({},f,(u={},u[d.type]=_,u.titleAttributes=Zt({},m),u));case de.BODY:return Zt({},f,{bodyAttributes:Zt({},m)});case de.HTML:return Zt({},f,{htmlAttributes:Zt({},m)})}return Zt({},f,(c={},c[d.type]=Zt({},m),c))},s.prototype.mapArrayTypeChildrenToProps=function(l,u){var c=Zt({},u);return Object.keys(l).forEach(function(d){var f;c=Zt({},c,(f={},f[d]=l[d],f))}),c},s.prototype.warnOnInvalidChildren=function(l,u){return!0},s.prototype.mapChildrenToProps=function(l,u){var c=this,d={};return pi.Children.forEach(l,function(f){if(!(!f||!f.props)){var m=f.props,_=m.children,C=p0(m,["children"]),R=JV(C);switch(c.warnOnInvalidChildren(f,_),f.type){case de.LINK:case de.META:case de.NOSCRIPT:case de.SCRIPT:case de.STYLE:d=c.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:R,nestedChildren:_});break;default:u=c.mapObjectTypeChildren({child:f,newProps:u,newChildProps:R,nestedChildren:_});break}}}),u=this.mapArrayTypeChildrenToProps(d,u),u},s.prototype.render=function(){var l=this.props,u=l.children,c=p0(l,["children"]),d=Zt({},c);return u&&(d=this.mapChildrenToProps(u,d)),pi.createElement(e,d)},FV(s,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),s}(pi.Component),n.propTypes={base:He.object,bodyAttributes:He.object,children:He.oneOfType([He.arrayOf(He.node),He.node]),defaultTitle:He.string,defer:He.bool,encodeSpecialCharacters:He.bool,htmlAttributes:He.object,link:He.arrayOf(He.object),meta:He.arrayOf(He.object),noscript:He.arrayOf(He.object),onChangeClientState:He.func,script:He.arrayOf(He.object),style:He.arrayOf(He.object),title:He.string,titleAttributes:He.object,titleTemplate:He.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=UI({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},nF=function(){return null},rF=EV(HV,GV,UI)(nF),ji=tF(rF);ji.renderStatic=ji.rewind;function iF(){const t=Go();return T.jsxs(T.Fragment,{children:[T.jsxs(ji,{children:[T.jsxs("title",{children:["Shop - ",t.category]}),T.jsx("meta",{name:"description",content:`20% off! Browse all our ${t.category} products at awesome prices! Buy yours now!`})]}),T.jsx(uV,{}),";"]})}const BI=async({params:t})=>{const e=t.categoryName;let n="";if(e==="jewelery"||e==="men's clothing"||e==="women's clothing"||e==="electronics")n=`/category/${e}`;else throw new Error("unrecognized category");try{const r=await fetch(`https://fakestoreapi.com/products/${n}`);if(!r.ok)throw new Error(`Error ${r.status}: ${r.statusText}`);return{data:await r.json(),category:e}}catch(r){console.log(r)}},sF=Object.freeze(Object.defineProperty({__proto__:null,CategoryProductsLoader:BI,default:iF},Symbol.toStringTag,{value:"Module"})),oF="_browseCategories_1bfac_1",aF="_categoriesContainer_1bfac_19",lF="_categoryName_1bfac_33",uF="_category_1bfac_33",cF="_image_1bfac_61",Va={browseCategories:oF,categoriesContainer:aF,categoryName:lF,category:uF,image:cF},dF="/React-Ecommerce/assets/jewelery-BYC-D-Cd.jpg",hF="/React-Ecommerce/assets/womenClothing-DS-wx0HS.jpg",fF="/React-Ecommerce/assets/electronics-DytI9Af2.jpg",pF="/React-Ecommerce/assets/menClothing-BVrhLnPe.jpg",mF=[{name:"electronics",image:fF},{name:"jewelery",image:dF},{name:"men's clothing",image:pF},{name:"women's clothing",image:hF}];function Fp({title:t}){const e=Qn();return T.jsxs("div",{className:Va.browseCategories,children:[T.jsx("h2",{children:t}),T.jsx("div",{className:Va.categoriesContainer,children:mF.map((n,r)=>T.jsxs("div",{className:Va.category,children:[T.jsx("img",{className:Va.image,src:n.image,alt:"category image",id:"image",onClick:()=>e(`/shop/category/${n.name}`)}),T.jsx("p",{className:Va.categoryName,children:n.name})]},r))})]})}const gF="_heading_1455j_1",yF="_filter_1455j_11",vF="_label_1455j_23",_F="_select_1455j_37",Gu={heading:gF,filter:yF,label:vF,select:_F};function wF(t){const[e,n]=F.useState("none"),r=l=>{n(l.target.value)};let i=[];switch(e){case"PLTH":i=t.data.sort((l,u)=>l.price-u.price);break;case"PHTL":i=t.data.sort((l,u)=>u.price-l.price);break;case"RLTH":i=t.data.sort((l,u)=>l.rating.rate-u.rating.rate);break;case"RHTL":i=t.data.sort((l,u)=>u.rating.rate-l.rating.rate);break;default:i=t.data.sort(()=>.5-Math.random())}const[s]=F.useState(i),o=Qn();return T.jsxs("div",{children:[T.jsx("h1",{className:Gu.heading,children:"All Products"}),T.jsxs("div",{className:Gu.filter,children:[T.jsx("label",{htmlFor:"filter",className:Gu.label,children:"Sort by"}),T.jsxs("select",{name:"filter",className:Gu.select,id:"filter",value:e,onChange:r,children:[T.jsx("option",{value:"none",children:"none"}),T.jsx("option",{value:"PLTH",children:"Price: Low to High"}),T.jsx("option",{value:"PHTL",children:"Price: High to Low"}),T.jsx("option",{value:"RLTH",children:"Rating: Low to High"}),T.jsx("option",{value:"RHTL",children:"Rating: High to Low"})]})]}),T.jsx(DI,{children:s.map(l=>T.jsx(Mg,{onClick:()=>o(`/shop/category/${l.category}/${l.id}`),product:l},l.id))}),T.jsx(Fp,{title:"Browse By Category"})]})}function EF(){const t=Go();return T.jsxs(T.Fragment,{children:[T.jsxs(ji,{children:[T.jsx("title",{children:"Shop"}),T.jsx("meta",{name:"description",content:"20% off! Browse all our products at awesome prices! Buy yours now!"})]}),T.jsx(wF,{data:t}),";"]})}const $I=async()=>{try{const t=await fetch("https://fakestoreapi.com/products");if(!t.ok)throw new Error(`Error ${t.status}: ${t.statusText}`);return await t.json()}catch(t){console.log(t)}},TF=Object.freeze(Object.defineProperty({__proto__:null,AllProductsLoader:$I,default:EF},Symbol.toStringTag,{value:"Module"})),SF="_Itemcontainer_cffal_1",IF="_details_cffal_15",CF="_imageContainer_cffal_23",PF="_image_cffal_23",RF="_moreItems_cffal_59",AF="_red_cffal_81",kF="_capitalize_cffal_89",xF="_moreContainer_cffal_99",NF="_description_cffal_141",Pr={Itemcontainer:SF,details:IF,imageContainer:CF,image:PF,moreItems:RF,red:AF,capitalize:kF,moreContainer:xF,description:NF},DF="_qtyContainer_g774t_1",bF="_qtyBtn_g774t_13",OF="_qtyInput_g774t_15",LF="_decreaseBtn_g774t_61",MF="_increaseBtn_g774t_67",Xs={qtyContainer:DF,qtyBtn:bF,qtyInput:OF,decreaseBtn:LF,increaseBtn:MF};function zI(t){const e=qr(),n=s=>{t.setQty&&t.setQty(Number(s.target.value))},r=()=>{t.decreaseQty?t.decreaseQty():t.cartItem&&t.uid&&e(eV(t.uid,t.cartItem))},i=()=>{t.increaseQty?t.increaseQty():t.cartItem&&t.cartItem.amount<10&&t.uid&&e(Lg(t.uid,t.cartItem))};return T.jsxs("div",{className:`${Xs.qtyContainer} ${t.className?t.className:""}`,children:[T.jsx("button",{type:"button",className:`${Xs.qtyBtn} ${Xs.decreaseBtn}`,onClick:r,children:"-"}),t.qty&&T.jsx("p",{className:Xs.qtyInput,onChange:n,children:t.qty}),T.jsx("button",{className:`${Xs.qtyBtn} ${Xs.increaseBtn}`,onClick:i,children:"+"}),t.children]})}function VF(){const t=ln(),[e,n]=F.useState(1),r=$E(),i=Number(r.productId),s=qr(),o=Go(),l=o.filter(C=>C.id===i);if(l.length===0)throw new Error("Invalid Id of product");const u=l[0],c=o.filter(C=>C.id!==i),d=Qn(),f=()=>{t?s(Lg(t,{...u,amount:e})):me("error","Please Login to add items to Cart!"),n(1)},m=()=>{e!==10&&n(C=>C+1)},_=()=>{e!==1&&n(C=>C-1)};return T.jsxs("div",{children:[T.jsxs("div",{className:Pr.Itemcontainer,children:[T.jsx("div",{className:Pr.imageContainer,children:T.jsx("img",{src:u.image,alt:"product Image",className:Pr.image})}),T.jsxs("div",{className:Pr.details,children:[T.jsx("h1",{children:u.title}),T.jsx("p",{className:Pr.description,children:u.description}),T.jsxs("h3",{children:["$",u.price,"/-"]}),T.jsxs("p",{children:[u.rating.rate," stars (",u.rating.count," ratings)"]}),T.jsxs("div",{children:[T.jsx(zI,{qty:e,setQty:n,decreaseQty:_,increaseQty:m}),T.jsx(Fi,{onClick:f,className:Pr.red,children:"Add to Cart"})]})]})]}),T.jsxs("div",{className:Pr.moreItems,children:[T.jsxs("h2",{children:["Check out other products in"," ",T.jsx("span",{className:Pr.capitalize,children:u.category})]}),T.jsx("div",{className:Pr.moreContainer,children:c.map((C,R)=>T.jsx(Mg,{product:C,onClick:()=>d(`/shop/category/${C.category}/${C.id}`,{replace:!0})},R))})]})]})}function FF(){const t=$E(),e=Number(t.productId),i=Go().filter(s=>s.id===e)[0];return T.jsxs(T.Fragment,{children:[T.jsxs(ji,{children:[T.jsx("title",{children:i.title}),T.jsx("meta",{name:"description",content:`${i.title} : ${i.description} Buy Yours Now!`})]}),T.jsx(VF,{}),";"]})}const HI=async({params:t})=>{const e=t.categoryName;let n="";if(e==="jewelery"||e==="men's clothing"||e==="women's clothing"||e==="electronics")n=`category/${e}`;else throw new Error("unrecognized category");try{const r=await fetch(`https://fakestoreapi.com/products/${n}`);if(!r.ok)throw new Error(`Error ${r.status}: ${r.statusText}`);const i=await r.json();if(i.length>0)return i;throw new Error("No Data Found")}catch(r){console.log(r)}},jF=Object.freeze(Object.defineProperty({__proto__:null,default:FF,singleProductLoader:HI},Symbol.toStringTag,{value:"Module"})),UF="_container_10gwm_1",BF="_center_10gwm_11",$F="_cartDetails_10gwm_31",zF="_items_10gwm_41",HF="_ItemSummary_10gwm_59",WF="_summaryHeading_10gwm_71",qF="_summary_10gwm_71",KF="_checkoutBtn_10gwm_87",GF="_red_10gwm_95",QF="_clear_10gwm_101",YF="_loadingDiv_10gwm_109",XF="_spinner_10gwm_121",JF="_loading_10gwm_109",pt={container:UF,center:BF,cartDetails:$F,items:zF,ItemSummary:HF,summaryHeading:WF,summary:qF,checkoutBtn:KF,red:GF,clear:QF,loadingDiv:YF,spinner:XF,loading:JF},ZF="_image_dwljy_1",ej="_itemTitle_dwljy_13",tj="_itemContainer_dwljy_21",nj="_detailsContainer_dwljy_35",rj="_delBtn_dwljy_43",ij="_blue_dwljy_55",sj="_btnContainer_dwljy_97",es={image:ZF,itemTitle:ej,itemContainer:tj,detailsContainer:nj,delBtn:rj,blue:ij,btnContainer:sj};function oj({item:t}){const e=ln(),n=Qn(),r=qr(),i=()=>{e&&r(tV(e,t))};return T.jsxs(uu,{className:es.itemContainer,children:[T.jsx("img",{src:t.image,alt:"item image",className:es.image,onClick:()=>n(`/shop/category/${t.category}/${t.id}`)}),T.jsxs("div",{className:es.detailsContainer,children:[T.jsxs("h2",{className:es.itemTitle,onClick:()=>n(`/shop/category/${t.category}/${t.id}`),children:[t.title.slice(0,25),t.title.length>25?"...":""]}),T.jsxs("p",{children:[t.amount," x $",t.price.toFixed(2)," ="," ",T.jsxs("span",{className:es.blue,children:["$",(t.price*t.amount).toFixed(2)]})]}),T.jsxs("p",{children:[t.rating.rate," stars (",t.rating.count," ratings)"]}),T.jsx(zI,{uid:e||null,cartItem:{...t,amount:1},className:es.btnContainer,children:T.jsx(Fi,{className:es.delBtn,onClick:i,children:"Delete"})})]})]})}function aj(){const t=ln(),e=sr(d=>d.cart.cartItems),n=sr(d=>d.cart.totalAmount),r=sr(d=>d.cart.totalNumItems),i=sr(d=>d.ui.loading),s=qr(),o=()=>{t&&s(NI(t,{title:"Cart is Empty!",type:"error"}))};F.useEffect(()=>{t&&s(ZM(t))},[t,s]);const l=Qn(),u=sr(d=>d.ui.orderFormShown),c=()=>{s(lt.setOrderFormShown(!0)),l("/cart/order",{replace:!0})};return T.jsxs(T.Fragment,{children:[i&&T.jsxs("div",{className:pt.loadingDiv,children:[T.jsx("h2",{children:"Updating Cart"}),T.jsx("div",{className:pt.spinner})]}),e.length>0&&T.jsxs("div",{className:pt.container,children:[T.jsxs("h1",{className:pt.center,children:["Your ",T.jsx("span",{className:pt.red,children:"Cart"})]}),T.jsx("p",{className:pt.center,children:T.jsx(Fi,{onClick:o,className:pt.clear,children:"Clear Cart"})}),T.jsxs("div",{className:pt.cartDetails,children:[T.jsx("div",{className:pt.items,children:e.map(d=>T.jsx(oj,{item:d},d.id))}),T.jsxs(uu,{className:`${pt.ItemSummary} ${pt.center}`,children:[T.jsxs("h2",{className:pt.summaryHeading,children:["Cart ",T.jsx("span",{className:pt.summary,children:"Summary"})]}),T.jsx("hr",{}),T.jsxs("p",{children:["Total Amount: $",n.toFixed(2)]}),T.jsxs("p",{children:["Total Number of Items: ",r]}),u&&T.jsx("p",{className:pt.summary,children:"Please fill in the form below to place an order!"}),!u&&T.jsx(Fi,{onClick:c,className:pt.checkoutBtn,children:"Checkout?"})]})]}),u&&T.jsx(Dd,{}),T.jsx(Fp,{title:"Browse More Products"})]}),!i&&e.length===0&&T.jsxs("div",{className:`${pt.container} ${pt.empty}`,children:[T.jsxs("div",{className:pt.center,children:[T.jsxs("h1",{children:["Your Cart is ",T.jsx("span",{className:pt.red,children:"Empty"})]}),T.jsx("p",{children:"Please add some items to continue"})]}),T.jsx(Fp,{title:"Browse Products"})]})]})}function lj(){return T.jsxs(T.Fragment,{children:[T.jsxs(ji,{children:[T.jsx("title",{children:"Cart"}),T.jsx("meta",{name:"description",content:"View your cart, make an order!"})]}),T.jsx(aj,{}),";"]})}const WI=async()=>{const t=ln();return t&&t!=="token expired"?(Ns.dispatch(lt.setOrderFormShown(!1)),T.jsx(Dd,{})):Ni("/auth?mode=login")},uj=Object.freeze(Object.defineProperty({__proto__:null,cartLoader:WI,default:lj},Symbol.toStringTag,{value:"Module"})),cj="_container_1ksiy_1",dj="_red_1ksiy_15",hj="_heading_1ksiy_25",fj="_mesText_1ksiy_41",pj="_formContainer_1ksiy_51",mj="_label_1ksiy_67",gj="_input_1ksiy_79",yj="_fieldset_1ksiy_105",vj="_submitBtn_1ksiy_121",_j="_changeModeBtn_1ksiy_135",wj="_spinner_1ksiy_151",Ej="_loading_1ksiy_1",tt={container:cj,red:dj,heading:hj,mesText:fj,formContainer:pj,label:mj,input:gj,fieldset:yj,submitBtn:vj,changeModeBtn:_j,spinner:wj,loading:Ej};function Tj(){const t=sr(y=>y.ui.loading),[e,n]=F.useState({name:null,email:null,password:null}),r=qr(),[i,s]=F.useState(""),[o,l]=F.useState(""),[u,c]=F.useState(""),[d]=GE(),f=Qn(),m=d.get("mode"),_=m==="login";F.useEffect(()=>{if(m&&m!=="signup"&&m!=="login")throw new Error("Invalid authentication mode");m||f("/auth?mode=signup",{replace:!0})},[]);const C=y=>{s(y.target.value)},R=y=>{c(y.target.value)},D=y=>{l(y.target.value)},I=async y=>{if(y.preventDefault(),_)if(i.length===0||!i.includes("@")||!i.endsWith(".com")||u.length<8)i.length===0||!i.includes("@")||!i.endsWith(".com")?(me("error","Please enter a valid Email"),n(w=>({...w,email:"Please enter a valid Email. eg: abc@gmail.com"}))):n(w=>({...w,email:null})),u.length<8?(me("error","Please enter a valid password (min 8 characters)"),n(w=>({...w,password:"Please enter a valid password. (must include 8 digits)"}))):n(w=>({...w,password:null}));else{try{r(lt.setLoading(!0));const w=await mO(J_,i,u);r(lt.setToken(w.user.uid));const b=new Date;b.setMinutes(b.getMinutes()+30),localStorage.setItem("expiration",b.toISOString()),me("success","Login Successfull"),r(lt.setLoading(!1)),f("/")}catch(w){me("error",w.message),r(lt.setLoading(!1))}s(""),c("")}else if(i.length===0||!i.includes("@")||!i.endsWith(".com")||u.length<8||o===""||!o.includes(" "))i.length===0||!i.includes("@")||!i.endsWith(".com")?(me("error","Please enter a valid Email"),n(w=>({...w,email:"Please enter a valid Email. eg: abc@gmail.com"}))):n(w=>({...w,email:null})),u.length<8?(me("error","Please enter a valid password (min 8 characters)"),n(w=>({...w,password:"Please enter a valid password. (min 8 characters)"}))):n(w=>({...w,password:null})),o===""||!o.includes(" ")?(me("error","Please enter your valid full name"),n(w=>({...w,name:"Please enter your valid full name."}))):n(w=>({...w,name:null}));else{try{r(lt.setLoading(!0));const b=(await pO(J_,i.trim(),u.trim())).user.uid,U={email:i.trim(),name:o.trim(),uid:b,cart:{cartItems:[],totalNumItems:0,totalAmount:0}},k=Zo(ta,"users",b);await hb(k,U),r(lt.setToken(b));const S=new Date;S.setMinutes(S.getMinutes()+30),localStorage.setItem("expiration",S.toISOString()),me("success","User Registered Successfully."),r(lt.setLoading(!1)),f("/")}catch(w){me("error",w.message),r(lt.setLoading(!1))}l(""),s(""),c("")}};return T.jsx("div",{className:tt.container,children:T.jsxs(uu,{className:tt.formContainer,children:[T.jsx("h1",{className:tt.heading,children:_?"Login":"Signup"}),_&&T.jsxs("p",{className:tt.mesText,children:["Welcome! Please ",T.jsx("span",{className:tt.red,children:"Login"})," to make any purchase."]}),!_&&T.jsxs("p",{className:tt.mesText,children:["Please ",T.jsx("span",{className:tt.red,children:"Signup"})," and you will be automatically logged in to your account."]}),T.jsxs("form",{onSubmit:I,children:[!_&&T.jsxs("fieldset",{className:tt.fieldset,children:[T.jsx("label",{className:tt.label,htmlFor:"name",children:"Full Name*"}),T.jsx("input",{className:tt.input,value:o,placeholder:"eg: johndoe@gmail.com",type:"text",id:"name",onChange:D}),e.name&&T.jsx("p",{className:tt.red,children:e.name})]}),T.jsxs("fieldset",{className:tt.fieldset,children:[T.jsx("label",{className:tt.label,htmlFor:"Email",children:"Email*"}),T.jsx("input",{className:tt.input,value:i,placeholder:"eg: johndoe@gmail.com",type:"email",id:"Email",onChange:C}),e.email&&T.jsx("p",{className:tt.red,children:e.email})]}),T.jsxs("fieldset",{className:tt.fieldset,children:[T.jsx("label",{className:tt.label,htmlFor:"password",children:"Password*"}),T.jsx("input",{className:tt.input,value:u,placeholder:"Enter password (min 8 chatacters)",onChange:R,type:"password",id:"password"}),e.password&&T.jsx("p",{className:tt.red,children:e.password})]}),T.jsx(Fi,{type:"submit",className:tt.submitBtn,disabled:t,children:t?T.jsx("div",{className:tt.spinner}):_?"Login":"Register"})]}),T.jsx(Kt,{className:tt.changeModeBtn,to:`/auth?mode=${_?"signup":"login"}`,children:_?"Not a user? Signup Now":"Already a user? Login"})]})})}function Sj(){const[t]=GE(),e=t.get("mode");return T.jsxs(T.Fragment,{children:[T.jsxs(ji,{children:[T.jsx("title",{children:e}),T.jsx("meta",{name:"description",content:`${e} to add your favourite products to cart and place an order!`})]}),T.jsx(Tj,{}),";"]})}const qI=()=>{const t=ln();return!t||t==="token expired"?T.jsx(Dd,{}):Ni("/")},Ij=Object.freeze(Object.defineProperty({__proto__:null,authLoader:qI,default:Sj},Symbol.toStringTag,{value:"Module"})),Cj="_label_17nxw_1",Pj="_input_17nxw_15",Rj="_fieldset_17nxw_41",Aj="_textarea_17nxw_65",kj="_orderFormCard_17nxw_75",xj="_orderBtn_17nxw_85",Nj="_red_17nxw_93",Dj="_radioContainer_17nxw_101",bj="_cardLabel_17nxw_111",Be={label:Cj,input:Pj,fieldset:Rj,textarea:Aj,orderFormCard:kj,orderBtn:xj,red:Nj,radioContainer:Dj,cardLabel:bj};function Oj(){const t=F.useRef(null),e=sr(k=>k.cart),n=ln(),r=qr(),i=Qn(),s=Go(),[o,l]=F.useState(s.name),[u,c]=F.useState(s.email),d=F.useRef(null),[f,m]=F.useState(""),[_,C]=F.useState("cash"),[R,D]=F.useState({name:null,email:null,address:null,number:null,method:null}),I=k=>{l(k.target.value)},y=k=>{c(k.target.value)},w=k=>{m(k.target.value)},b=k=>{k.target.value==="cash"||k.target.value==="card"?C(k.target.value):D(S=>({...S,method:"Please choose a valid payment method"}))},U=k=>{var S,g,E,P,x,O,A,fe;if(k.preventDefault(),n){if(o===""||!o.includes(" ")||!u.includes("@")||!u.endsWith(".com")||u===""||f===""||f.length<10||f===""||((S=d==null?void 0:d.current)==null?void 0:S.value.toString())===""||!((g=d==null?void 0:d.current)!=null&&g.value.toString().includes("0"))||((E=d==null?void 0:d.current)==null?void 0:E.value.toString().length)>=12||((P=d==null?void 0:d.current)==null?void 0:P.value.toString().length)<11){o===""||!o.includes(" ")?D(ye=>({...ye,name:"Please enter a valid Full Name"})):D(ye=>({...ye,name:null})),!u.includes("@")||!u.endsWith(".com")||u===""?D(ye=>({...ye,email:"Please enter a valid Email"})):D(ye=>({...ye,email:null})),f===""||f.length<10||f===""?D(ye=>({...ye,address:"Please enter a valid Address (house #, st #, city, country)"})):D(ye=>({...ye,address:null})),((x=d==null?void 0:d.current)==null?void 0:x.value.toString())===""||!((O=d==null?void 0:d.current)!=null&&O.value.toString().includes("0"))||((A=d==null?void 0:d.current)==null?void 0:A.value.toString().length)>=12||((fe=d==null?void 0:d.current)==null?void 0:fe.value.toString().length)<11?D(ye=>({...ye,number:"Please enter a valid mobile number. eg: 03201119900"})):D(ye=>({...ye,number:null})),D(!_||_!=="card"&&_!=="cash"?ye=>({...ye,method:"Please choose a valid payment method: cash OR card"}):ye=>({...ye,method:null})),me("error","Pleas enter correct values");return}r(nV({name:o,email:u,address:f,number:Number(d.current.value),cart:e,payment_method:_,uid:n})),r(NI(n,{title:"Order Placed! We will send you a confirmation email",type:"success"})),r(lt.setOrderFormShown(!1)),i("/")}};return F.useEffect(()=>{var k;(k=t.current)==null||k.scrollIntoView({behavior:"smooth"})},[]),T.jsx(uu,{className:Be.orderFormCard,children:T.jsxs("form",{onSubmit:U,className:Be.orderForm,ref:t,children:[T.jsxs("fieldset",{className:Be.fieldset,children:[T.jsx("label",{htmlFor:"name",className:Be.label,children:"Your Name"}),T.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Enter full name. eg: John Doe",className:Be.input,value:o,onChange:I}),R&&R.name&&T.jsx("p",{className:Be.red,children:R.name})]}),T.jsxs("fieldset",{className:Be.fieldset,children:[T.jsx("label",{htmlFor:"email",className:Be.label,children:"Your Email"}),T.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Enter your email. eg: johndoe@gmail.com",className:Be.input,value:u,onChange:y}),R&&R.email&&T.jsx("p",{className:Be.red,children:R.email})]}),T.jsxs("fieldset",{className:Be.fieldset,children:[T.jsx("label",{htmlFor:"address",className:Be.label,children:"Your Address"}),T.jsx("textarea",{name:"address",id:"address",rows:2,className:`${Be.input} ${Be.textarea}`,value:f,placeholder:"Enter complete address, eg: house# 13, st. 14, lahore, cantt.",onChange:w}),R&&R.address&&T.jsx("p",{className:Be.red,children:R.address})]}),T.jsxs("fieldset",{className:Be.fieldset,children:[T.jsx("label",{htmlFor:"contact",className:Be.label,children:"Your Contact #"}),T.jsx("input",{type:"number",id:"contact",name:"contact",placeholder:"Enter your active Contact (11 digits (must include 0)) #. eg: 03201400114",className:Be.input,ref:d}),R&&R.number&&T.jsx("p",{className:Be.red,children:R.number})]}),T.jsxs("fieldset",{className:Be.fieldset,children:[T.jsx("label",{htmlFor:"payment",className:Be.label,children:"Payment Method"}),T.jsxs("div",{className:Be.radioContainer,children:[T.jsx("label",{htmlFor:"cash",children:"Cash"}),T.jsx("input",{type:"radio",name:"payment",id:"cash",defaultChecked:!0,value:"cash",onChange:b}),T.jsx("label",{htmlFor:"card",className:Be.cardLabel,children:"Card"}),T.jsx("input",{type:"radio",name:"payment",id:"card",value:"card",onChange:b})]}),R&&R.method&&T.jsx("p",{className:Be.red,children:R.method})]}),T.jsx(Fi,{type:"submit",className:Be.orderBtn,children:"Place Order"})]})})}function Lj(){return T.jsxs(T.Fragment,{children:[T.jsxs(ji,{children:[T.jsx("title",{children:"Order"}),T.jsx("meta",{name:"description",content:"Provide your details and place an order! Our team will contact you for confirming your order"})]}),T.jsx(Oj,{})]})}const KI=async()=>{const t=Ns.getState(),e=ln();if(e&&e!=="token expired"){t.ui.orderFormShown||Ns.dispatch(lt.setOrderFormShown(!0));const n=Zo(ta,"users",e),r=await wg(n);if(r.exists()){const i=r.data();return{name:i.name,email:i.email}}}else return Ni("/auth?mode=login")},Mj=Object.freeze(Object.defineProperty({__proto__:null,default:Lj,orderLoader:KI},Symbol.toStringTag,{value:"Module"})),Vj=dA([{path:"/",element:T.jsx(jM,{}),errorElement:T.jsx(UM,{}),children:[{index:!0,Component:F.lazy(()=>ei(()=>import("./HomePage-D_CR8BX7.js"),__vite__mapDeps([0,1])))},{path:"/shop",loader:()=>Ni("/shop/category/all")},{path:"/shop/category",loader:()=>Ni("/shop/category/all")},{path:"/shop/category/all",loader:$I,Component:F.lazy(()=>ei(()=>Promise.resolve().then(()=>TF),void 0))},{path:"/shop/category/:categoryName",loader:BI,Component:F.lazy(()=>ei(()=>Promise.resolve().then(()=>sF),void 0))},{path:"/shop/category/:categoryName/:productId",loader:HI,Component:F.lazy(()=>ei(()=>Promise.resolve().then(()=>jF),void 0))},{path:"/cart",loader:WI,Component:F.lazy(()=>ei(()=>Promise.resolve().then(()=>uj),void 0)),children:[{path:"/cart/order",Component:F.lazy(()=>ei(()=>Promise.resolve().then(()=>Mj),void 0)),loader:KI}]},{path:"/contactUs",Component:F.lazy(()=>ei(()=>import("./ContactUsPage-Br0aNhVy.js"),__vite__mapDeps([2,3])))},{path:"/auth",Component:F.lazy(()=>ei(()=>Promise.resolve().then(()=>Ij),void 0)),loader:qI},{path:"/logout",loader:wL,action:CI}]}],{basename:"/React-Ecommerce"});function Fj(){return T.jsx(_A,{router:Vj})}cf.createRoot(document.getElementById("root")).render(T.jsx(pi.StrictMode,{children:T.jsx(dM,{store:Ns,children:T.jsx(Fj,{})})}));export{Fp as B,uu as C,ji as H,Fi as a,T as j,F as r,me as s,Qn as u};
