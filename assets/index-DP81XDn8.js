const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-BS64G9l2.js","assets/HomePage-Dd0IRUR4.css","assets/CategoryProductsPage-DZOxxpUL.js","assets/CategoryProductsPage-aFi4TZ4Z.css","assets/ProductDescriptionPage-Ce_6OaEC.js","assets/ProductDescriptionPage-EmYxsJ1s.css","assets/ContactUsPage-8C19-pj4.js","assets/ContactUsPage-BZtiGOCz.css","assets/AdminDashboardPage-BZWmzyP4.js","assets/AdminDashboardPage-DTQtuOdB.css","assets/AdminUsersPage-BEuE-7u4.js","assets/Modal-C34jcFjS.js","assets/Modal-_atSHJ6U.css","assets/AdminUsersPage-D47QIjqU.css","assets/AdminProductsPage-B-66tpiR.js","assets/AdminProductsPage-gvMbDnzf.css","assets/AdminNewProductPage-CLur7XdA.js","assets/AdminNewProductPage-CvdG7KXj.css"])))=>i.map(i=>d[i]);
function L0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Jo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M0={exports:{}},Pd={},V0={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=Symbol.for("react.element"),x1=Symbol.for("react.portal"),N1=Symbol.for("react.fragment"),D1=Symbol.for("react.strict_mode"),b1=Symbol.for("react.profiler"),O1=Symbol.for("react.provider"),L1=Symbol.for("react.context"),M1=Symbol.for("react.forward_ref"),V1=Symbol.for("react.suspense"),F1=Symbol.for("react.memo"),j1=Symbol.for("react.lazy"),Ry=Symbol.iterator;function U1(t){return t===null||typeof t!="object"?null:(t=Ry&&t[Ry]||t["@@iterator"],typeof t=="function"?t:null)}var F0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j0=Object.assign,U0={};function Zo(t,e,n){this.props=t,this.context=e,this.refs=U0,this.updater=n||F0}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function B0(){}B0.prototype=Zo.prototype;function Zp(t,e,n){this.props=t,this.context=e,this.refs=U0,this.updater=n||F0}var em=Zp.prototype=new B0;em.constructor=Zp;j0(em,Zo.prototype);em.isPureReactComponent=!0;var ky=Array.isArray,$0=Object.prototype.hasOwnProperty,tm={current:null},z0={key:!0,ref:!0,__self:!0,__source:!0};function H0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$0.call(e,r)&&!z0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Kl,type:t,key:s,ref:o,props:i,_owner:tm.current}}function B1(t,e){return{$$typeof:Kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kl}function $1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xy=/\/+/g;function kh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$1(""+t.key):e.toString(36)}function ic(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kl:case x1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+kh(o,0):r,ky(i)?(n="",t!=null&&(n=t.replace(xy,"$&/")+"/"),ic(i,e,n,"",function(c){return c})):i!=null&&(nm(i)&&(i=B1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ky(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+kh(s,a);o+=ic(s,e,n,u,i)}else if(u=U1(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+kh(s,a++),o+=ic(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bu(t,e,n){if(t==null)return t;var r=[],i=0;return ic(t,r,"","",function(s){return e.call(n,s,i++)}),r}function z1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},sc={transition:null},H1={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:sc,ReactCurrentOwner:tm};function W0(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:bu,forEach:function(t,e,n){bu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bu(t,function(){e++}),e},toArray:function(t){return bu(t,function(e){return e})||[]},only:function(t){if(!nm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Zo;_e.Fragment=N1;_e.Profiler=b1;_e.PureComponent=Zp;_e.StrictMode=D1;_e.Suspense=V1;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1;_e.act=W0;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=j0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=tm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)$0.call(e,u)&&!z0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Kl,type:t.type,key:i,ref:s,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:L1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:O1,_context:t},t.Consumer=t};_e.createElement=H0;_e.createFactory=function(t){var e=H0.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:M1,render:t}};_e.isValidElement=nm;_e.lazy=function(t){return{$$typeof:j1,_payload:{_status:-1,_result:t},_init:z1}};_e.memo=function(t,e){return{$$typeof:F1,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=sc.transition;sc.transition={};try{t()}finally{sc.transition=e}};_e.unstable_act=W0;_e.useCallback=function(t,e){return rn.current.useCallback(t,e)};_e.useContext=function(t){return rn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return rn.current.useEffect(t,e)};_e.useId=function(){return rn.current.useId()};_e.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return rn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};_e.useRef=function(t){return rn.current.useRef(t)};_e.useState=function(t){return rn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return rn.current.useTransition()};_e.version="18.3.1";V0.exports=_e;var V=V0.exports;const Si=Jo(V),Sf=L0({__proto__:null,default:Si},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1=V,q1=Symbol.for("react.element"),K1=Symbol.for("react.fragment"),G1=Object.prototype.hasOwnProperty,Q1=W1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y1={key:!0,ref:!0,__self:!0,__source:!0};function q0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)G1.call(e,r)&&!Y1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:q1,type:t,key:s,ref:o,props:i,_owner:Q1.current}}Pd.Fragment=K1;Pd.jsx=q0;Pd.jsxs=q0;M0.exports=Pd;var w=M0.exports,If={},K0={exports:{}},Rn={},G0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,ie){var ae=$.length;$.push(ie);e:for(;0<ae;){var Pe=ae-1>>>1,Se=$[Pe];if(0<i(Se,ie))$[Pe]=ie,$[ae]=Se,ae=Pe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ie=$[0],ae=$.pop();if(ae!==ie){$[0]=ae;e:for(var Pe=0,Se=$.length,Ve=Se>>>1;Pe<Ve;){var ft=2*(Pe+1)-1,Ct=$[ft],Pt=ft+1,$n=$[Pt];if(0>i(Ct,ae))Pt<Se&&0>i($n,Ct)?($[Pe]=$n,$[Pt]=ae,Pe=Pt):($[Pe]=Ct,$[ft]=ae,Pe=ft);else if(Pt<Se&&0>i($n,ae))$[Pe]=$n,$[Pt]=ae,Pe=Pt;else break e}}return ie}function i($,ie){var ae=$.sortIndex-ie.sortIndex;return ae!==0?ae:$.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,m=3,v=!1,I=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var ie=n(c);ie!==null;){if(ie.callback===null)r(c);else if(ie.startTime<=$)r(c),ie.sortIndex=ie.expirationTime,e(u,ie);else break;ie=n(c)}}function O($){if(R=!1,E($),!I)if(n(u)!==null)I=!0,Ee(U);else{var ie=n(c);ie!==null&&se(O,ie.startTime-$)}}function U($,ie){I=!1,R&&(R=!1,S(g),g=-1),v=!0;var ae=m;try{for(E(ie),f=n(u);f!==null&&(!(f.expirationTime>ie)||$&&!N());){var Pe=f.callback;if(typeof Pe=="function"){f.callback=null,m=f.priorityLevel;var Se=Pe(f.expirationTime<=ie);ie=t.unstable_now(),typeof Se=="function"?f.callback=Se:f===n(u)&&r(u),E(ie)}else r(u);f=n(u)}if(f!==null)var Ve=!0;else{var ft=n(c);ft!==null&&se(O,ft.startTime-ie),Ve=!1}return Ve}finally{f=null,m=ae,v=!1}}var k=!1,C=null,g=-1,T=5,P=-1;function N(){return!(t.unstable_now()-P<T)}function b(){if(C!==null){var $=t.unstable_now();P=$;var ie=!0;try{ie=C(!0,$)}finally{ie?A():(k=!1,C=null)}}else k=!1}var A;if(typeof y=="function")A=function(){y(b)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,lt=me.port2;me.port1.onmessage=b,A=function(){lt.postMessage(null)}}else A=function(){x(b,0)};function Ee($){C=$,k||(k=!0,A())}function se($,ie){g=x(function(){$(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){I||v||(I=!0,Ee(U))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var ie=3;break;default:ie=m}var ae=m;m=ie;try{return $()}finally{m=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=m;m=$;try{return ie()}finally{m=ae}},t.unstable_scheduleCallback=function($,ie,ae){var Pe=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Pe+ae:Pe):ae=Pe,$){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ae+Se,$={id:d++,callback:ie,priorityLevel:$,startTime:ae,expirationTime:Se,sortIndex:-1},ae>Pe?($.sortIndex=ae,e(c,$),n(u)===null&&$===n(c)&&(R?(S(g),g=-1):R=!0,se(O,ae-Pe))):($.sortIndex=Se,e(u,$),I||v||(I=!0,Ee(U))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var ie=m;return function(){var ae=m;m=ie;try{return $.apply(this,arguments)}finally{m=ae}}}})(Q0);G0.exports=Q0;var X1=G0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1=V,Cn=X1;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y0=new Set,gl={};function js(t,e){Lo(t,e),Lo(t+"Capture",e)}function Lo(t,e){for(gl[t]=e,t=0;t<e.length;t++)Y0.add(e[t])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=Object.prototype.hasOwnProperty,Z1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ny={},Dy={};function eC(t){return Cf.call(Dy,t)?!0:Cf.call(Ny,t)?!1:Z1.test(t)?Dy[t]=!0:(Ny[t]=!0,!1)}function tC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nC(t,e,n,r){if(e===null||typeof e>"u"||tC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var rm=/[\-:]([a-z])/g;function im(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rm,im);Mt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rm,im);Mt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rm,im);Mt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function sm(t,e,n,r){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nC(e,n,i,r)&&(n=null),r||i===null?eC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ti=J1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ou=Symbol.for("react.element"),uo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),X0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),am=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Rf=Symbol.for("react.suspense_list"),lm=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),Z0=Symbol.for("react.offscreen"),by=Symbol.iterator;function Aa(t){return t===null||typeof t!="object"?null:(t=by&&t[by]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,xh;function za(t){if(xh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xh=e&&e[1]||""}return`
`+xh+t}var Nh=!1;function Dh(t,e){if(!t||Nh)return"";Nh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Nh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?za(t):""}function rC(t){switch(t.tag){case 5:return za(t.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return t=Dh(t.type,!1),t;case 11:return t=Dh(t.type.render,!1),t;case 1:return t=Dh(t.type,!0),t;default:return""}}function kf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case co:return"Fragment";case uo:return"Portal";case Pf:return"Profiler";case om:return"StrictMode";case Af:return"Suspense";case Rf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J0:return(t.displayName||"Context")+".Consumer";case X0:return(t._context.displayName||"Context")+".Provider";case am:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lm:return e=t.displayName||null,e!==null?e:kf(t.type)||"Memo";case hi:e=t._payload,t=t._init;try{return kf(t(e))}catch{}}return null}function iC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kf(e);case 8:return e===om?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ew(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sC(t){var e=ew(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lu(t){t._valueTracker||(t._valueTracker=sC(t))}function tw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ew(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xf(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Oy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nw(t,e){e=e.checked,e!=null&&sm(t,"checked",e,!1)}function Nf(t,e){nw(t,e);var n=Vi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Df(t,e.type,n):e.hasOwnProperty("defaultValue")&&Df(t,e.type,Vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ly(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Df(t,e,n){(e!=="number"||Rc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ha=Array.isArray;function Io(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function My(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Ha(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vi(n)}}function rw(t,e){var n=Vi(e.value),r=Vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Of(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mu,sw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mu=Mu||document.createElement("div"),Mu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oC=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(t){oC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nl[e]=nl[t]})});function ow(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nl.hasOwnProperty(t)&&nl[t]?(""+e).trim():e+"px"}function aw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ow(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var aC=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lf(t,e){if(e){if(aC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Mf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function um(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ff=null,Co=null,Po=null;function Fy(t){if(t=Yl(t)){if(typeof Ff!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Nd(e),Ff(t.stateNode,t.type,e))}}function lw(t){Co?Po?Po.push(t):Po=[t]:Co=t}function uw(){if(Co){var t=Co,e=Po;if(Po=Co=null,Fy(t),e)for(t=0;t<e.length;t++)Fy(e[t])}}function cw(t,e){return t(e)}function dw(){}var bh=!1;function hw(t,e,n){if(bh)return t(e,n);bh=!0;try{return cw(t,e,n)}finally{bh=!1,(Co!==null||Po!==null)&&(dw(),uw())}}function vl(t,e){var n=t.stateNode;if(n===null)return null;var r=Nd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var jf=!1;if(qr)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){jf=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{jf=!1}function lC(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var rl=!1,kc=null,xc=!1,Uf=null,uC={onError:function(t){rl=!0,kc=t}};function cC(t,e,n,r,i,s,o,a,u){rl=!1,kc=null,lC.apply(uC,arguments)}function dC(t,e,n,r,i,s,o,a,u){if(cC.apply(this,arguments),rl){if(rl){var c=kc;rl=!1,kc=null}else throw Error(W(198));xc||(xc=!0,Uf=c)}}function Us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jy(t){if(Us(t)!==t)throw Error(W(188))}function hC(t){var e=t.alternate;if(!e){if(e=Us(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jy(i),t;if(s===r)return jy(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function pw(t){return t=hC(t),t!==null?mw(t):null}function mw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mw(t);if(e!==null)return e;t=t.sibling}return null}var gw=Cn.unstable_scheduleCallback,Uy=Cn.unstable_cancelCallback,fC=Cn.unstable_shouldYield,pC=Cn.unstable_requestPaint,at=Cn.unstable_now,mC=Cn.unstable_getCurrentPriorityLevel,cm=Cn.unstable_ImmediatePriority,yw=Cn.unstable_UserBlockingPriority,Nc=Cn.unstable_NormalPriority,gC=Cn.unstable_LowPriority,vw=Cn.unstable_IdlePriority,Ad=null,gr=null;function yC(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Ad,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:wC,vC=Math.log,_C=Math.LN2;function wC(t){return t>>>=0,t===0?32:31-(vC(t)/_C|0)|0}var Vu=64,Fu=4194304;function Wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Wa(a):(s&=o,s!==0&&(r=Wa(s)))}else o=n&~i,o!==0?r=Wa(o):s!==0&&(r=Wa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),i=1<<n,r|=t[n],e&=~i;return r}function EC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=EC(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Bf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _w(){var t=Vu;return Vu<<=1,!(Vu&4194240)&&(Vu=64),t}function Oh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function SC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function dm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function ww(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ew,hm,Tw,Sw,Iw,$f=!1,ju=[],Ii=null,Ci=null,Pi=null,_l=new Map,wl=new Map,pi=[],IC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function By(t,e){switch(t){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":_l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(e.pointerId)}}function ka(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yl(e),e!==null&&hm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CC(t,e,n,r,i){switch(e){case"focusin":return Ii=ka(Ii,t,e,n,r,i),!0;case"dragenter":return Ci=ka(Ci,t,e,n,r,i),!0;case"mouseover":return Pi=ka(Pi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _l.set(s,ka(_l.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wl.set(s,ka(wl.get(s)||null,t,e,n,r,i)),!0}return!1}function Cw(t){var e=ms(t.target);if(e!==null){var n=Us(e);if(n!==null){if(e=n.tag,e===13){if(e=fw(n),e!==null){t.blockedOn=e,Iw(t.priority,function(){Tw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vf=r,n.target.dispatchEvent(r),Vf=null}else return e=Yl(n),e!==null&&hm(e),t.blockedOn=n,!1;e.shift()}return!0}function $y(t,e,n){oc(t)&&n.delete(e)}function PC(){$f=!1,Ii!==null&&oc(Ii)&&(Ii=null),Ci!==null&&oc(Ci)&&(Ci=null),Pi!==null&&oc(Pi)&&(Pi=null),_l.forEach($y),wl.forEach($y)}function xa(t,e){t.blockedOn===e&&(t.blockedOn=null,$f||($f=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,PC)))}function El(t){function e(i){return xa(i,t)}if(0<ju.length){xa(ju[0],t);for(var n=1;n<ju.length;n++){var r=ju[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ii!==null&&xa(Ii,t),Ci!==null&&xa(Ci,t),Pi!==null&&xa(Pi,t),_l.forEach(e),wl.forEach(e),n=0;n<pi.length;n++)r=pi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)Cw(n),n.blockedOn===null&&pi.shift()}var Ao=ti.ReactCurrentBatchConfig,bc=!0;function AC(t,e,n,r){var i=Oe,s=Ao.transition;Ao.transition=null;try{Oe=1,fm(t,e,n,r)}finally{Oe=i,Ao.transition=s}}function RC(t,e,n,r){var i=Oe,s=Ao.transition;Ao.transition=null;try{Oe=4,fm(t,e,n,r)}finally{Oe=i,Ao.transition=s}}function fm(t,e,n,r){if(bc){var i=zf(t,e,n,r);if(i===null)Hh(t,e,r,Oc,n),By(t,r);else if(CC(i,t,e,n,r))r.stopPropagation();else if(By(t,r),e&4&&-1<IC.indexOf(t)){for(;i!==null;){var s=Yl(i);if(s!==null&&Ew(s),s=zf(t,e,n,r),s===null&&Hh(t,e,r,Oc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hh(t,e,r,null,n)}}var Oc=null;function zf(t,e,n,r){if(Oc=null,t=um(r),t=ms(t),t!==null)if(e=Us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oc=t,null}function Pw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mC()){case cm:return 1;case yw:return 4;case Nc:case gC:return 16;case vw:return 536870912;default:return 16}default:return 16}}var wi=null,pm=null,ac=null;function Aw(){if(ac)return ac;var t,e=pm,n=e.length,r,i="value"in wi?wi.value:wi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ac=i.slice(t,1<r?1-r:void 0)}function lc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uu(){return!0}function zy(){return!1}function kn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Uu:zy,this.isPropagationStopped=zy,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),e}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mm=kn(ea),Ql=et({},ea,{view:0,detail:0}),kC=kn(Ql),Lh,Mh,Na,Rd=et({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Na&&(Na&&t.type==="mousemove"?(Lh=t.screenX-Na.screenX,Mh=t.screenY-Na.screenY):Mh=Lh=0,Na=t),Lh)},movementY:function(t){return"movementY"in t?t.movementY:Mh}}),Hy=kn(Rd),xC=et({},Rd,{dataTransfer:0}),NC=kn(xC),DC=et({},Ql,{relatedTarget:0}),Vh=kn(DC),bC=et({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),OC=kn(bC),LC=et({},ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MC=kn(LC),VC=et({},ea,{data:0}),Wy=kn(VC),FC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UC[t])?!!e[t]:!1}function gm(){return BC}var $C=et({},Ql,{key:function(t){if(t.key){var e=FC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(t){return t.type==="keypress"?lc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zC=kn($C),HC=et({},Rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qy=kn(HC),WC=et({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),qC=kn(WC),KC=et({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),GC=kn(KC),QC=et({},Rd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YC=kn(QC),XC=[9,13,27,32],ym=qr&&"CompositionEvent"in window,il=null;qr&&"documentMode"in document&&(il=document.documentMode);var JC=qr&&"TextEvent"in window&&!il,Rw=qr&&(!ym||il&&8<il&&11>=il),Ky=" ",Gy=!1;function kw(t,e){switch(t){case"keyup":return XC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function ZC(t,e){switch(t){case"compositionend":return xw(e);case"keypress":return e.which!==32?null:(Gy=!0,Ky);case"textInput":return t=e.data,t===Ky&&Gy?null:t;default:return null}}function eP(t,e){if(ho)return t==="compositionend"||!ym&&kw(t,e)?(t=Aw(),ac=pm=wi=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rw&&e.locale!=="ko"?null:e.data;default:return null}}var tP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tP[t.type]:e==="textarea"}function Nw(t,e,n,r){lw(r),e=Lc(e,"onChange"),0<e.length&&(n=new mm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sl=null,Tl=null;function nP(t){$w(t,0)}function kd(t){var e=mo(t);if(tw(e))return t}function rP(t,e){if(t==="change")return e}var Dw=!1;if(qr){var Fh;if(qr){var jh="oninput"in document;if(!jh){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),jh=typeof Yy.oninput=="function"}Fh=jh}else Fh=!1;Dw=Fh&&(!document.documentMode||9<document.documentMode)}function Xy(){sl&&(sl.detachEvent("onpropertychange",bw),Tl=sl=null)}function bw(t){if(t.propertyName==="value"&&kd(Tl)){var e=[];Nw(e,Tl,t,um(t)),hw(nP,e)}}function iP(t,e,n){t==="focusin"?(Xy(),sl=e,Tl=n,sl.attachEvent("onpropertychange",bw)):t==="focusout"&&Xy()}function sP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kd(Tl)}function oP(t,e){if(t==="click")return kd(e)}function aP(t,e){if(t==="input"||t==="change")return kd(e)}function lP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nr=typeof Object.is=="function"?Object.is:lP;function Sl(t,e){if(nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cf.call(e,i)||!nr(t[i],e[i]))return!1}return!0}function Jy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zy(t,e){var n=Jy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jy(n)}}function Ow(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ow(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lw(){for(var t=window,e=Rc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rc(t.document)}return e}function vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uP(t){var e=Lw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ow(n.ownerDocument.documentElement,n)){if(r!==null&&vm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Zy(n,s);var o=Zy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cP=qr&&"documentMode"in document&&11>=document.documentMode,fo=null,Hf=null,ol=null,Wf=!1;function ev(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wf||fo==null||fo!==Rc(r)||(r=fo,"selectionStart"in r&&vm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ol&&Sl(ol,r)||(ol=r,r=Lc(Hf,"onSelect"),0<r.length&&(e=new mm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fo)))}function Bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},Uh={},Mw={};qr&&(Mw=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function xd(t){if(Uh[t])return Uh[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mw)return Uh[t]=e[n];return t}var Vw=xd("animationend"),Fw=xd("animationiteration"),jw=xd("animationstart"),Uw=xd("transitionend"),Bw=new Map,tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(t,e){Bw.set(t,e),js(e,[t])}for(var Bh=0;Bh<tv.length;Bh++){var $h=tv[Bh],dP=$h.toLowerCase(),hP=$h[0].toUpperCase()+$h.slice(1);Gi(dP,"on"+hP)}Gi(Vw,"onAnimationEnd");Gi(Fw,"onAnimationIteration");Gi(jw,"onAnimationStart");Gi("dblclick","onDoubleClick");Gi("focusin","onFocus");Gi("focusout","onBlur");Gi(Uw,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fP=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function nv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dC(r,e,void 0,t),t.currentTarget=null}function $w(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;nv(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;nv(i,a,c),s=u}}}if(xc)throw t=Uf,xc=!1,Uf=null,t}function He(t,e){var n=e[Yf];n===void 0&&(n=e[Yf]=new Set);var r=t+"__bubble";n.has(r)||(zw(e,t,2,!1),n.add(r))}function zh(t,e,n){var r=0;e&&(r|=4),zw(n,t,r,e)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Il(t){if(!t[$u]){t[$u]=!0,Y0.forEach(function(n){n!=="selectionchange"&&(fP.has(n)||zh(n,!1,t),zh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$u]||(e[$u]=!0,zh("selectionchange",!1,e))}}function zw(t,e,n,r){switch(Pw(e)){case 1:var i=AC;break;case 4:i=RC;break;default:i=fm}n=i.bind(null,e,n,t),i=void 0,!jf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ms(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hw(function(){var c=s,d=um(n),f=[];e:{var m=Bw.get(t);if(m!==void 0){var v=mm,I=t;switch(t){case"keypress":if(lc(n)===0)break e;case"keydown":case"keyup":v=zC;break;case"focusin":I="focus",v=Vh;break;case"focusout":I="blur",v=Vh;break;case"beforeblur":case"afterblur":v=Vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Hy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=NC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=qC;break;case Vw:case Fw:case jw:v=OC;break;case Uw:v=GC;break;case"scroll":v=kC;break;case"wheel":v=YC;break;case"copy":case"cut":case"paste":v=MC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=qy}var R=(e&4)!==0,x=!R&&t==="scroll",S=R?m!==null?m+"Capture":null:m;R=[];for(var y=c,E;y!==null;){E=y;var O=E.stateNode;if(E.tag===5&&O!==null&&(E=O,S!==null&&(O=vl(y,S),O!=null&&R.push(Cl(y,O,E)))),x)break;y=y.return}0<R.length&&(m=new v(m,I,null,n,d),f.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Vf&&(I=n.relatedTarget||n.fromElement)&&(ms(I)||I[Kr]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(I=n.relatedTarget||n.toElement,v=c,I=I?ms(I):null,I!==null&&(x=Us(I),I!==x||I.tag!==5&&I.tag!==6)&&(I=null)):(v=null,I=c),v!==I)){if(R=Hy,O="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(R=qy,O="onPointerLeave",S="onPointerEnter",y="pointer"),x=v==null?m:mo(v),E=I==null?m:mo(I),m=new R(O,y+"leave",v,n,d),m.target=x,m.relatedTarget=E,O=null,ms(d)===c&&(R=new R(S,y+"enter",I,n,d),R.target=E,R.relatedTarget=x,O=R),x=O,v&&I)t:{for(R=v,S=I,y=0,E=R;E;E=to(E))y++;for(E=0,O=S;O;O=to(O))E++;for(;0<y-E;)R=to(R),y--;for(;0<E-y;)S=to(S),E--;for(;y--;){if(R===S||S!==null&&R===S.alternate)break t;R=to(R),S=to(S)}R=null}else R=null;v!==null&&rv(f,m,v,R,!1),I!==null&&x!==null&&rv(f,x,I,R,!0)}}e:{if(m=c?mo(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var U=rP;else if(Qy(m))if(Dw)U=aP;else{U=sP;var k=iP}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(U=oP);if(U&&(U=U(t,c))){Nw(f,U,n,d);break e}k&&k(t,m,c),t==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Df(m,"number",m.value)}switch(k=c?mo(c):window,t){case"focusin":(Qy(k)||k.contentEditable==="true")&&(fo=k,Hf=c,ol=null);break;case"focusout":ol=Hf=fo=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,ev(f,n,d);break;case"selectionchange":if(cP)break;case"keydown":case"keyup":ev(f,n,d)}var C;if(ym)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else ho?kw(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Rw&&n.locale!=="ko"&&(ho||g!=="onCompositionStart"?g==="onCompositionEnd"&&ho&&(C=Aw()):(wi=d,pm="value"in wi?wi.value:wi.textContent,ho=!0)),k=Lc(c,g),0<k.length&&(g=new Wy(g,t,null,n,d),f.push({event:g,listeners:k}),C?g.data=C:(C=xw(n),C!==null&&(g.data=C)))),(C=JC?ZC(t,n):eP(t,n))&&(c=Lc(c,"onBeforeInput"),0<c.length&&(d=new Wy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}$w(f,e)})}function Cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vl(t,n),s!=null&&r.unshift(Cl(t,s,i)),s=vl(t,e),s!=null&&r.push(Cl(t,s,i))),t=t.return}return r}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=vl(n,s),u!=null&&o.unshift(Cl(n,u,a))):i||(u=vl(n,s),u!=null&&o.push(Cl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pP=/\r\n?/g,mP=/\u0000|\uFFFD/g;function iv(t){return(typeof t=="string"?t:""+t).replace(pP,`
`).replace(mP,"")}function zu(t,e,n){if(e=iv(e),iv(t)!==e&&n)throw Error(W(425))}function Mc(){}var qf=null,Kf=null;function Gf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,gP=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,yP=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(vP)}:Qf;function vP(t){setTimeout(function(){throw t})}function Wh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),El(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);El(e)}function Ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ov(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ta=Math.random().toString(36).slice(2),fr="__reactFiber$"+ta,Pl="__reactProps$"+ta,Kr="__reactContainer$"+ta,Yf="__reactEvents$"+ta,_P="__reactListeners$"+ta,wP="__reactHandles$"+ta;function ms(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ov(t);t!==null;){if(n=t[fr])return n;t=ov(t)}return e}t=n,n=t.parentNode}return null}function Yl(t){return t=t[fr]||t[Kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Nd(t){return t[Pl]||null}var Xf=[],go=-1;function Qi(t){return{current:t}}function We(t){0>go||(t.current=Xf[go],Xf[go]=null,go--)}function Ue(t,e){go++,Xf[go]=t.current,t.current=e}var Fi={},Yt=Qi(Fi),cn=Qi(!1),Cs=Fi;function Mo(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dn(t){return t=t.childContextTypes,t!=null}function Vc(){We(cn),We(Yt)}function av(t,e,n){if(Yt.current!==Fi)throw Error(W(168));Ue(Yt,e),Ue(cn,n)}function Hw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,iC(t)||"Unknown",i));return et({},n,r)}function Fc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,Cs=Yt.current,Ue(Yt,t),Ue(cn,cn.current),!0}function lv(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=Hw(t,e,Cs),r.__reactInternalMemoizedMergedChildContext=t,We(cn),We(Yt),Ue(Yt,t)):We(cn),Ue(cn,n)}var Vr=null,Dd=!1,qh=!1;function Ww(t){Vr===null?Vr=[t]:Vr.push(t)}function EP(t){Dd=!0,Ww(t)}function Yi(){if(!qh&&Vr!==null){qh=!0;var t=0,e=Oe;try{var n=Vr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vr=null,Dd=!1}catch(i){throw Vr!==null&&(Vr=Vr.slice(t+1)),gw(cm,Yi),i}finally{Oe=e,qh=!1}}return null}var yo=[],vo=0,jc=null,Uc=0,On=[],Ln=0,Ps=null,Fr=1,jr="";function cs(t,e){yo[vo++]=Uc,yo[vo++]=jc,jc=t,Uc=e}function qw(t,e,n){On[Ln++]=Fr,On[Ln++]=jr,On[Ln++]=Ps,Ps=t;var r=Fr;t=jr;var i=32-Zn(r)-1;r&=~(1<<i),n+=1;var s=32-Zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fr=1<<32-Zn(e)+i|n<<i|r,jr=s+t}else Fr=1<<s|n<<i|r,jr=t}function _m(t){t.return!==null&&(cs(t,1),qw(t,1,0))}function wm(t){for(;t===jc;)jc=yo[--vo],yo[vo]=null,Uc=yo[--vo],yo[vo]=null;for(;t===Ps;)Ps=On[--Ln],On[Ln]=null,jr=On[--Ln],On[Ln]=null,Fr=On[--Ln],On[Ln]=null}var In=null,En=null,Qe=!1,Yn=null;function Kw(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,En=Ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ps!==null?{id:Fr,overflow:jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,En=null,!0):!1;default:return!1}}function Jf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zf(t){if(Qe){var e=En;if(e){var n=e;if(!uv(t,e)){if(Jf(t))throw Error(W(418));e=Ai(n.nextSibling);var r=In;e&&uv(t,e)?Kw(r,n):(t.flags=t.flags&-4097|2,Qe=!1,In=t)}}else{if(Jf(t))throw Error(W(418));t.flags=t.flags&-4097|2,Qe=!1,In=t}}}function cv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function Hu(t){if(t!==In)return!1;if(!Qe)return cv(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gf(t.type,t.memoizedProps)),e&&(e=En)){if(Jf(t))throw Gw(),Error(W(418));for(;e;)Kw(t,e),e=Ai(e.nextSibling)}if(cv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=In?Ai(t.stateNode.nextSibling):null;return!0}function Gw(){for(var t=En;t;)t=Ai(t.nextSibling)}function Vo(){En=In=null,Qe=!1}function Em(t){Yn===null?Yn=[t]:Yn.push(t)}var TP=ti.ReactCurrentBatchConfig;function Da(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Wu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dv(t){var e=t._init;return e(t._payload)}function Qw(t){function e(S,y){if(t){var E=S.deletions;E===null?(S.deletions=[y],S.flags|=16):E.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function i(S,y){return S=Ni(S,y),S.index=0,S.sibling=null,S}function s(S,y,E){return S.index=E,t?(E=S.alternate,E!==null?(E=E.index,E<y?(S.flags|=2,y):E):(S.flags|=2,y)):(S.flags|=1048576,y)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,y,E,O){return y===null||y.tag!==6?(y=Zh(E,S.mode,O),y.return=S,y):(y=i(y,E),y.return=S,y)}function u(S,y,E,O){var U=E.type;return U===co?d(S,y,E.props.children,O,E.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===hi&&dv(U)===y.type)?(O=i(y,E.props),O.ref=Da(S,y,E),O.return=S,O):(O=mc(E.type,E.key,E.props,null,S.mode,O),O.ref=Da(S,y,E),O.return=S,O)}function c(S,y,E,O){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=ef(E,S.mode,O),y.return=S,y):(y=i(y,E.children||[]),y.return=S,y)}function d(S,y,E,O,U){return y===null||y.tag!==7?(y=Ts(E,S.mode,O,U),y.return=S,y):(y=i(y,E),y.return=S,y)}function f(S,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zh(""+y,S.mode,E),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ou:return E=mc(y.type,y.key,y.props,null,S.mode,E),E.ref=Da(S,null,y),E.return=S,E;case uo:return y=ef(y,S.mode,E),y.return=S,y;case hi:var O=y._init;return f(S,O(y._payload),E)}if(Ha(y)||Aa(y))return y=Ts(y,S.mode,E,null),y.return=S,y;Wu(S,y)}return null}function m(S,y,E,O){var U=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return U!==null?null:a(S,y,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ou:return E.key===U?u(S,y,E,O):null;case uo:return E.key===U?c(S,y,E,O):null;case hi:return U=E._init,m(S,y,U(E._payload),O)}if(Ha(E)||Aa(E))return U!==null?null:d(S,y,E,O,null);Wu(S,E)}return null}function v(S,y,E,O,U){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(E)||null,a(y,S,""+O,U);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ou:return S=S.get(O.key===null?E:O.key)||null,u(y,S,O,U);case uo:return S=S.get(O.key===null?E:O.key)||null,c(y,S,O,U);case hi:var k=O._init;return v(S,y,E,k(O._payload),U)}if(Ha(O)||Aa(O))return S=S.get(E)||null,d(y,S,O,U,null);Wu(y,O)}return null}function I(S,y,E,O){for(var U=null,k=null,C=y,g=y=0,T=null;C!==null&&g<E.length;g++){C.index>g?(T=C,C=null):T=C.sibling;var P=m(S,C,E[g],O);if(P===null){C===null&&(C=T);break}t&&C&&P.alternate===null&&e(S,C),y=s(P,y,g),k===null?U=P:k.sibling=P,k=P,C=T}if(g===E.length)return n(S,C),Qe&&cs(S,g),U;if(C===null){for(;g<E.length;g++)C=f(S,E[g],O),C!==null&&(y=s(C,y,g),k===null?U=C:k.sibling=C,k=C);return Qe&&cs(S,g),U}for(C=r(S,C);g<E.length;g++)T=v(C,S,g,E[g],O),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?g:T.key),y=s(T,y,g),k===null?U=T:k.sibling=T,k=T);return t&&C.forEach(function(N){return e(S,N)}),Qe&&cs(S,g),U}function R(S,y,E,O){var U=Aa(E);if(typeof U!="function")throw Error(W(150));if(E=U.call(E),E==null)throw Error(W(151));for(var k=U=null,C=y,g=y=0,T=null,P=E.next();C!==null&&!P.done;g++,P=E.next()){C.index>g?(T=C,C=null):T=C.sibling;var N=m(S,C,P.value,O);if(N===null){C===null&&(C=T);break}t&&C&&N.alternate===null&&e(S,C),y=s(N,y,g),k===null?U=N:k.sibling=N,k=N,C=T}if(P.done)return n(S,C),Qe&&cs(S,g),U;if(C===null){for(;!P.done;g++,P=E.next())P=f(S,P.value,O),P!==null&&(y=s(P,y,g),k===null?U=P:k.sibling=P,k=P);return Qe&&cs(S,g),U}for(C=r(S,C);!P.done;g++,P=E.next())P=v(C,S,g,P.value,O),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?g:P.key),y=s(P,y,g),k===null?U=P:k.sibling=P,k=P);return t&&C.forEach(function(b){return e(S,b)}),Qe&&cs(S,g),U}function x(S,y,E,O){if(typeof E=="object"&&E!==null&&E.type===co&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ou:e:{for(var U=E.key,k=y;k!==null;){if(k.key===U){if(U=E.type,U===co){if(k.tag===7){n(S,k.sibling),y=i(k,E.props.children),y.return=S,S=y;break e}}else if(k.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===hi&&dv(U)===k.type){n(S,k.sibling),y=i(k,E.props),y.ref=Da(S,k,E),y.return=S,S=y;break e}n(S,k);break}else e(S,k);k=k.sibling}E.type===co?(y=Ts(E.props.children,S.mode,O,E.key),y.return=S,S=y):(O=mc(E.type,E.key,E.props,null,S.mode,O),O.ref=Da(S,y,E),O.return=S,S=O)}return o(S);case uo:e:{for(k=E.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(S,y.sibling),y=i(y,E.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=ef(E,S.mode,O),y.return=S,S=y}return o(S);case hi:return k=E._init,x(S,y,k(E._payload),O)}if(Ha(E))return I(S,y,E,O);if(Aa(E))return R(S,y,E,O);Wu(S,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(S,y.sibling),y=i(y,E),y.return=S,S=y):(n(S,y),y=Zh(E,S.mode,O),y.return=S,S=y),o(S)):n(S,y)}return x}var Fo=Qw(!0),Yw=Qw(!1),Bc=Qi(null),$c=null,_o=null,Tm=null;function Sm(){Tm=_o=$c=null}function Im(t){var e=Bc.current;We(Bc),t._currentValue=e}function ep(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){$c=t,Tm=_o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(Tm!==t)if(t={context:t,memoizedValue:e,next:null},_o===null){if($c===null)throw Error(W(308));_o=t,$c.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var gs=null;function Cm(t){gs===null?gs=[t]:gs.push(t)}function Xw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Cm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gr(t,r)}function Gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fi=!1;function Pm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gr(t,n)}return i=r.interleaved,i===null?(e.next=e,Cm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gr(t,n)}function uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dm(t,n)}}function hv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zc(t,e,n,r){var i=t.updateQueue;fi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,a=s;do{var m=a.lane,v=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,R=a;switch(m=e,v=n,R.tag){case 1:if(I=R.payload,typeof I=="function"){f=I.call(v,f,m);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=R.payload,m=typeof I=="function"?I.call(v,f,m):I,m==null)break e;f=et({},f,m);break e;case 2:fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,u=f):d=d.next=v,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Rs|=o,t.lanes=o,t.memoizedState=f}}function fv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Xl={},yr=Qi(Xl),Al=Qi(Xl),Rl=Qi(Xl);function ys(t){if(t===Xl)throw Error(W(174));return t}function Am(t,e){switch(Ue(Rl,e),Ue(Al,t),Ue(yr,Xl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Of(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Of(e,t)}We(yr),Ue(yr,e)}function jo(){We(yr),We(Al),We(Rl)}function Zw(t){ys(Rl.current);var e=ys(yr.current),n=Of(e,t.type);e!==n&&(Ue(Al,t),Ue(yr,n))}function Rm(t){Al.current===t&&(We(yr),We(Al))}var Je=Qi(0);function Hc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kh=[];function km(){for(var t=0;t<Kh.length;t++)Kh[t]._workInProgressVersionPrimary=null;Kh.length=0}var cc=ti.ReactCurrentDispatcher,Gh=ti.ReactCurrentBatchConfig,As=0,Ze=null,vt=null,St=null,Wc=!1,al=!1,kl=0,SP=0;function zt(){throw Error(W(321))}function xm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nr(t[n],e[n]))return!1;return!0}function Nm(t,e,n,r,i,s){if(As=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cc.current=t===null||t.memoizedState===null?AP:RP,t=n(r,i),al){s=0;do{if(al=!1,kl=0,25<=s)throw Error(W(301));s+=1,St=vt=null,e.updateQueue=null,cc.current=kP,t=n(r,i)}while(al)}if(cc.current=qc,e=vt!==null&&vt.next!==null,As=0,St=vt=Ze=null,Wc=!1,e)throw Error(W(300));return t}function Dm(){var t=kl!==0;return kl=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ze.memoizedState=St=t:St=St.next=t,St}function Bn(){if(vt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=St===null?Ze.memoizedState:St.next;if(e!==null)St=e,vt=t;else{if(t===null)throw Error(W(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?Ze.memoizedState=St=t:St=St.next=t}return St}function xl(t,e){return typeof e=="function"?e(t):e}function Qh(t){var e=Bn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((As&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ze.lanes|=d,Rs|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,nr(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,Rs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yh(t){var e=Bn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);nr(s,e.memoizedState)||(un=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eE(){}function tE(t,e){var n=Ze,r=Bn(),i=e(),s=!nr(r.memoizedState,i);if(s&&(r.memoizedState=i,un=!0),r=r.queue,bm(iE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Nl(9,rE.bind(null,n,r,i,e),void 0,null),It===null)throw Error(W(349));As&30||nE(n,e,i)}return i}function nE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rE(t,e,n,r){e.value=n,e.getSnapshot=r,sE(e)&&oE(t)}function iE(t,e,n){return n(function(){sE(e)&&oE(t)})}function sE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nr(t,n)}catch{return!0}}function oE(t){var e=Gr(t,1);e!==null&&er(e,t,1,-1)}function pv(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:t},e.queue=t,t=t.dispatch=PP.bind(null,Ze,t),[e.memoizedState,t]}function Nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aE(){return Bn().memoizedState}function dc(t,e,n,r){var i=hr();Ze.flags|=t,i.memoizedState=Nl(1|e,n,void 0,r===void 0?null:r)}function bd(t,e,n,r){var i=Bn();r=r===void 0?null:r;var s=void 0;if(vt!==null){var o=vt.memoizedState;if(s=o.destroy,r!==null&&xm(r,o.deps)){i.memoizedState=Nl(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=Nl(1|e,n,s,r)}function mv(t,e){return dc(8390656,8,t,e)}function bm(t,e){return bd(2048,8,t,e)}function lE(t,e){return bd(4,2,t,e)}function uE(t,e){return bd(4,4,t,e)}function cE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dE(t,e,n){return n=n!=null?n.concat([t]):null,bd(4,4,cE.bind(null,e,t),n)}function Om(){}function hE(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fE(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pE(t,e,n){return As&21?(nr(n,e)||(n=_w(),Ze.lanes|=n,Rs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function IP(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=Gh.transition;Gh.transition={};try{t(!1),e()}finally{Oe=n,Gh.transition=r}}function mE(){return Bn().memoizedState}function CP(t,e,n){var r=xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gE(t))yE(e,n);else if(n=Xw(t,e,n,r),n!==null){var i=tn();er(n,t,r,i),vE(n,e,r)}}function PP(t,e,n){var r=xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gE(t))yE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,nr(a,o)){var u=e.interleaved;u===null?(i.next=i,Cm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Xw(t,e,i,r),n!==null&&(i=tn(),er(n,t,r,i),vE(n,e,r))}}function gE(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function yE(t,e){al=Wc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dm(t,n)}}var qc={readContext:Un,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},AP={readContext:Un,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:mv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dc(4194308,4,cE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return dc(4,2,t,e)},useMemo:function(t,e){var n=hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CP.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:pv,useDebugValue:Om,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=pv(!1),e=t[0];return t=IP.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=hr();if(Qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),It===null)throw Error(W(349));As&30||nE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,mv(iE.bind(null,r,s,t),[t]),r.flags|=2048,Nl(9,rE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=hr(),e=It.identifierPrefix;if(Qe){var n=jr,r=Fr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RP={readContext:Un,useCallback:hE,useContext:Un,useEffect:bm,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:fE,useReducer:Qh,useRef:aE,useState:function(){return Qh(xl)},useDebugValue:Om,useDeferredValue:function(t){var e=Bn();return pE(e,vt.memoizedState,t)},useTransition:function(){var t=Qh(xl)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:eE,useSyncExternalStore:tE,useId:mE,unstable_isNewReconciler:!1},kP={readContext:Un,useCallback:hE,useContext:Un,useEffect:bm,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:fE,useReducer:Yh,useRef:aE,useState:function(){return Yh(xl)},useDebugValue:Om,useDeferredValue:function(t){var e=Bn();return vt===null?e.memoizedState=t:pE(e,vt.memoizedState,t)},useTransition:function(){var t=Yh(xl)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:eE,useSyncExternalStore:tE,useId:mE,unstable_isNewReconciler:!1};function Kn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Od={isMounted:function(t){return(t=t._reactInternals)?Us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),i=xi(t),s=zr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ri(t,s,i),e!==null&&(er(e,t,i,r),uc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),i=xi(t),s=zr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ri(t,s,i),e!==null&&(er(e,t,i,r),uc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=xi(t),i=zr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ri(t,i,r),e!==null&&(er(e,t,r,n),uc(e,t,r))}};function gv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Sl(n,r)||!Sl(i,s):!0}function _E(t,e,n){var r=!1,i=Fi,s=e.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=dn(e)?Cs:Yt.current,r=e.contextTypes,s=(r=r!=null)?Mo(t,i):Fi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Od,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Od.enqueueReplaceState(e,e.state,null)}function np(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Pm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=dn(e)?Cs:Yt.current,i.context=Mo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Od.enqueueReplaceState(i,i.state,null),zc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uo(t,e){try{var n="",r=e;do n+=rC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xP=typeof WeakMap=="function"?WeakMap:Map;function wE(t,e,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gc||(Gc=!0,fp=r),rp(t,e)},n}function EE(t,e,n){n=zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rp(t,e),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HP.bind(null,t,e,n),e.then(t,t))}function _v(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zr(-1,1),e.tag=2,Ri(n,e,1))),n.lanes|=1),t)}var NP=ti.ReactCurrentOwner,un=!1;function en(t,e,n,r){e.child=t===null?Yw(e,null,n,r):Fo(e,t.child,n,r)}function Ev(t,e,n,r,i){n=n.render;var s=e.ref;return Ro(e,i),r=Nm(t,e,n,r,s,i),n=Dm(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Qe&&n&&_m(e),e.flags|=1,en(t,e,r,i),e.child)}function Tv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$m(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,TE(t,e,s,r,i)):(t=mc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sl,n(o,r)&&t.ref===e.ref)return Qr(t,e,i)}return e.flags|=1,t=Ni(s,r),t.ref=e.ref,t.return=e,e.child=t}function TE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Sl(s,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Qr(t,e,i)}return ip(t,e,n,r,i)}function SE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Eo,vn),vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(Eo,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(Eo,vn),vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue(Eo,vn),vn|=r;return en(t,e,i,n),e.child}function IE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ip(t,e,n,r,i){var s=dn(n)?Cs:Yt.current;return s=Mo(e,s),Ro(e,i),n=Nm(t,e,n,r,s,i),r=Dm(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Qe&&r&&_m(e),e.flags|=1,en(t,e,n,i),e.child)}function Sv(t,e,n,r,i){if(dn(n)){var s=!0;Fc(e)}else s=!1;if(Ro(e,i),e.stateNode===null)hc(t,e),_E(e,n,r),np(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Un(c):(c=dn(n)?Cs:Yt.current,c=Mo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&yv(e,o,r,c),fi=!1;var m=e.memoizedState;o.state=m,zc(e,r,o,i),u=e.memoizedState,a!==r||m!==u||cn.current||fi?(typeof d=="function"&&(tp(e,n,d,r),u=e.memoizedState),(a=fi||gv(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Jw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Un(u):(u=dn(n)?Cs:Yt.current,u=Mo(e,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&yv(e,o,r,u),fi=!1,m=e.memoizedState,o.state=m,zc(e,r,o,i);var I=e.memoizedState;a!==f||m!==I||cn.current||fi?(typeof v=="function"&&(tp(e,n,v,r),I=e.memoizedState),(c=fi||gv(e,n,c,r,m,I,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return sp(t,e,n,r,s,i)}function sp(t,e,n,r,i,s){IE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&lv(e,n,!1),Qr(t,e,s);r=e.stateNode,NP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fo(e,t.child,null,s),e.child=Fo(e,null,a,s)):en(t,e,a,s),e.memoizedState=r.state,i&&lv(e,n,!0),e.child}function CE(t){var e=t.stateNode;e.pendingContext?av(t,e.pendingContext,e.pendingContext!==e.context):e.context&&av(t,e.context,!1),Am(t,e.containerInfo)}function Iv(t,e,n,r,i){return Vo(),Em(i),e.flags|=256,en(t,e,n,r),e.child}var op={dehydrated:null,treeContext:null,retryLane:0};function ap(t){return{baseLanes:t,cachePool:null,transitions:null}}function PE(t,e,n){var r=e.pendingProps,i=Je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Je,i&1),t===null)return Zf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vd(o,r,0,null),t=Ts(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ap(n),e.memoizedState=op,t):Lm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return DP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ni(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ni(a,s):(s=Ts(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ap(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=op,r}return s=t.child,t=s.sibling,r=Ni(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Lm(t,e){return e=Vd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qu(t,e,n,r){return r!==null&&Em(r),Fo(e,t.child,null,n),t=Lm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xh(Error(W(422))),qu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Vd({mode:"visible",children:r.children},i,0,null),s=Ts(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fo(e,t.child,null,o),e.child.memoizedState=ap(o),e.memoizedState=op,s);if(!(e.mode&1))return qu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Xh(s,r,void 0),qu(t,e,o,r)}if(a=(o&t.childLanes)!==0,un||a){if(r=It,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gr(t,i),er(r,t,i,-1))}return Bm(),r=Xh(Error(W(421))),qu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=Ai(i.nextSibling),In=e,Qe=!0,Yn=null,t!==null&&(On[Ln++]=Fr,On[Ln++]=jr,On[Ln++]=Ps,Fr=t.id,jr=t.overflow,Ps=e),e=Lm(e,r.children),e.flags|=4096,e)}function Cv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ep(t.return,e,n)}function Jh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function AE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(en(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cv(t,n,e);else if(t.tag===19)Cv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jh(e,!0,n,null,s);break;case"together":Jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bP(t,e,n){switch(e.tag){case 3:CE(e),Vo();break;case 5:Zw(e);break;case 1:dn(e.type)&&Fc(e);break;case 4:Am(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(Bc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?PE(t,e,n):(Ue(Je,Je.current&1),t=Qr(t,e,n),t!==null?t.sibling:null);Ue(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,SE(t,e,n)}return Qr(t,e,n)}var RE,lp,kE,xE;RE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lp=function(){};kE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ys(yr.current);var s=null;switch(n){case"input":i=xf(t,i),r=xf(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=bf(t,i),r=bf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mc)}Lf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&He("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};xE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ba(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OP(t,e,n){var r=e.pendingProps;switch(wm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return dn(e.type)&&Vc(),Ht(e),null;case 3:return r=e.stateNode,jo(),We(cn),We(Yt),km(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(gp(Yn),Yn=null))),lp(t,e),Ht(e),null;case 5:Rm(e);var i=ys(Rl.current);if(n=e.type,t!==null&&e.stateNode!=null)kE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Ht(e),null}if(t=ys(yr.current),Hu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fr]=e,r[Pl]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<qa.length;i++)He(qa[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Oy(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":My(r,s),He("invalid",r)}Lf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&zu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zu(r.textContent,a,t),i=["children",""+a]):gl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Lu(r),Ly(r,s,!0);break;case"textarea":Lu(r),Vy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Mc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fr]=e,t[Pl]=r,RE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mf(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<qa.length;i++)He(qa[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":Oy(t,r),i=xf(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),He("invalid",t);break;case"textarea":My(t,r),i=bf(t,r),He("invalid",t);break;default:i=r}Lf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?aw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&sw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&yl(t,u):typeof u=="number"&&yl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&He("scroll",t):u!=null&&sm(t,s,u,o))}switch(n){case"input":Lu(t),Ly(t,r,!1);break;case"textarea":Lu(t),Vy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Io(t,!!r.multiple,s,!1):r.defaultValue!=null&&Io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(t&&e.stateNode!=null)xE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ys(Rl.current),ys(yr.current),Hu(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(s=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:zu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Ht(e),null;case 13:if(We(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&En!==null&&e.mode&1&&!(e.flags&128))Gw(),Vo(),e.flags|=98560,s=!1;else if(s=Hu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[fr]=e}else Vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ht(e),s=!1}else Yn!==null&&(gp(Yn),Yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?wt===0&&(wt=3):Bm())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return jo(),lp(t,e),t===null&&Il(e.stateNode.containerInfo),Ht(e),null;case 10:return Im(e.type._context),Ht(e),null;case 17:return dn(e.type)&&Vc(),Ht(e),null;case 19:if(We(Je),s=e.memoizedState,s===null)return Ht(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ba(s,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hc(t),o!==null){for(e.flags|=128,ba(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Je,Je.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>Bo&&(e.flags|=128,r=!0,ba(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ba(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Ht(e),null}else 2*at()-s.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,r=!0,ba(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Je.current,Ue(Je,r?n&1|2:n&1),e):(Ht(e),null);case 22:case 23:return Um(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function LP(t,e){switch(wm(e),e.tag){case 1:return dn(e.type)&&Vc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),We(cn),We(Yt),km(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rm(e),null;case 13:if(We(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Je),null;case 4:return jo(),null;case 10:return Im(e.type._context),null;case 22:case 23:return Um(),null;case 24:return null;default:return null}}var Ku=!1,Gt=!1,MP=typeof WeakSet=="function"?WeakSet:Set,Q=null;function wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function up(t,e,n){try{n()}catch(r){it(t,e,r)}}var Pv=!1;function VP(t,e){if(qf=bc,t=Lw(),vm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++d===r&&(u=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kf={focusedElem:t,selectionRange:n},bc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var R=I.memoizedProps,x=I.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?R:Kn(e.type,R),x);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(O){it(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return I=Pv,Pv=!1,I}function ll(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&up(e,n,s)}i=i.next}while(i!==r)}}function Ld(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NE(t){var e=t.alternate;e!==null&&(t.alternate=null,NE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[Pl],delete e[Yf],delete e[_P],delete e[wP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DE(t){return t.tag===5||t.tag===3||t.tag===4}function Av(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mc));else if(r!==4&&(t=t.child,t!==null))for(dp(t,e,n),t=t.sibling;t!==null;)dp(t,e,n),t=t.sibling}function hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hp(t,e,n),t=t.sibling;t!==null;)hp(t,e,n),t=t.sibling}var xt=null,Gn=!1;function ui(t,e,n){for(n=n.child;n!==null;)bE(t,e,n),n=n.sibling}function bE(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Ad,n)}catch{}switch(n.tag){case 5:Gt||wo(n,e);case 6:var r=xt,i=Gn;xt=null,ui(t,e,n),xt=r,Gn=i,xt!==null&&(Gn?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(Gn?(t=xt,n=n.stateNode,t.nodeType===8?Wh(t.parentNode,n):t.nodeType===1&&Wh(t,n),El(t)):Wh(xt,n.stateNode));break;case 4:r=xt,i=Gn,xt=n.stateNode.containerInfo,Gn=!0,ui(t,e,n),xt=r,Gn=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&up(n,e,o),i=i.next}while(i!==r)}ui(t,e,n);break;case 1:if(!Gt&&(wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}ui(t,e,n);break;case 21:ui(t,e,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,ui(t,e,n),Gt=r):ui(t,e,n);break;default:ui(t,e,n)}}function Rv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MP),e.forEach(function(r){var i=qP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,Gn=!1;break e;case 3:xt=a.stateNode.containerInfo,Gn=!0;break e;case 4:xt=a.stateNode.containerInfo,Gn=!0;break e}a=a.return}if(xt===null)throw Error(W(160));bE(s,o,i),xt=null,Gn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){it(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OE(e,t),e=e.sibling}function OE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),dr(t),r&4){try{ll(3,t,t.return),Ld(3,t)}catch(R){it(t,t.return,R)}try{ll(5,t,t.return)}catch(R){it(t,t.return,R)}}break;case 1:qn(e,t),dr(t),r&512&&n!==null&&wo(n,n.return);break;case 5:if(qn(e,t),dr(t),r&512&&n!==null&&wo(n,n.return),t.flags&32){var i=t.stateNode;try{yl(i,"")}catch(R){it(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nw(i,s),Mf(a,o);var c=Mf(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?aw(i,f):d==="dangerouslySetInnerHTML"?sw(i,f):d==="children"?yl(i,f):sm(i,d,f,c)}switch(a){case"input":Nf(i,s);break;case"textarea":rw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Io(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?Io(i,!!s.multiple,s.defaultValue,!0):Io(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pl]=s}catch(R){it(t,t.return,R)}}break;case 6:if(qn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){it(t,t.return,R)}}break;case 3:if(qn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(R){it(t,t.return,R)}break;case 4:qn(e,t),dr(t);break;case 13:qn(e,t),dr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fm=at())),r&4&&Rv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(c=Gt)||d,qn(e,t),Gt=c):qn(e,t),dr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(f=Q=d;Q!==null;){switch(m=Q,v=m.child,m.tag){case 0:case 11:case 14:case 15:ll(4,m,m.return);break;case 1:wo(m,m.return);var I=m.stateNode;if(typeof I.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(R){it(r,n,R)}}break;case 5:wo(m,m.return);break;case 22:if(m.memoizedState!==null){xv(f);continue}}v!==null?(v.return=m,Q=v):xv(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ow("display",o))}catch(R){it(t,t.return,R)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(R){it(t,t.return,R)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qn(e,t),dr(t),r&4&&Rv(t);break;case 21:break;default:qn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DE(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yl(i,""),r.flags&=-33);var s=Av(t);hp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Av(t);dp(t,a,o);break;default:throw Error(W(161))}}catch(u){it(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FP(t,e,n){Q=t,LE(t)}function LE(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ku;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Gt;a=Ku;var c=Gt;if(Ku=o,(Gt=u)&&!c)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?Nv(i):u!==null?(u.return=o,Q=u):Nv(i);for(;s!==null;)Q=s,LE(s),s=s.sibling;Q=i,Ku=a,Gt=c}kv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):kv(t)}}function kv(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||Ld(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Kn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&El(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Gt||e.flags&512&&cp(e)}catch(m){it(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function xv(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Nv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ld(4,e)}catch(u){it(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){it(e,i,u)}}var s=e.return;try{cp(e)}catch(u){it(e,s,u)}break;case 5:var o=e.return;try{cp(e)}catch(u){it(e,o,u)}}}catch(u){it(e,e.return,u)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var jP=Math.ceil,Kc=ti.ReactCurrentDispatcher,Mm=ti.ReactCurrentOwner,Vn=ti.ReactCurrentBatchConfig,Ae=0,It=null,ht=null,Ot=0,vn=0,Eo=Qi(0),wt=0,Dl=null,Rs=0,Md=0,Vm=0,ul=null,an=null,Fm=0,Bo=1/0,Mr=null,Gc=!1,fp=null,ki=null,Gu=!1,Ei=null,Qc=0,cl=0,pp=null,fc=-1,pc=0;function tn(){return Ae&6?at():fc!==-1?fc:fc=at()}function xi(t){return t.mode&1?Ae&2&&Ot!==0?Ot&-Ot:TP.transition!==null?(pc===0&&(pc=_w()),pc):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:Pw(t.type)),t):1}function er(t,e,n,r){if(50<cl)throw cl=0,pp=null,Error(W(185));Gl(t,n,r),(!(Ae&2)||t!==It)&&(t===It&&(!(Ae&2)&&(Md|=n),wt===4&&mi(t,Ot)),hn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Bo=at()+500,Dd&&Yi()))}function hn(t,e){var n=t.callbackNode;TC(t,e);var r=Dc(t,t===It?Ot:0);if(r===0)n!==null&&Uy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uy(n),e===1)t.tag===0?EP(Dv.bind(null,t)):Ww(Dv.bind(null,t)),yP(function(){!(Ae&6)&&Yi()}),n=null;else{switch(ww(r)){case 1:n=cm;break;case 4:n=yw;break;case 16:n=Nc;break;case 536870912:n=vw;break;default:n=Nc}n=zE(n,ME.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ME(t,e){if(fc=-1,pc=0,Ae&6)throw Error(W(327));var n=t.callbackNode;if(ko()&&t.callbackNode!==n)return null;var r=Dc(t,t===It?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yc(t,r);else{e=r;var i=Ae;Ae|=2;var s=FE();(It!==t||Ot!==e)&&(Mr=null,Bo=at()+500,Es(t,e));do try{$P();break}catch(a){VE(t,a)}while(!0);Sm(),Kc.current=s,Ae=i,ht!==null?e=0:(It=null,Ot=0,e=wt)}if(e!==0){if(e===2&&(i=Bf(t),i!==0&&(r=i,e=mp(t,i))),e===1)throw n=Dl,Es(t,0),mi(t,r),hn(t,at()),n;if(e===6)mi(t,r);else{if(i=t.current.alternate,!(r&30)&&!UP(i)&&(e=Yc(t,r),e===2&&(s=Bf(t),s!==0&&(r=s,e=mp(t,s))),e===1))throw n=Dl,Es(t,0),mi(t,r),hn(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ds(t,an,Mr);break;case 3:if(mi(t,r),(r&130023424)===r&&(e=Fm+500-at(),10<e)){if(Dc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qf(ds.bind(null,t,an,Mr),e);break}ds(t,an,Mr);break;case 4:if(mi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jP(r/1960))-r,10<r){t.timeoutHandle=Qf(ds.bind(null,t,an,Mr),r);break}ds(t,an,Mr);break;case 5:ds(t,an,Mr);break;default:throw Error(W(329))}}}return hn(t,at()),t.callbackNode===n?ME.bind(null,t):null}function mp(t,e){var n=ul;return t.current.memoizedState.isDehydrated&&(Es(t,e).flags|=256),t=Yc(t,e),t!==2&&(e=an,an=n,e!==null&&gp(e)),t}function gp(t){an===null?an=t:an.push.apply(an,t)}function UP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(t,e){for(e&=~Vm,e&=~Md,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function Dv(t){if(Ae&6)throw Error(W(327));ko();var e=Dc(t,0);if(!(e&1))return hn(t,at()),null;var n=Yc(t,e);if(t.tag!==0&&n===2){var r=Bf(t);r!==0&&(e=r,n=mp(t,r))}if(n===1)throw n=Dl,Es(t,0),mi(t,e),hn(t,at()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,an,Mr),hn(t,at()),null}function jm(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Bo=at()+500,Dd&&Yi())}}function ks(t){Ei!==null&&Ei.tag===0&&!(Ae&6)&&ko();var e=Ae;Ae|=1;var n=Vn.transition,r=Oe;try{if(Vn.transition=null,Oe=1,t)return t()}finally{Oe=r,Vn.transition=n,Ae=e,!(Ae&6)&&Yi()}}function Um(){vn=Eo.current,We(Eo)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gP(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(wm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vc();break;case 3:jo(),We(cn),We(Yt),km();break;case 5:Rm(r);break;case 4:jo();break;case 13:We(Je);break;case 19:We(Je);break;case 10:Im(r.type._context);break;case 22:case 23:Um()}n=n.return}if(It=t,ht=t=Ni(t.current,null),Ot=vn=e,wt=0,Dl=null,Vm=Md=Rs=0,an=ul=null,gs!==null){for(e=0;e<gs.length;e++)if(n=gs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}gs=null}return t}function VE(t,e){do{var n=ht;try{if(Sm(),cc.current=qc,Wc){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wc=!1}if(As=0,St=vt=Ze=null,al=!1,kl=0,Mm.current=null,n===null||n.return===null){wt=1,Dl=e,ht=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Ot,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=_v(o);if(v!==null){v.flags&=-257,wv(v,o,a,s,e),v.mode&1&&vv(s,c,e),e=v,u=c;var I=e.updateQueue;if(I===null){var R=new Set;R.add(u),e.updateQueue=R}else I.add(u);break e}else{if(!(e&1)){vv(s,c,e),Bm();break e}u=Error(W(426))}}else if(Qe&&a.mode&1){var x=_v(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),wv(x,o,a,s,e),Em(Uo(u,a));break e}}s=u=Uo(u,a),wt!==4&&(wt=2),ul===null?ul=[s]:ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=wE(s,u,e);hv(s,S);break e;case 1:a=u;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ki===null||!ki.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=EE(s,a,e);hv(s,O);break e}}s=s.return}while(s!==null)}UE(n)}catch(U){e=U,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function FE(){var t=Kc.current;return Kc.current=qc,t===null?qc:t}function Bm(){(wt===0||wt===3||wt===2)&&(wt=4),It===null||!(Rs&268435455)&&!(Md&268435455)||mi(It,Ot)}function Yc(t,e){var n=Ae;Ae|=2;var r=FE();(It!==t||Ot!==e)&&(Mr=null,Es(t,e));do try{BP();break}catch(i){VE(t,i)}while(!0);if(Sm(),Ae=n,Kc.current=r,ht!==null)throw Error(W(261));return It=null,Ot=0,wt}function BP(){for(;ht!==null;)jE(ht)}function $P(){for(;ht!==null&&!fC();)jE(ht)}function jE(t){var e=$E(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?UE(t):ht=e,Mm.current=null}function UE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LP(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,ht=null;return}}else if(n=OP(n,e,vn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);wt===0&&(wt=5)}function ds(t,e,n){var r=Oe,i=Vn.transition;try{Vn.transition=null,Oe=1,zP(t,e,n,r)}finally{Vn.transition=i,Oe=r}return null}function zP(t,e,n,r){do ko();while(Ei!==null);if(Ae&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(SC(t,s),t===It&&(ht=It=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gu||(Gu=!0,zE(Nc,function(){return ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vn.transition,Vn.transition=null;var o=Oe;Oe=1;var a=Ae;Ae|=4,Mm.current=null,VP(t,n),OE(n,t),uP(Kf),bc=!!qf,Kf=qf=null,t.current=n,FP(n),pC(),Ae=a,Oe=o,Vn.transition=s}else t.current=n;if(Gu&&(Gu=!1,Ei=t,Qc=i),s=t.pendingLanes,s===0&&(ki=null),yC(n.stateNode),hn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,t=fp,fp=null,t;return Qc&1&&t.tag!==0&&ko(),s=t.pendingLanes,s&1?t===pp?cl++:(cl=0,pp=t):cl=0,Yi(),null}function ko(){if(Ei!==null){var t=ww(Qc),e=Vn.transition,n=Oe;try{if(Vn.transition=null,Oe=16>t?16:t,Ei===null)var r=!1;else{if(t=Ei,Ei=null,Qc=0,Ae&6)throw Error(W(331));var i=Ae;for(Ae|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:ll(8,d,s)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var m=d.sibling,v=d.return;if(NE(d),d===c){Q=null;break}if(m!==null){m.return=v,Q=m;break}Q=v}}}var I=s.alternate;if(I!==null){var R=I.child;if(R!==null){I.child=null;do{var x=R.sibling;R.sibling=null,R=x}while(R!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ll(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Q=S;break e}Q=s.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Q=E;else e:for(o=y;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ld(9,a)}}catch(U){it(a,a.return,U)}if(a===o){Q=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,Q=O;break e}Q=a.return}}if(Ae=i,Yi(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Ad,t)}catch{}r=!0}return r}finally{Oe=n,Vn.transition=e}}return!1}function bv(t,e,n){e=Uo(n,e),e=wE(t,e,1),t=Ri(t,e,1),e=tn(),t!==null&&(Gl(t,1,e),hn(t,e))}function it(t,e,n){if(t.tag===3)bv(t,t,n);else for(;e!==null;){if(e.tag===3){bv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){t=Uo(n,t),t=EE(e,t,1),e=Ri(e,t,1),t=tn(),e!==null&&(Gl(e,1,t),hn(e,t));break}}e=e.return}}function HP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Ot&n)===n&&(wt===4||wt===3&&(Ot&130023424)===Ot&&500>at()-Fm?Es(t,0):Vm|=n),hn(t,e)}function BE(t,e){e===0&&(t.mode&1?(e=Fu,Fu<<=1,!(Fu&130023424)&&(Fu=4194304)):e=1);var n=tn();t=Gr(t,e),t!==null&&(Gl(t,e,n),hn(t,n))}function WP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BE(t,n)}function qP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),BE(t,n)}var $E;$E=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,bP(t,e,n);un=!!(t.flags&131072)}else un=!1,Qe&&e.flags&1048576&&qw(e,Uc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hc(t,e),t=e.pendingProps;var i=Mo(e,Yt.current);Ro(e,n),i=Nm(null,e,r,t,i,n);var s=Dm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(s=!0,Fc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pm(e),i.updater=Od,e.stateNode=i,i._reactInternals=e,np(e,r,t,n),e=sp(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&_m(e),en(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GP(r),t=Kn(r,t),i){case 0:e=ip(null,e,r,t,n);break e;case 1:e=Sv(null,e,r,t,n);break e;case 11:e=Ev(null,e,r,t,n);break e;case 14:e=Tv(null,e,r,Kn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),ip(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),Sv(t,e,r,i,n);case 3:e:{if(CE(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Jw(t,e),zc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Uo(Error(W(423)),e),e=Iv(t,e,r,n,i);break e}else if(r!==i){i=Uo(Error(W(424)),e),e=Iv(t,e,r,n,i);break e}else for(En=Ai(e.stateNode.containerInfo.firstChild),In=e,Qe=!0,Yn=null,n=Yw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vo(),r===i){e=Qr(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 5:return Zw(e),t===null&&Zf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Gf(r,i)?o=null:s!==null&&Gf(r,s)&&(e.flags|=32),IE(t,e),en(t,e,o,n),e.child;case 6:return t===null&&Zf(e),null;case 13:return PE(t,e,n);case 4:return Am(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):en(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),Ev(t,e,r,i,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(Bc,r._currentValue),r._currentValue=o,s!==null)if(nr(s.value,o)){if(s.children===i.children&&!cn.current){e=Qr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=zr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ep(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ep(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}en(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ro(e,n),i=Un(i),r=r(i),e.flags|=1,en(t,e,r,n),e.child;case 14:return r=e.type,i=Kn(r,e.pendingProps),i=Kn(r.type,i),Tv(t,e,r,i,n);case 15:return TE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),hc(t,e),e.tag=1,dn(r)?(t=!0,Fc(e)):t=!1,Ro(e,n),_E(e,r,i),np(e,r,i,n),sp(null,e,r,!0,t,n);case 19:return AE(t,e,n);case 22:return SE(t,e,n)}throw Error(W(156,e.tag))};function zE(t,e){return gw(t,e)}function KP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new KP(t,e,n,r)}function $m(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GP(t){if(typeof t=="function")return $m(t)?1:0;if(t!=null){if(t=t.$$typeof,t===am)return 11;if(t===lm)return 14}return 2}function Ni(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$m(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case co:return Ts(n.children,i,s,e);case om:o=8,i|=8;break;case Pf:return t=Mn(12,n,e,i|2),t.elementType=Pf,t.lanes=s,t;case Af:return t=Mn(13,n,e,i),t.elementType=Af,t.lanes=s,t;case Rf:return t=Mn(19,n,e,i),t.elementType=Rf,t.lanes=s,t;case Z0:return Vd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X0:o=10;break e;case J0:o=9;break e;case am:o=11;break e;case lm:o=14;break e;case hi:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Mn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ts(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function Vd(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=Z0,t.lanes=n,t.stateNode={isHidden:!1},t}function Zh(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function ef(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oh(0),this.expirationTimes=Oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zm(t,e,n,r,i,s,o,a,u){return t=new QP(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pm(s),t}function YP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HE(t){if(!t)return Fi;t=t._reactInternals;e:{if(Us(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(dn(n))return Hw(t,n,e)}return e}function WE(t,e,n,r,i,s,o,a,u){return t=zm(n,r,!0,t,i,s,o,a,u),t.context=HE(null),n=t.current,r=tn(),i=xi(n),s=zr(r,i),s.callback=e??null,Ri(n,s,i),t.current.lanes=i,Gl(t,i,r),hn(t,r),t}function Fd(t,e,n,r){var i=e.current,s=tn(),o=xi(i);return n=HE(n),e.context===null?e.context=n:e.pendingContext=n,e=zr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ri(i,e,o),t!==null&&(er(t,i,o,s),uc(t,i,o)),o}function Xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ov(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hm(t,e){Ov(t,e),(t=t.alternate)&&Ov(t,e)}function XP(){return null}var qE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wm(t){this._internalRoot=t}jd.prototype.render=Wm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Fd(t,e,null,null)};jd.prototype.unmount=Wm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ks(function(){Fd(null,t,null,null)}),e[Kr]=null}};function jd(t){this._internalRoot=t}jd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pi.length&&e!==0&&e<pi[n].priority;n++);pi.splice(n,0,t),n===0&&Cw(t)}};function qm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function JP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Xc(o);s.call(c)}}var o=WE(e,r,t,0,null,!1,!1,"",Lv);return t._reactRootContainer=o,t[Kr]=o.current,Il(t.nodeType===8?t.parentNode:t),ks(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Xc(u);a.call(c)}}var u=zm(t,0,!1,null,null,!1,!1,"",Lv);return t._reactRootContainer=u,t[Kr]=u.current,Il(t.nodeType===8?t.parentNode:t),ks(function(){Fd(e,u,n,r)}),u}function Bd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Xc(o);a.call(u)}}Fd(e,o,t,i)}else o=JP(n,e,t,i,r);return Xc(o)}Ew=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wa(e.pendingLanes);n!==0&&(dm(e,n|1),hn(e,at()),!(Ae&6)&&(Bo=at()+500,Yi()))}break;case 13:ks(function(){var r=Gr(t,1);if(r!==null){var i=tn();er(r,t,1,i)}}),Hm(t,1)}};hm=function(t){if(t.tag===13){var e=Gr(t,134217728);if(e!==null){var n=tn();er(e,t,134217728,n)}Hm(t,134217728)}};Tw=function(t){if(t.tag===13){var e=xi(t),n=Gr(t,e);if(n!==null){var r=tn();er(n,t,e,r)}Hm(t,e)}};Sw=function(){return Oe};Iw=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};Ff=function(t,e,n){switch(e){case"input":if(Nf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Nd(r);if(!i)throw Error(W(90));tw(r),Nf(r,i)}}}break;case"textarea":rw(t,n);break;case"select":e=n.value,e!=null&&Io(t,!!n.multiple,e,!1)}};cw=jm;dw=ks;var ZP={usingClientEntryPoint:!1,Events:[Yl,mo,Nd,lw,uw,jm]},Oa={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eA={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pw(t),t===null?null:t.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||XP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Ad=Qu.inject(eA),gr=Qu}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZP;Rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qm(e))throw Error(W(200));return YP(t,e,null,n)};Rn.createRoot=function(t,e){if(!qm(t))throw Error(W(299));var n=!1,r="",i=qE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zm(t,1,!1,null,null,n,!1,r,i),t[Kr]=e.current,Il(t.nodeType===8?t.parentNode:t),new Wm(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=pw(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return ks(t)};Rn.hydrate=function(t,e,n){if(!Ud(e))throw Error(W(200));return Bd(null,t,e,!0,n)};Rn.hydrateRoot=function(t,e,n){if(!qm(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WE(e,null,t,1,n??null,i,!1,s,o),t[Kr]=e.current,Il(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jd(e)};Rn.render=function(t,e,n){if(!Ud(e))throw Error(W(200));return Bd(null,t,e,!1,n)};Rn.unmountComponentAtNode=function(t){if(!Ud(t))throw Error(W(40));return t._reactRootContainer?(ks(function(){Bd(null,null,t,!1,function(){t._reactRootContainer=null,t[Kr]=null})}),!0):!1};Rn.unstable_batchedUpdates=jm;Rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ud(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Bd(t,e,n,!1,r)};Rn.version="18.3.1-next-f1338f8080-20240426";function KE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KE)}catch(t){console.error(t)}}KE(),K0.exports=Rn;var Km=K0.exports;const tA=Jo(Km),nA=L0({__proto__:null,default:tA},[Km]);var Mv=Km;If.createRoot=Mv.createRoot,If.hydrateRoot=Mv.hydrateRoot;const rA="modulepreload",iA=function(t){return"/React-Ecommerce/"+t},Vv={},Jt=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=iA(a),a in Vv)return;Vv[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":rA,u||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ge(){return Ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ge.apply(this,arguments)}var ct;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ct||(ct={}));const Fv="popstate";function sA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return bl("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ji(i)}return aA(e,n,null,t)}function ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $o(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oA(){return Math.random().toString(36).substr(2,8)}function jv(t,e){return{usr:t.state,key:t.key,idx:e}}function bl(t,e,n,r){return n===void 0&&(n=null),Ge({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xi(e):e,{state:n,key:e&&e.key||r||oA()})}function ji(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ct.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Ge({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ct.Pop;let x=d(),S=x==null?null:x-c;c=x,u&&u({action:a,location:R.location,delta:S})}function m(x,S){a=ct.Push;let y=bl(R.location,x,S);c=d()+1;let E=jv(y,c),O=R.createHref(y);try{o.pushState(E,"",O)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(O)}s&&u&&u({action:a,location:R.location,delta:1})}function v(x,S){a=ct.Replace;let y=bl(R.location,x,S);c=d();let E=jv(y,c),O=R.createHref(y);o.replaceState(E,"",O),s&&u&&u({action:a,location:R.location,delta:0})}function I(x){let S=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof x=="string"?x:ji(x);return y=y.replace(/ $/,"%20"),ge(S,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,S)}let R={get action(){return a},get location(){return t(i,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Fv,f),u=x,()=>{i.removeEventListener(Fv,f),u=null}},createHref(x){return e(i,x)},createURL:I,encodeLocation(x){let S=I(x);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:v,go(x){return o.go(x)}};return R}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const lA=new Set(["lazy","caseSensitive","path","id","index","children"]);function uA(t){return t.index===!0}function Ol(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(ge(i.index!==!0||!i.children,"Cannot specify children on an index route"),ge(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),uA(i)){let u=Ge({},i,e(i),{id:a});return r[a]=u,u}else{let u=Ge({},i,e(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=Ol(i.children,e,o,r)),u}})}function ps(t,e,n){return n===void 0&&(n="/"),gc(t,e,n,!1)}function gc(t,e,n,r){let i=typeof e=="string"?Xi(e):e,s=rr(i.pathname||"/",n);if(s==null)return null;let o=GE(t);dA(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=TA(s);a=wA(o[u],c,r)}return a}function cA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function GE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ge(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=vr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(ge(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),GE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:vA(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of QE(s.path))i(s,o,u)}),e}function QE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=QE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function dA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_A(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hA=/^:[\w-]+$/,fA=3,pA=2,mA=1,gA=10,yA=-2,Uv=t=>t==="*";function vA(t,e){let n=t.split("/"),r=n.length;return n.some(Uv)&&(r+=yA),e&&(r+=pA),n.filter(i=>!Uv(i)).reduce((i,s)=>i+(hA.test(s)?fA:s===""?mA:gA),r)}function _A(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wA(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Jc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Jc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:vr([s,f.pathname]),pathnameBase:CA(vr([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=vr([s,f.pathnameBase]))}return o}function Jc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let R=a[f]||"";o=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const I=a[f];return v&&!I?c[m]=void 0:c[m]=(I||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function EA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$o(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $o(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xi(t):t;return{pathname:n?n.startsWith("/")?n:IA(n,e):e,search:PA(r),hash:AA(i)}}function IA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gm(t,e){let n=YE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xi(t):(i=Ge({},t),ge(!i.pathname||!i.pathname.includes("?"),tf("?","pathname","search",i)),ge(!i.pathname||!i.pathname.includes("#"),tf("#","pathname","hash",i)),ge(!i.search||!i.search.includes("#"),tf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=SA(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const vr=t=>t.join("/").replace(/\/\/+/g,"/"),CA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Fn=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,Ge({},r,{headers:i}))};class Zc{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function $d(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XE=["post","put","patch","delete"],RA=new Set(XE),kA=["get",...XE],xA=new Set(kA),NA=new Set([301,302,303,307,308]),DA=new Set([307,308]),nf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},La={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ym=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),JE="remix-router-transitions";function LA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ge(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;i=L=>({hasErrorBoundary:D(L)})}else i=OA;let s={},o=Ol(t.routes,i,void 0,s),a,u=t.basename||"/",c=t.unstable_dataStrategy||UA,d=t.unstable_patchRoutesOnMiss,f=Ge({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,v=new Set,I=null,R=null,x=null,S=t.hydrationData!=null,y=ps(o,t.history.location,u),E=null;if(y==null&&!d){let D=Zt(404,{pathname:t.history.location.pathname}),{matches:L,route:F}=Yv(o);y=L,E={[F.id]:D}}y&&!t.hydrationData&&lr(y,o,t.history.location.pathname).active&&(y=null);let O;if(y)if(y.some(D=>D.route.lazy))O=!1;else if(!y.some(D=>D.route.loader))O=!0;else if(f.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null,F=B=>B.route.loader?typeof B.route.loader=="function"&&B.route.loader.hydrate===!0?!1:D&&D[B.route.id]!==void 0||L&&L[B.route.id]!==void 0:!0;if(L){let B=y.findIndex(G=>L[G.route.id]!==void 0);O=y.slice(0,B+1).every(F)}else O=y.every(F)}else O=t.hydrationData!=null;else if(O=!1,y=[],f.v7_partialHydration){let D=lr(null,o,t.history.location.pathname);D.active&&D.matches&&(y=D.matches)}let U,k={historyAction:t.history.action,location:t.history.location,matches:y,initialized:O,navigation:nf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},C=ct.Pop,g=!1,T,P=!1,N=new Map,b=null,A=!1,me=!1,lt=[],Ee=new Set,se=new Map,$=0,ie=-1,ae=new Map,Pe=new Set,Se=new Map,Ve=new Map,ft=new Set,Ct=new Map,Pt=new Map,$n=new Map,la=!1;function _h(){if(m=t.history.listen(D=>{let{action:L,location:F,delta:B}=D;if(la){la=!1;return}$o(Pt.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=ma({currentLocation:k.location,nextLocation:F,historyAction:L});if(G&&B!=null){la=!0,t.history.go(B*-1),rs(G,{state:"blocked",location:F,proceed(){rs(G,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(B)},reset(){let J=new Map(k.blockers);J.set(G,La),pt({blockers:J})}});return}return ar(L,F)}),n){ZA(e,N);let D=()=>eR(e,N);e.addEventListener("pagehide",D),b=()=>e.removeEventListener("pagehide",D)}return k.initialized||ar(ct.Pop,k.location,{initialHydration:!0}),U}function Hs(){m&&m(),b&&b(),v.clear(),T&&T.abort(),k.fetchers.forEach((D,L)=>Ks(L)),k.blockers.forEach((D,L)=>Qs(L))}function Ws(D){return v.add(D),()=>v.delete(D)}function pt(D,L){L===void 0&&(L={}),k=Ge({},k,D);let F=[],B=[];f.v7_fetcherPersist&&k.fetchers.forEach((G,J)=>{G.state==="idle"&&(ft.has(J)?B.push(J):F.push(J))}),[...v].forEach(G=>G(k,{deletedFetchers:B,unstable_viewTransitionOpts:L.viewTransitionOpts,unstable_flushSync:L.flushSync===!0})),f.v7_fetcherPersist&&(F.forEach(G=>k.fetchers.delete(G)),B.forEach(G=>Ks(G)))}function or(D,L,F){var B,G;let{flushSync:J}=F===void 0?{}:F,oe=k.actionData!=null&&k.navigation.formMethod!=null&&Qn(k.navigation.formMethod)&&k.navigation.state==="loading"&&((B=D.state)==null?void 0:B._isRedirect)!==!0,q;L.actionData?Object.keys(L.actionData).length>0?q=L.actionData:q=null:oe?q=k.actionData:q=null;let ce=L.loaderData?Gv(k.loaderData,L.loaderData,L.matches||[],L.errors):k.loaderData,Z=k.blockers;Z.size>0&&(Z=new Map(Z),Z.forEach((Re,be)=>Z.set(be,La)));let ee=g===!0||k.navigation.formMethod!=null&&Qn(k.navigation.formMethod)&&((G=D.state)==null?void 0:G._isRedirect)!==!0;a&&(o=a,a=void 0),A||C===ct.Pop||(C===ct.Push?t.history.push(D,D.state):C===ct.Replace&&t.history.replace(D,D.state));let ye;if(C===ct.Pop){let Re=N.get(k.location.pathname);Re&&Re.has(D.pathname)?ye={currentLocation:k.location,nextLocation:D}:N.has(D.pathname)&&(ye={currentLocation:D,nextLocation:k.location})}else if(P){let Re=N.get(k.location.pathname);Re?Re.add(D.pathname):(Re=new Set([D.pathname]),N.set(k.location.pathname,Re)),ye={currentLocation:k.location,nextLocation:D}}pt(Ge({},L,{actionData:q,loaderData:ce,historyAction:C,location:D,initialized:!0,navigation:nf,revalidation:"idle",restoreScrollPosition:ya(D,L.matches||k.matches),preventScrollReset:ee,blockers:Z}),{viewTransitionOpts:ye,flushSync:J===!0}),C=ct.Pop,g=!1,P=!1,A=!1,me=!1,lt=[]}async function qs(D,L){if(typeof D=="number"){t.history.go(D);return}let F=yp(k.location,k.matches,u,f.v7_prependBasename,D,f.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:B,submission:G,error:J}=Bv(f.v7_normalizeFormMethod,!1,F,L),oe=k.location,q=bl(k.location,B,L&&L.state);q=Ge({},q,t.history.encodeLocation(q));let ce=L&&L.replace!=null?L.replace:void 0,Z=ct.Push;ce===!0?Z=ct.Replace:ce===!1||G!=null&&Qn(G.formMethod)&&G.formAction===k.location.pathname+k.location.search&&(Z=ct.Replace);let ee=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,ye=(L&&L.unstable_flushSync)===!0,Re=ma({currentLocation:oe,nextLocation:q,historyAction:Z});if(Re){rs(Re,{state:"blocked",location:q,proceed(){rs(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),qs(D,L)},reset(){let be=new Map(k.blockers);be.set(Re,La),pt({blockers:be})}});return}return await ar(Z,q,{submission:G,pendingError:J,preventScrollReset:ee,replace:L&&L.replace,enableViewTransition:L&&L.unstable_viewTransition,flushSync:ye})}function ua(){if(gt(),pt({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){ar(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}ar(C||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation})}}async function ar(D,L,F){T&&T.abort(),T=null,C=D,A=(F&&F.startUninterruptedRevalidation)===!0,Ys(k.location,k.matches),g=(F&&F.preventScrollReset)===!0,P=(F&&F.enableViewTransition)===!0;let B=a||o,G=F&&F.overrideNavigation,J=ps(B,L,u),oe=(F&&F.flushSync)===!0,q=lr(J,B,L.pathname);if(q.active&&q.matches&&(J=q.matches),!J){let{error:Ie,notFoundMatches:ot,route:Xe}=kr(L.pathname);or(L,{matches:ot,loaderData:{},errors:{[Xe.id]:Ie}},{flushSync:oe});return}if(k.initialized&&!me&&qA(k.location,L)&&!(F&&F.submission&&Qn(F.submission.formMethod))){or(L,{matches:J},{flushSync:oe});return}T=new AbortController;let ce=no(t.history,L,T.signal,F&&F.submission),Z;if(F&&F.pendingError)Z=[To(J).route.id,{type:Me.error,error:F.pendingError}];else if(F&&F.submission&&Qn(F.submission.formMethod)){let Ie=await wh(ce,L,F.submission,J,q.active,{replace:F.replace,flushSync:oe});if(Ie.shortCircuited)return;if(Ie.pendingActionResult){let[ot,Xe]=Ie.pendingActionResult;if(_n(Xe)&&$d(Xe.error)&&Xe.error.status===404){T=null,or(L,{matches:Ie.matches,loaderData:{},errors:{[ot]:Xe.error}});return}}J=Ie.matches||J,Z=Ie.pendingActionResult,G=rf(L,F.submission),oe=!1,q.active=!1,ce=no(t.history,ce.url,ce.signal)}let{shortCircuited:ee,matches:ye,loaderData:Re,errors:be}=await Eh(ce,L,J,q.active,G,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,oe,Z);ee||(T=null,or(L,Ge({matches:ye||J},Qv(Z),{loaderData:Re,errors:be})))}async function wh(D,L,F,B,G,J){J===void 0&&(J={}),gt();let oe=XA(L,F);if(pt({navigation:oe},{flushSync:J.flushSync===!0}),G){let Z=await ss(B,L.pathname,D.signal);if(Z.type==="aborted")return{shortCircuited:!0};if(Z.type==="error"){let{boundaryId:ee,error:ye}=ii(L.pathname,Z);return{matches:Z.partialMatches,pendingActionResult:[ee,{type:Me.error,error:ye}]}}else if(Z.matches)B=Z.matches;else{let{notFoundMatches:ee,error:ye,route:Re}=kr(L.pathname);return{matches:ee,pendingActionResult:[Re.id,{type:Me.error,error:ye}]}}}let q,ce=Ka(B,L);if(!ce.route.action&&!ce.route.lazy)q={type:Me.error,error:Zt(405,{method:D.method,pathname:L.pathname,routeId:ce.route.id})};else if(q=(await ri("action",D,[ce],B))[0],D.signal.aborted)return{shortCircuited:!0};if(_s(q)){let Z;return J&&J.replace!=null?Z=J.replace:Z=Wv(q.response.headers.get("Location"),new URL(D.url),u)===k.location.pathname+k.location.search,await Rr(D,q,{submission:F,replace:Z}),{shortCircuited:!0}}if(vs(q))throw Zt(400,{type:"defer-action"});if(_n(q)){let Z=To(B,ce.route.id);return(J&&J.replace)!==!0&&(C=ct.Push),{matches:B,pendingActionResult:[Z.route.id,q]}}return{matches:B,pendingActionResult:[ce.route.id,q]}}async function Eh(D,L,F,B,G,J,oe,q,ce,Z,ee){let ye=G||rf(L,J),Re=J||oe||e_(ye),be=!A&&(!f.v7_partialHydration||!ce);if(B){if(be){let Be=ca(ee);pt(Ge({navigation:ye},Be!==void 0?{actionData:Be}:{}),{flushSync:Z})}let fe=await ss(F,L.pathname,D.signal);if(fe.type==="aborted")return{shortCircuited:!0};if(fe.type==="error"){let{boundaryId:Be,error:Ut}=ii(L.pathname,fe);return{matches:fe.partialMatches,loaderData:{},errors:{[Be]:Ut}}}else if(fe.matches)F=fe.matches;else{let{error:Be,notFoundMatches:Ut,route:Le}=kr(L.pathname);return{matches:Ut,loaderData:{},errors:{[Le.id]:Be}}}}let Ie=a||o,[ot,Xe]=$v(t.history,k,F,Re,L,f.v7_partialHydration&&ce===!0,f.v7_skipActionErrorRevalidation,me,lt,Ee,ft,Se,Pe,Ie,u,ee);if(is(fe=>!(F&&F.some(Be=>Be.route.id===fe))||ot&&ot.some(Be=>Be.route.id===fe)),ie=++$,ot.length===0&&Xe.length===0){let fe=Gs();return or(L,Ge({matches:F,loaderData:{},errors:ee&&_n(ee[1])?{[ee[0]]:ee[1].error}:null},Qv(ee),fe?{fetchers:new Map(k.fetchers)}:{}),{flushSync:Z}),{shortCircuited:!0}}if(be){let fe={};if(!B){fe.navigation=ye;let Be=ca(ee);Be!==void 0&&(fe.actionData=Be)}Xe.length>0&&(fe.fetchers=da(Xe)),pt(fe,{flushSync:Z})}Xe.forEach(fe=>{se.has(fe.key)&&zn(fe.key),fe.controller&&se.set(fe.key,fe.controller)});let si=()=>Xe.forEach(fe=>zn(fe.key));T&&T.signal.addEventListener("abort",si);let{loaderResults:ur,fetcherResults:Hn}=await mt(k.matches,F,ot,Xe,D);if(D.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",si),Xe.forEach(fe=>se.delete(fe.key));let Nr=Xv([...ur,...Hn]);if(Nr){if(Nr.idx>=ot.length){let fe=Xe[Nr.idx-ot.length].key;Pe.add(fe)}return await Rr(D,Nr.result,{replace:q}),{shortCircuited:!0}}let{loaderData:cr,errors:jt}=Kv(k,F,ot,ur,ee,Xe,Hn,Ct);Ct.forEach((fe,Be)=>{fe.subscribe(Ut=>{(Ut||fe.done)&&Ct.delete(Be)})}),f.v7_partialHydration&&ce&&k.errors&&Object.entries(k.errors).filter(fe=>{let[Be]=fe;return!ot.some(Ut=>Ut.route.id===Be)}).forEach(fe=>{let[Be,Ut]=fe;jt=Object.assign(jt||{},{[Be]:Ut})});let Dn=Gs(),oi=wu(ie),Xs=Dn||oi||Xe.length>0;return Ge({matches:F,loaderData:cr,errors:jt},Xs?{fetchers:new Map(k.fetchers)}:{})}function ca(D){if(D&&!_n(D[1]))return{[D[0]]:D[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function da(D){return D.forEach(L=>{let F=k.fetchers.get(L.key),B=Ma(void 0,F?F.data:void 0);k.fetchers.set(L.key,B)}),new Map(k.fetchers)}function _u(D,L,F,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");se.has(D)&&zn(D);let G=(B&&B.unstable_flushSync)===!0,J=a||o,oe=yp(k.location,k.matches,u,f.v7_prependBasename,F,f.v7_relativeSplatPath,L,B==null?void 0:B.relative),q=ps(J,oe,u),ce=lr(q,J,oe);if(ce.active&&ce.matches&&(q=ce.matches),!q){Nn(D,L,Zt(404,{pathname:oe}),{flushSync:G});return}let{path:Z,submission:ee,error:ye}=Bv(f.v7_normalizeFormMethod,!0,oe,B);if(ye){Nn(D,L,ye,{flushSync:G});return}let Re=Ka(q,Z);if(g=(B&&B.preventScrollReset)===!0,ee&&Qn(ee.formMethod)){Th(D,L,Z,Re,q,ce.active,G,ee);return}Se.set(D,{routeId:L,path:Z}),ha(D,L,Z,Re,q,ce.active,G,ee)}async function Th(D,L,F,B,G,J,oe,q){gt(),Se.delete(D);function ce(Le){if(!Le.route.action&&!Le.route.lazy){let gn=Zt(405,{method:q.formMethod,pathname:F,routeId:L});return Nn(D,L,gn,{flushSync:oe}),!0}return!1}if(!J&&ce(B))return;let Z=k.fetchers.get(D);mn(D,JA(q,Z),{flushSync:oe});let ee=new AbortController,ye=no(t.history,F,ee.signal,q);if(J){let Le=await ss(G,F,ye.signal);if(Le.type==="aborted")return;if(Le.type==="error"){let{error:gn}=ii(F,Le);Nn(D,L,gn,{flushSync:oe});return}else if(Le.matches){if(G=Le.matches,B=Ka(G,F),ce(B))return}else{Nn(D,L,Zt(404,{pathname:F}),{flushSync:oe});return}}se.set(D,ee);let Re=$,Ie=(await ri("action",ye,[B],G))[0];if(ye.signal.aborted){se.get(D)===ee&&se.delete(D);return}if(f.v7_fetcherPersist&&ft.has(D)){if(_s(Ie)||_n(Ie)){mn(D,di(void 0));return}}else{if(_s(Ie))if(se.delete(D),ie>Re){mn(D,di(void 0));return}else return Pe.add(D),mn(D,Ma(q)),Rr(ye,Ie,{fetcherSubmission:q});if(_n(Ie)){Nn(D,L,Ie.error);return}}if(vs(Ie))throw Zt(400,{type:"defer-action"});let ot=k.navigation.location||k.location,Xe=no(t.history,ot,ee.signal),si=a||o,ur=k.navigation.state!=="idle"?ps(si,k.navigation.location,u):k.matches;ge(ur,"Didn't find any matches after fetcher action");let Hn=++$;ae.set(D,Hn);let Nr=Ma(q,Ie.data);k.fetchers.set(D,Nr);let[cr,jt]=$v(t.history,k,ur,q,ot,!1,f.v7_skipActionErrorRevalidation,me,lt,Ee,ft,Se,Pe,si,u,[B.route.id,Ie]);jt.filter(Le=>Le.key!==D).forEach(Le=>{let gn=Le.key,va=k.fetchers.get(gn),Tu=Ma(void 0,va?va.data:void 0);k.fetchers.set(gn,Tu),se.has(gn)&&zn(gn),Le.controller&&se.set(gn,Le.controller)}),pt({fetchers:new Map(k.fetchers)});let Dn=()=>jt.forEach(Le=>zn(Le.key));ee.signal.addEventListener("abort",Dn);let{loaderResults:oi,fetcherResults:Xs}=await mt(k.matches,ur,cr,jt,Xe);if(ee.signal.aborted)return;ee.signal.removeEventListener("abort",Dn),ae.delete(D),se.delete(D),jt.forEach(Le=>se.delete(Le.key));let fe=Xv([...oi,...Xs]);if(fe){if(fe.idx>=cr.length){let Le=jt[fe.idx-cr.length].key;Pe.add(Le)}return Rr(Xe,fe.result)}let{loaderData:Be,errors:Ut}=Kv(k,k.matches,cr,oi,void 0,jt,Xs,Ct);if(k.fetchers.has(D)){let Le=di(Ie.data);k.fetchers.set(D,Le)}wu(Hn),k.navigation.state==="loading"&&Hn>ie?(ge(C,"Expected pending action"),T&&T.abort(),or(k.navigation.location,{matches:ur,loaderData:Be,errors:Ut,fetchers:new Map(k.fetchers)})):(pt({errors:Ut,loaderData:Gv(k.loaderData,Be,ur,Ut),fetchers:new Map(k.fetchers)}),me=!1)}async function ha(D,L,F,B,G,J,oe,q){let ce=k.fetchers.get(D);mn(D,Ma(q,ce?ce.data:void 0),{flushSync:oe});let Z=new AbortController,ee=no(t.history,F,Z.signal);if(J){let Ie=await ss(G,F,ee.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:ot}=ii(F,Ie);Nn(D,L,ot,{flushSync:oe});return}else if(Ie.matches)G=Ie.matches,B=Ka(G,F);else{Nn(D,L,Zt(404,{pathname:F}),{flushSync:oe});return}}se.set(D,Z);let ye=$,be=(await ri("loader",ee,[B],G))[0];if(vs(be)&&(be=await rT(be,ee.signal,!0)||be),se.get(D)===Z&&se.delete(D),!ee.signal.aborted){if(ft.has(D)){mn(D,di(void 0));return}if(_s(be))if(ie>ye){mn(D,di(void 0));return}else{Pe.add(D),await Rr(ee,be);return}if(_n(be)){Nn(D,L,be.error);return}ge(!vs(be),"Unhandled fetcher deferred data"),mn(D,di(be.data))}}async function Rr(D,L,F){let{submission:B,fetcherSubmission:G,replace:J}=F===void 0?{}:F;L.response.headers.has("X-Remix-Revalidate")&&(me=!0);let oe=L.response.headers.get("Location");ge(oe,"Expected a Location header on the redirect Response"),oe=Wv(oe,new URL(D.url),u);let q=bl(k.location,oe,{_isRedirect:!0});if(n){let be=!1;if(L.response.headers.has("X-Remix-Reload-Document"))be=!0;else if(Ym.test(oe)){const Ie=t.history.createURL(oe);be=Ie.origin!==e.location.origin||rr(Ie.pathname,u)==null}if(be){J?e.location.replace(oe):e.location.assign(oe);return}}T=null;let ce=J===!0||L.response.headers.has("X-Remix-Replace")?ct.Replace:ct.Push,{formMethod:Z,formAction:ee,formEncType:ye}=k.navigation;!B&&!G&&Z&&ee&&ye&&(B=e_(k.navigation));let Re=B||G;if(DA.has(L.response.status)&&Re&&Qn(Re.formMethod))await ar(ce,q,{submission:Ge({},Re,{formAction:oe}),preventScrollReset:g});else{let be=rf(q,B);await ar(ce,q,{overrideNavigation:be,fetcherSubmission:G,preventScrollReset:g})}}async function ri(D,L,F,B){try{let G=await BA(c,D,L,F,B,s,i);return await Promise.all(G.map((J,oe)=>{if(GA(J)){let q=J.result;return{type:Me.redirect,response:HA(q,L,F[oe].route.id,B,u,f.v7_relativeSplatPath)}}return zA(J)}))}catch(G){return F.map(()=>({type:Me.error,error:G}))}}async function mt(D,L,F,B,G){let[J,...oe]=await Promise.all([F.length?ri("loader",G,F,L):[],...B.map(q=>{if(q.matches&&q.match&&q.controller){let ce=no(t.history,q.path,q.controller.signal);return ri("loader",ce,[q.match],q.matches).then(Z=>Z[0])}else return Promise.resolve({type:Me.error,error:Zt(404,{pathname:q.path})})})]);return await Promise.all([Zv(D,F,J,J.map(()=>G.signal),!1,k.loaderData),Zv(D,B.map(q=>q.match),oe,B.map(q=>q.controller?q.controller.signal:null),!0)]),{loaderResults:J,fetcherResults:oe}}function gt(){me=!0,lt.push(...is()),Se.forEach((D,L)=>{se.has(L)&&(Ee.add(L),zn(L))})}function mn(D,L,F){F===void 0&&(F={}),k.fetchers.set(D,L),pt({fetchers:new Map(k.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Nn(D,L,F,B){B===void 0&&(B={});let G=To(k.matches,L);Ks(D),pt({errors:{[G.route.id]:F},fetchers:new Map(k.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function fa(D){return f.v7_fetcherPersist&&(Ve.set(D,(Ve.get(D)||0)+1),ft.has(D)&&ft.delete(D)),k.fetchers.get(D)||bA}function Ks(D){let L=k.fetchers.get(D);se.has(D)&&!(L&&L.state==="loading"&&ae.has(D))&&zn(D),Se.delete(D),ae.delete(D),Pe.delete(D),ft.delete(D),Ee.delete(D),k.fetchers.delete(D)}function ns(D){if(f.v7_fetcherPersist){let L=(Ve.get(D)||0)-1;L<=0?(Ve.delete(D),ft.add(D)):Ve.set(D,L)}else Ks(D);pt({fetchers:new Map(k.fetchers)})}function zn(D){let L=se.get(D);ge(L,"Expected fetch controller: "+D),L.abort(),se.delete(D)}function pa(D){for(let L of D){let F=fa(L),B=di(F.data);k.fetchers.set(L,B)}}function Gs(){let D=[],L=!1;for(let F of Pe){let B=k.fetchers.get(F);ge(B,"Expected fetcher: "+F),B.state==="loading"&&(Pe.delete(F),D.push(F),L=!0)}return pa(D),L}function wu(D){let L=[];for(let[F,B]of ae)if(B<D){let G=k.fetchers.get(F);ge(G,"Expected fetcher: "+F),G.state==="loading"&&(zn(F),ae.delete(F),L.push(F))}return pa(L),L.length>0}function Sh(D,L){let F=k.blockers.get(D)||La;return Pt.get(D)!==L&&Pt.set(D,L),F}function Qs(D){k.blockers.delete(D),Pt.delete(D)}function rs(D,L){let F=k.blockers.get(D)||La;ge(F.state==="unblocked"&&L.state==="blocked"||F.state==="blocked"&&L.state==="blocked"||F.state==="blocked"&&L.state==="proceeding"||F.state==="blocked"&&L.state==="unblocked"||F.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+L.state);let B=new Map(k.blockers);B.set(D,L),pt({blockers:B})}function ma(D){let{currentLocation:L,nextLocation:F,historyAction:B}=D;if(Pt.size===0)return;Pt.size>1&&$o(!1,"A router only supports one blocker at a time");let G=Array.from(Pt.entries()),[J,oe]=G[G.length-1],q=k.blockers.get(J);if(!(q&&q.state==="proceeding")&&oe({currentLocation:L,nextLocation:F,historyAction:B}))return J}function kr(D){let L=Zt(404,{pathname:D}),F=a||o,{matches:B,route:G}=Yv(F);return is(),{notFoundMatches:B,route:G,error:L}}function ii(D,L){return{boundaryId:To(L.partialMatches).route.id,error:Zt(400,{type:"route-discovery",pathname:D,message:L.error!=null&&"message"in L.error?L.error:String(L.error)})}}function is(D){let L=[];return Ct.forEach((F,B)=>{(!D||D(B))&&(F.cancel(),L.push(B),Ct.delete(B))}),L}function xr(D,L,F){if(I=D,x=L,R=F||null,!S&&k.navigation===nf){S=!0;let B=ya(k.location,k.matches);B!=null&&pt({restoreScrollPosition:B})}return()=>{I=null,x=null,R=null}}function ga(D,L){return R&&R(D,L.map(B=>cA(B,k.loaderData)))||D.key}function Ys(D,L){if(I&&x){let F=ga(D,L);I[F]=x()}}function ya(D,L){if(I){let F=ga(D,L),B=I[F];if(typeof B=="number")return B}return null}function lr(D,L,F){if(d)if(D){let B=D[D.length-1].route;if(B.path&&(B.path==="*"||B.path.endsWith("/*")))return{active:!0,matches:gc(L,F,u,!0)}}else return{active:!0,matches:gc(L,F,u,!0)||[]};return{active:!1,matches:null}}async function ss(D,L,F){let B=D,G=B.length>0?B[B.length-1].route:null;for(;;){let J=a==null,oe=a||o;try{await jA(d,L,B,oe,s,i,$n,F)}catch(ee){return{type:"error",error:ee,partialMatches:B}}finally{J&&(o=[...o])}if(F.aborted)return{type:"aborted"};let q=ps(oe,L,u),ce=!1;if(q){let ee=q[q.length-1].route;if(ee.index)return{type:"success",matches:q};if(ee.path&&ee.path.length>0)if(ee.path==="*")ce=!0;else return{type:"success",matches:q}}let Z=gc(oe,L,u,!0);if(!Z||B.map(ee=>ee.route.id).join("-")===Z.map(ee=>ee.route.id).join("-"))return{type:"success",matches:ce?q:null};if(B=Z,G=B[B.length-1].route,G.path==="*")return{type:"success",matches:B}}}function At(D){s={},a=Ol(D,i,void 0,s)}function Eu(D,L){let F=a==null;eT(D,L,a||o,s,i),F&&(o=[...o],pt({}))}return U={get basename(){return u},get future(){return f},get state(){return k},get routes(){return o},get window(){return e},initialize:_h,subscribe:Ws,enableScrollRestoration:xr,navigate:qs,fetch:_u,revalidate:ua,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:fa,deleteFetcher:ns,dispose:Hs,getBlocker:Sh,deleteBlocker:Qs,patchRoutes:Eu,_internalFetchControllers:se,_internalActiveDeferreds:Ct,_internalSetRoutes:At},U}function MA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function yp(t,e,n,r,i,s,o,a){let u,c;if(o){u=[];for(let f of e)if(u.push(f),f.route.id===o){c=f;break}}else u=e,c=e[e.length-1];let d=Qm(i||".",Gm(u,s),rr(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Xm(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:vr([n,d.pathname])),ji(d)}function Bv(t,e,n,r){if(!r||!MA(r))return{path:n};if(r.formMethod&&!YA(r.formMethod))return{path:n,error:Zt(405,{method:r.formMethod})};let i=()=>({path:n,error:Zt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=tT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Qn(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,I)=>{let[R,x]=I;return""+v+R+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Qn(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}ge(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=vp(r.formData),c=r.formData;else if(r.body instanceof FormData)u=vp(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=qv(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=qv(u)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Qn(d.formMethod))return{path:n,submission:d};let f=Xi(n);return e&&f.search&&Xm(f.search)&&u.append("index",""),f.search="?"+u,{path:ji(f),submission:d}}function VA(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function $v(t,e,n,r,i,s,o,a,u,c,d,f,m,v,I,R){let x=R?_n(R[1])?R[1].error:R[1].data:void 0,S=t.createURL(e.location),y=t.createURL(i),E=R&&_n(R[1])?R[0]:void 0,O=E?VA(n,E):n,U=R?R[1].statusCode:void 0,k=o&&U&&U>=400,C=O.filter((T,P)=>{let{route:N}=T;if(N.lazy)return!0;if(N.loader==null)return!1;if(s)return typeof N.loader!="function"||N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(FA(e.loaderData,e.matches[P],T)||u.some(me=>me===T.route.id))return!0;let b=e.matches[P],A=T;return zv(T,Ge({currentUrl:S,currentParams:b.params,nextUrl:y,nextParams:A.params},r,{actionResult:x,actionStatus:U,defaultShouldRevalidate:k?!1:a||S.pathname+S.search===y.pathname+y.search||S.search!==y.search||ZE(b,A)}))}),g=[];return f.forEach((T,P)=>{if(s||!n.some(lt=>lt.route.id===T.routeId)||d.has(P))return;let N=ps(v,T.path,I);if(!N){g.push({key:P,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let b=e.fetchers.get(P),A=Ka(N,T.path),me=!1;m.has(P)?me=!1:c.has(P)?(c.delete(P),me=!0):b&&b.state!=="idle"&&b.data===void 0?me=a:me=zv(A,Ge({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:U,defaultShouldRevalidate:k?!1:a})),me&&g.push({key:P,routeId:T.routeId,path:T.path,matches:N,match:A,controller:new AbortController})}),[C,g]}function FA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function ZE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function zv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function jA(t,e,n,r,i,s,o,a){let u=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(u);c||(c=t({path:e,matches:n,patch:(d,f)=>{a.aborted||eT(d,f,r,i,s)}}),o.set(u,c)),c&&KA(c)&&await c}finally{o.delete(u)}}function eT(t,e,n,r,i){if(t){var s;let o=r[t];ge(o,"No route found to patch children into: routeId = "+t);let a=Ol(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Ol(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function Hv(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ge(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";$o(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!lA.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ge({},e(i),{lazy:void 0}))}function UA(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function BA(t,e,n,r,i,s,o,a){let u=r.reduce((f,m)=>f.add(m.route.id),new Set),c=new Set,d=await t({matches:i.map(f=>{let m=u.has(f.route.id);return Ge({},f,{shouldLoad:m,resolve:I=>(c.add(f.route.id),m?$A(e,n,f,s,o,I,a):Promise.resolve({type:Me.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(f=>ge(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((f,m)=>u.has(i[m].route.id))}async function $A(t,e,n,r,i,s,o){let a,u,c=d=>{let f,m=new Promise((R,x)=>f=x);u=()=>f(),e.signal.addEventListener("abort",u);let v=R=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:o},...R!==void 0?[R]:[]),I;return s?I=s(R=>v(R)):I=(async()=>{try{return{type:"data",result:await v()}}catch(R){return{type:"error",result:R}}})(),Promise.race([I,m])};try{let d=n.route[t];if(n.route.lazy)if(d){let f,[m]=await Promise.all([c(d).catch(v=>{f=v}),Hv(n.route,i,r)]);if(f!==void 0)throw f;a=m}else if(await Hv(n.route,i,r),d=n.route[t],d)a=await c(d);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw Zt(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Me.data,result:void 0};else if(d)a=await c(d);else{let f=new URL(e.url),m=f.pathname+f.search;throw Zt(404,{pathname:m})}ge(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Me.error,result:d}}finally{u&&e.signal.removeEventListener("abort",u)}return a}async function zA(t){let{result:e,type:n}=t;if(nT(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:Me.error,error:d}}return n===Me.error?{type:Me.error,error:new Zc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Me.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Me.error){if(Jv(e)){var r;if(e.data instanceof Error){var i;return{type:Me.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Zc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Me.error,error:e,statusCode:$d(e)?e.status:void 0}}if(QA(e)){var s,o;return{type:Me.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Jv(e)){var a,u;return{type:Me.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Me.data,data:e}}function HA(t,e,n,r,i,s){let o=t.headers.get("Location");if(ge(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ym.test(o)){let a=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=yp(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Wv(t,e,n){if(Ym.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=rr(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function no(t,e,n,r){let i=t.createURL(tT(e)).toString(),s={signal:n};if(r&&Qn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=vp(r.formData):s.body=r.formData}return new Request(i,s)}function vp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function qv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function WA(t,e,n,r,i,s){let o={},a=null,u,c=!1,d={},f=r&&_n(r[1])?r[1].error:void 0;return n.forEach((m,v)=>{let I=e[v].route.id;if(ge(!_s(m),"Cannot handle redirect results in processLoaderData"),_n(m)){let R=m.error;f!==void 0&&(R=f,f=void 0),a=a||{};{let x=To(t,I);a[x.route.id]==null&&(a[x.route.id]=R)}o[I]=void 0,c||(c=!0,u=$d(m.error)?m.error.status:500),m.headers&&(d[I]=m.headers)}else vs(m)?(i.set(I,m.deferredData),o[I]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(d[I]=m.headers)):(o[I]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(d[I]=m.headers))}),f!==void 0&&r&&(a={[r[0]]:f},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:u||200,loaderHeaders:d}}function Kv(t,e,n,r,i,s,o,a){let{loaderData:u,errors:c}=WA(e,n,r,i,a);for(let d=0;d<s.length;d++){let{key:f,match:m,controller:v}=s[d];ge(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let I=o[d];if(!(v&&v.signal.aborted))if(_n(I)){let R=To(t.matches,m==null?void 0:m.route.id);c&&c[R.route.id]||(c=Ge({},c,{[R.route.id]:I.error})),t.fetchers.delete(f)}else if(_s(I))ge(!1,"Unhandled fetcher revalidation redirect");else if(vs(I))ge(!1,"Unhandled fetcher deferred data");else{let R=di(I.data);t.fetchers.set(f,R)}}return{loaderData:u,errors:c}}function Gv(t,e,n,r){let i=Ge({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Qv(t){return t?_n(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function To(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Yv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zt(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(a="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",u='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Zc(t||500,a,new Error(u),!0)}function Xv(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(_s(n))return{result:n,idx:e}}}function tT(t){let e=typeof t=="string"?Xi(t):t;return ji(Ge({},e,{hash:""}))}function qA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function KA(t){return typeof t=="object"&&t!=null&&"then"in t}function GA(t){return nT(t.result)&&NA.has(t.result.status)}function vs(t){return t.type===Me.deferred}function _n(t){return t.type===Me.error}function _s(t){return(t&&t.type)===Me.redirect}function Jv(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function QA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function nT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function YA(t){return xA.has(t.toLowerCase())}function Qn(t){return RA.has(t.toLowerCase())}async function Zv(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],u=e[o];if(!u)continue;let c=t.find(f=>f.route.id===u.route.id),d=c!=null&&!ZE(c,u)&&(s&&s[u.route.id])!==void 0;if(vs(a)&&(i||d)){let f=r[o];ge(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await rT(a,f,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function rT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Me.error,error:i}}return{type:Me.data,data:t.deferredData.data}}}function Xm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ka(t,e){let n=typeof e=="string"?Xi(e).search:e.search;if(t[t.length-1].route.index&&Xm(n||""))return t[t.length-1];let r=YE(t);return r[r.length-1]}function e_(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function rf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function XA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ma(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function JA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function di(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ZA(t,e){try{let n=t.sessionStorage.getItem(JE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function eR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(JE,JSON.stringify(n))}catch(r){$o(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(this,arguments)}const Jl=V.createContext(null),Jm=V.createContext(null),Cr=V.createContext(null),Zm=V.createContext(null),Pr=V.createContext({outlet:null,matches:[],isDataRoute:!1}),iT=V.createContext(null);function tR(t,e){let{relative:n}=e===void 0?{}:e;Zl()||ge(!1);let{basename:r,navigator:i}=V.useContext(Cr),{hash:s,pathname:o,search:a}=eu(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:vr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Zl(){return V.useContext(Zm)!=null}function Ji(){return Zl()||ge(!1),V.useContext(Zm).location}function sT(t){V.useContext(Cr).static||V.useLayoutEffect(t)}function sr(){let{isDataRoute:t}=V.useContext(Pr);return t?mR():nR()}function nR(){Zl()||ge(!1);let t=V.useContext(Jl),{basename:e,future:n,navigator:r}=V.useContext(Cr),{matches:i}=V.useContext(Pr),{pathname:s}=Ji(),o=JSON.stringify(Gm(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return sT(()=>{a.current=!0}),V.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Qm(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:vr([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const rR=V.createContext(null);function iR(t){let e=V.useContext(Pr).outlet;return e&&V.createElement(rR.Provider,{value:t},e)}function EU(){let{matches:t}=V.useContext(Pr),e=t[t.length-1];return e?e.params:{}}function eu(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(Cr),{matches:i}=V.useContext(Pr),{pathname:s}=Ji(),o=JSON.stringify(Gm(i,r.v7_relativeSplatPath));return V.useMemo(()=>Qm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function sR(t,e,n,r){Zl()||ge(!1);let{navigator:i}=V.useContext(Cr),{matches:s}=V.useContext(Pr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Ji(),d;d=c;let f=d.pathname||"/",m=f;if(u!=="/"){let R=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(R.length).join("/")}let v=ps(t,{pathname:m});return cR(v&&v.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:vr([u,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:vr([u,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r)}function oR(){let t=lT(),e=$d(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const aR=V.createElement(oR,null);class lR extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(Pr.Provider,{value:this.props.routeContext},V.createElement(iT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uR(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(Jl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Pr.Provider,{value:e},r)}function cR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ge(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:v}=n,I=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||I){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let v,I=!1,R=null,x=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,R=f.route.errorElement||aR,u&&(c<0&&m===0?(I=!0,x=null):c===m&&(I=!0,x=f.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,m+1)),y=()=>{let E;return v?E=R:I?E=x:f.route.Component?E=V.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,V.createElement(uR,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?V.createElement(lR,{location:n.location,revalidation:n.revalidation,component:R,error:v,children:y(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):y()},null)}var oT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oT||{}),Ui=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ui||{});function dR(t){let e=V.useContext(Jl);return e||ge(!1),e}function eg(t){let e=V.useContext(Jm);return e||ge(!1),e}function hR(t){let e=V.useContext(Pr);return e||ge(!1),e}function zd(t){let e=hR(),n=e.matches[e.matches.length-1];return n.route.id||ge(!1),n.route.id}function fR(){return zd(Ui.UseRouteId)}function aT(){let t=eg(Ui.UseLoaderData),e=zd(Ui.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function pR(t){return eg(Ui.UseRouteLoaderData).loaderData[t]}function lT(){var t;let e=V.useContext(iT),n=eg(Ui.UseRouteError),r=zd(Ui.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mR(){let{router:t}=dR(oT.UseNavigateStable),e=zd(Ui.UseNavigateStable),n=V.useRef(!1);return sT(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ed({fromRouteId:e},s)))},[t,e])}function tu(t){return iR(t.context)}function gR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ct.Pop,navigator:s,static:o=!1,future:a}=t;Zl()&&ge(!1);let u=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:u,navigator:s,static:o,future:ed({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Xi(r));let{pathname:d="/",search:f="",hash:m="",state:v=null,key:I="default"}=r,R=V.useMemo(()=>{let x=rr(d,u);return x==null?null:{location:{pathname:x,search:f,hash:m,state:v,key:I},navigationType:i}},[u,d,f,m,v,I,i]);return R==null?null:V.createElement(Cr.Provider,{value:c},V.createElement(Zm.Provider,{children:n,value:R}))}new Promise(()=>{});function yR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:V.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:V.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:V.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bi(){return Bi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bi.apply(this,arguments)}function tg(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const yc="get",sf="application/x-www-form-urlencoded";function Hd(t){return t!=null&&typeof t.tagName=="string"}function vR(t){return Hd(t)&&t.tagName.toLowerCase()==="button"}function _R(t){return Hd(t)&&t.tagName.toLowerCase()==="form"}function wR(t){return Hd(t)&&t.tagName.toLowerCase()==="input"}function ER(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TR(t,e){return t.button===0&&(!e||e==="_self")&&!ER(t)}function _p(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function SR(t,e){let n=_p(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}let Yu=null;function IR(){if(Yu===null)try{new FormData(document.createElement("form"),0),Yu=!1}catch{Yu=!0}return Yu}const CR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function of(t){return t!=null&&!CR.has(t)?null:t}function PR(t,e){let n,r,i,s,o;if(_R(t)){let a=t.getAttribute("action");r=a?rr(a,e):null,n=t.getAttribute("method")||yc,i=of(t.getAttribute("enctype"))||sf,s=new FormData(t)}else if(vR(t)||wR(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?rr(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||yc,i=of(t.getAttribute("formenctype"))||of(a.getAttribute("enctype"))||sf,s=new FormData(a,t),!IR()){let{name:c,type:d,value:f}=t;if(d==="image"){let m=c?c+".":"";s.append(m+"x","0"),s.append(m+"y","0")}else c&&s.append(c,f)}}else{if(Hd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yc,r=null,i=sf,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}const AR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],RR=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],kR=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"],xR="6";try{window.__reactRouterVersion=xR}catch{}function NR(t,e){return LA({basename:e==null?void 0:e.basename,future:Bi({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:sA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||DR(),routes:t,mapRouteProperties:yR,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnMiss:e==null?void 0:e.unstable_patchRoutesOnMiss,window:e==null?void 0:e.window}).initialize()}function DR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Bi({},e,{errors:bR(e.errors)})),e}function bR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Zc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const uT=V.createContext({isTransitioning:!1}),OR=V.createContext(new Map),LR="startTransition",t_=Sf[LR],MR="flushSync",n_=nA[MR];function VR(t){t_?t_(t):t()}function Va(t){n_?n_(t):t()}let FR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function jR(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=V.useState(n.state),[o,a]=V.useState(),[u,c]=V.useState({isTransitioning:!1}),[d,f]=V.useState(),[m,v]=V.useState(),[I,R]=V.useState(),x=V.useRef(new Map),{v7_startTransition:S}=r||{},y=V.useCallback(g=>{S?VR(g):g()},[S]),E=V.useCallback((g,T)=>{let{deletedFetchers:P,unstable_flushSync:N,unstable_viewTransitionOpts:b}=T;P.forEach(me=>x.current.delete(me)),g.fetchers.forEach((me,lt)=>{me.data!==void 0&&x.current.set(lt,me.data)});let A=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!b||A){N?Va(()=>s(g)):y(()=>s(g));return}if(N){Va(()=>{m&&(d&&d.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:b.currentLocation,nextLocation:b.nextLocation})});let me=n.window.document.startViewTransition(()=>{Va(()=>s(g))});me.finished.finally(()=>{Va(()=>{f(void 0),v(void 0),a(void 0),c({isTransitioning:!1})})}),Va(()=>v(me));return}m?(d&&d.resolve(),m.skipTransition(),R({state:g,currentLocation:b.currentLocation,nextLocation:b.nextLocation})):(a(g),c({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}))},[n.window,m,d,x,y]);V.useLayoutEffect(()=>n.subscribe(E),[n,E]),V.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new FR)},[u]),V.useEffect(()=>{if(d&&o&&n.window){let g=o,T=d.promise,P=n.window.document.startViewTransition(async()=>{y(()=>s(g)),await T});P.finished.finally(()=>{f(void 0),v(void 0),a(void 0),c({isTransitioning:!1})}),v(P)}},[y,o,d,n.window]),V.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,m,i.location,o]),V.useEffect(()=>{!u.isTransitioning&&I&&(a(I.state),c({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}),R(void 0))},[u.isTransitioning,I]),V.useEffect(()=>{},[]);let O=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,T,P)=>n.navigate(g,{state:T,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(g,T,P)=>n.navigate(g,{replace:!0,state:T,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),U=n.basename||"/",k=V.useMemo(()=>({router:n,navigator:O,static:!1,basename:U}),[n,O,U]),C=V.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return V.createElement(V.Fragment,null,V.createElement(Jl.Provider,{value:k},V.createElement(Jm.Provider,{value:i},V.createElement(OR.Provider,{value:x.current},V.createElement(uT.Provider,{value:u},V.createElement(gR,{basename:U,location:i.location,navigationType:i.historyAction,navigator:O,future:C},i.initialized||n.future.v7_partialHydration?V.createElement(UR,{routes:n.routes,future:n.future,state:i}):e))))),null)}const UR=V.memo(BR);function BR(t){let{routes:e,future:n,state:r}=t;return sR(e,void 0,r,n)}const $R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=V.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,m=tg(e,AR),{basename:v}=V.useContext(Cr),I,R=!1;if(typeof c=="string"&&zR.test(c)&&(I=c,$R))try{let E=new URL(window.location.href),O=c.startsWith("//")?new URL(E.protocol+c):new URL(c),U=rr(O.pathname,v);O.origin===E.origin&&U!=null?c=U+O.search+O.hash:R=!0}catch{}let x=tR(c,{relative:i}),S=WR(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:f});function y(E){r&&r(E),E.defaultPrevented||S(E)}return V.createElement("a",Bi({},m,{href:I||x,onClick:R||s?r:y,ref:n,target:u}))}),ls=V.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:u,unstable_viewTransition:c,children:d}=e,f=tg(e,RR),m=eu(u,{relative:f.relative}),v=Ji(),I=V.useContext(Jm),{navigator:R,basename:x}=V.useContext(Cr),S=I!=null&&YR(m)&&c===!0,y=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,E=v.pathname,O=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;i||(E=E.toLowerCase(),O=O?O.toLowerCase():null,y=y.toLowerCase()),O&&x&&(O=rr(O,x)||O);const U=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=E===y||!o&&E.startsWith(y)&&E.charAt(U)==="/",C=O!=null&&(O===y||!o&&O.startsWith(y)&&O.charAt(y.length)==="/"),g={isActive:k,isPending:C,isTransitioning:S},T=k?r:void 0,P;typeof s=="function"?P=s(g):P=[s,k?"active":null,C?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(g):a;return V.createElement(qt,Bi({},f,{"aria-current":T,className:P,ref:n,style:N,to:u,unstable_viewTransition:c}),typeof d=="function"?d(g):d)}),HR=V.forwardRef((t,e)=>{let{fetcherKey:n,navigate:r,reloadDocument:i,replace:s,state:o,method:a=yc,action:u,onSubmit:c,relative:d,preventScrollReset:f,unstable_viewTransition:m}=t,v=tg(t,kR),I=hT(),R=QR(u,{relative:d}),x=a.toLowerCase()==="get"?"get":"post",S=y=>{if(c&&c(y),y.defaultPrevented)return;y.preventDefault();let E=y.nativeEvent.submitter,O=(E==null?void 0:E.getAttribute("formmethod"))||a;I(E||y.currentTarget,{fetcherKey:n,method:O,navigate:r,replace:s,state:o,relative:d,preventScrollReset:f,unstable_viewTransition:m})};return V.createElement("form",Bi({ref:e,method:x,action:R,onSubmit:i?c:S},v))});var td;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(td||(td={}));var r_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(r_||(r_={}));function cT(t){let e=V.useContext(Jl);return e||ge(!1),e}function WR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=sr(),c=Ji(),d=eu(t,{relative:o});return V.useCallback(f=>{if(TR(f,n)){f.preventDefault();let m=r!==void 0?r:ji(c)===ji(d);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,d,r,i,n,t,s,o,a])}function dT(t){let e=V.useRef(_p(t)),n=V.useRef(!1),r=Ji(),i=V.useMemo(()=>SR(r.search,n.current?null:e.current),[r.search]),s=sr(),o=V.useCallback((a,u)=>{const c=_p(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,u)},[s,i]);return[i,o]}function qR(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let KR=0,GR=()=>"__"+String(++KR)+"__";function hT(){let{router:t}=cT(td.UseSubmit),{basename:e}=V.useContext(Cr),n=fR();return V.useCallback(function(r,i){i===void 0&&(i={}),qR();let{action:s,method:o,encType:a,formData:u,body:c}=PR(r,e);if(i.navigate===!1){let d=i.fetcherKey||GR();t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,unstable_flushSync:i.unstable_flushSync})}else t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,unstable_flushSync:i.unstable_flushSync,unstable_viewTransition:i.unstable_viewTransition})},[t,e,n])}function QR(t,e){let{relative:n}=e===void 0?{}:e,{basename:r}=V.useContext(Cr),i=V.useContext(Pr);i||ge(!1);let[s]=i.matches.slice(-1),o=Bi({},eu(t||".",{relative:n})),a=Ji();if(t==null){o.search=a.search;let u=new URLSearchParams(o.search);u.has("index")&&u.get("index")===""&&(u.delete("index"),o.search=u.toString()?"?"+u.toString():"")}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:vr([r,o.pathname])),ji(o)}function YR(t,e){e===void 0&&(e={});let n=V.useContext(uT);n==null&&ge(!1);let{basename:r}=cT(td.useViewTransitionState),i=eu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=rr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=rr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jc(i.pathname,o)!=null||Jc(i.pathname,s)!=null}var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,v=c&63;u||(v=64,o||(m=64)),r.push(n[d],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new JR;const m=s<<2|a>>4;if(r.push(m),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const I=c<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZR=function(t){const e=fT(t);return pT.encodeByteArray(e,!0)},nd=function(t){return ZR(t).replace(/\./g,"")},mT=function(t){try{return pT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=()=>ek().__FIREBASE_DEFAULTS__,nk=()=>{if(typeof process>"u"||typeof i_>"u")return;const t=i_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mT(t[1]);return e&&JSON.parse(e)},Wd=()=>{try{return tk()||nk()||rk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gT=t=>{var e,n;return(n=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ik=t=>{const e=gT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yT=()=>{var t;return(t=Wd())===null||t===void 0?void 0:t.config},vT=t=>{var e;return(e=Wd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nd(JSON.stringify(n)),nd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ak(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function lk(){var t;const e=(t=Wd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ck(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dk(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hk(){return!lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fk(){try{return typeof indexedDB=="object"}catch{return!1}}function pk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mk,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ni(i,a,r)}}function gk(t,e){return t.replace(yk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yk=/\{\$([^}]+)}/g;function vk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(s_(s)&&s_(o)){if(!rd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function s_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ga(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _k(t,e){const n=new wk(t,e);return n.subscribe.bind(n)}class wk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ek(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=af),i.error===void 0&&(i.error=af),i.complete===void 0&&(i.complete=af);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ek(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tk=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ik(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Sk(t){return t===hs?void 0:t}function Ik(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const Pk={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Ak=Te.INFO,Rk={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},kk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Rk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ng{constructor(e){this.name=e,this._logLevel=Ak,this._logHandler=kk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const xk=(t,e)=>e.some(n=>t instanceof n);let o_,a_;function Nk(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dk(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _T=new WeakMap,wp=new WeakMap,wT=new WeakMap,lf=new WeakMap,rg=new WeakMap;function bk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_T.set(n,t)}).catch(()=>{}),rg.set(e,t),e}function Ok(t){if(wp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wp.set(t,e)}let Ep={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Lk(t){Ep=t(Ep)}function Mk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uf(this),e,...n);return wT.set(r,e.sort?e.sort():[e]),Di(r)}:Dk().includes(t)?function(...e){return t.apply(uf(this),e),Di(_T.get(this))}:function(...e){return Di(t.apply(uf(this),e))}}function Vk(t){return typeof t=="function"?Mk(t):(t instanceof IDBTransaction&&Ok(t),xk(t,Nk())?new Proxy(t,Ep):t)}function Di(t){if(t instanceof IDBRequest)return bk(t);if(lf.has(t))return lf.get(t);const e=Vk(t);return e!==t&&(lf.set(t,e),rg.set(e,t)),e}const uf=t=>rg.get(t);function Fk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Di(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Di(o.result),u.oldVersion,u.newVersion,Di(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jk=["get","getKey","getAll","getAllKeys","count"],Uk=["put","add","delete","clear"],cf=new Map;function l_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cf.get(e))return cf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Uk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jk.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return cf.set(e,s),s}Lk(t=>({...t,get:(e,n,r)=>l_(e,n)||t.get(e,n,r),has:(e,n)=>!!l_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($k(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $k(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tp="@firebase/app",u_="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new ng("@firebase/app"),zk="@firebase/app-compat",Hk="@firebase/analytics-compat",Wk="@firebase/analytics",qk="@firebase/app-check-compat",Kk="@firebase/app-check",Gk="@firebase/auth",Qk="@firebase/auth-compat",Yk="@firebase/database",Xk="@firebase/database-compat",Jk="@firebase/functions",Zk="@firebase/functions-compat",ex="@firebase/installations",tx="@firebase/installations-compat",nx="@firebase/messaging",rx="@firebase/messaging-compat",ix="@firebase/performance",sx="@firebase/performance-compat",ox="@firebase/remote-config",ax="@firebase/remote-config-compat",lx="@firebase/storage",ux="@firebase/storage-compat",cx="@firebase/firestore",dx="@firebase/vertexai-preview",hx="@firebase/firestore-compat",fx="firebase",px="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="[DEFAULT]",mx={[Tp]:"fire-core",[zk]:"fire-core-compat",[Wk]:"fire-analytics",[Hk]:"fire-analytics-compat",[Kk]:"fire-app-check",[qk]:"fire-app-check-compat",[Gk]:"fire-auth",[Qk]:"fire-auth-compat",[Yk]:"fire-rtdb",[Xk]:"fire-rtdb-compat",[Jk]:"fire-fn",[Zk]:"fire-fn-compat",[ex]:"fire-iid",[tx]:"fire-iid-compat",[nx]:"fire-fcm",[rx]:"fire-fcm-compat",[ix]:"fire-perf",[sx]:"fire-perf-compat",[ox]:"fire-rc",[ax]:"fire-rc-compat",[lx]:"fire-gcs",[ux]:"fire-gcs-compat",[cx]:"fire-fst",[hx]:"fire-fst-compat",[dx]:"fire-vertex","fire-js":"fire-js",[fx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Map,gx=new Map,Ip=new Map;function c_(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zo(t){const e=t.name;if(Ip.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,t);for(const n of id.values())c_(n,t);for(const n of gx.values())c_(n,t);return!0}function ig(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new nu("app","Firebase",yx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=px;function ET(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw bi.create("bad-app-name",{appName:String(i)});if(n||(n=yT()),!n)throw bi.create("no-options");const s=id.get(i);if(s){if(rd(n,s.options)&&rd(r,s.config))return s;throw bi.create("duplicate-app",{appName:i})}const o=new Ck(i);for(const u of Ip.values())o.addComponent(u);const a=new vx(n,r,o);return id.set(i,a),a}function TT(t=Sp){const e=id.get(t);if(!e&&t===Sp&&yT())return ET();if(!e)throw bi.create("no-app",{appName:t});return e}function Oi(t,e,n){var r;let i=(r=mx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(a.join(" "));return}zo(new xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firebase-heartbeat-database",wx=1,Ll="firebase-heartbeat-store";let df=null;function ST(){return df||(df=Fk(_x,wx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw bi.create("idb-open",{originalErrorMessage:t.message})})),df}async function Ex(t){try{const n=(await ST()).transaction(Ll),r=await n.objectStore(Ll).get(IT(t));return await n.done,r}catch(e){if(e instanceof ni)Ns.warn(e.message);else{const n=bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ns.warn(n.message)}}}async function d_(t,e){try{const r=(await ST()).transaction(Ll,"readwrite");await r.objectStore(Ll).put(e,IT(t)),await r.done}catch(n){if(n instanceof ni)Ns.warn(n.message);else{const r=bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ns.warn(r.message)}}}function IT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=1024,Sx=30*24*60*60*1e3;class Ix{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Px(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Sx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h_(),{heartbeatsToSend:r,unsentEntries:i}=Cx(this._heartbeatsCache.heartbeats),s=nd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function h_(){return new Date().toISOString().substring(0,10)}function Cx(t,e=Tx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),f_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),f_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Px{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fk()?pk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ex(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function f_(t){return nd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t){zo(new xs("platform-logger",e=>new Bk(e),"PRIVATE")),zo(new xs("heartbeat",e=>new Ix(e),"PRIVATE")),Oi(Tp,u_,t),Oi(Tp,u_,"esm2017"),Oi("fire-js","")}Ax("");var p_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,CT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,g){function T(){}T.prototype=g.prototype,C.D=g.prototype,C.prototype=new T,C.prototype.constructor=C,C.C=function(P,N,b){for(var A=Array(arguments.length-2),me=2;me<arguments.length;me++)A[me-2]=arguments[me];return g.prototype[N].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,g,T){T||(T=0);var P=Array(16);if(typeof g=="string")for(var N=0;16>N;++N)P[N]=g.charCodeAt(T++)|g.charCodeAt(T++)<<8|g.charCodeAt(T++)<<16|g.charCodeAt(T++)<<24;else for(N=0;16>N;++N)P[N]=g[T++]|g[T++]<<8|g[T++]<<16|g[T++]<<24;g=C.g[0],T=C.g[1],N=C.g[2];var b=C.g[3],A=g+(b^T&(N^b))+P[0]+3614090360&4294967295;g=T+(A<<7&4294967295|A>>>25),A=b+(N^g&(T^N))+P[1]+3905402710&4294967295,b=g+(A<<12&4294967295|A>>>20),A=N+(T^b&(g^T))+P[2]+606105819&4294967295,N=b+(A<<17&4294967295|A>>>15),A=T+(g^N&(b^g))+P[3]+3250441966&4294967295,T=N+(A<<22&4294967295|A>>>10),A=g+(b^T&(N^b))+P[4]+4118548399&4294967295,g=T+(A<<7&4294967295|A>>>25),A=b+(N^g&(T^N))+P[5]+1200080426&4294967295,b=g+(A<<12&4294967295|A>>>20),A=N+(T^b&(g^T))+P[6]+2821735955&4294967295,N=b+(A<<17&4294967295|A>>>15),A=T+(g^N&(b^g))+P[7]+4249261313&4294967295,T=N+(A<<22&4294967295|A>>>10),A=g+(b^T&(N^b))+P[8]+1770035416&4294967295,g=T+(A<<7&4294967295|A>>>25),A=b+(N^g&(T^N))+P[9]+2336552879&4294967295,b=g+(A<<12&4294967295|A>>>20),A=N+(T^b&(g^T))+P[10]+4294925233&4294967295,N=b+(A<<17&4294967295|A>>>15),A=T+(g^N&(b^g))+P[11]+2304563134&4294967295,T=N+(A<<22&4294967295|A>>>10),A=g+(b^T&(N^b))+P[12]+1804603682&4294967295,g=T+(A<<7&4294967295|A>>>25),A=b+(N^g&(T^N))+P[13]+4254626195&4294967295,b=g+(A<<12&4294967295|A>>>20),A=N+(T^b&(g^T))+P[14]+2792965006&4294967295,N=b+(A<<17&4294967295|A>>>15),A=T+(g^N&(b^g))+P[15]+1236535329&4294967295,T=N+(A<<22&4294967295|A>>>10),A=g+(N^b&(T^N))+P[1]+4129170786&4294967295,g=T+(A<<5&4294967295|A>>>27),A=b+(T^N&(g^T))+P[6]+3225465664&4294967295,b=g+(A<<9&4294967295|A>>>23),A=N+(g^T&(b^g))+P[11]+643717713&4294967295,N=b+(A<<14&4294967295|A>>>18),A=T+(b^g&(N^b))+P[0]+3921069994&4294967295,T=N+(A<<20&4294967295|A>>>12),A=g+(N^b&(T^N))+P[5]+3593408605&4294967295,g=T+(A<<5&4294967295|A>>>27),A=b+(T^N&(g^T))+P[10]+38016083&4294967295,b=g+(A<<9&4294967295|A>>>23),A=N+(g^T&(b^g))+P[15]+3634488961&4294967295,N=b+(A<<14&4294967295|A>>>18),A=T+(b^g&(N^b))+P[4]+3889429448&4294967295,T=N+(A<<20&4294967295|A>>>12),A=g+(N^b&(T^N))+P[9]+568446438&4294967295,g=T+(A<<5&4294967295|A>>>27),A=b+(T^N&(g^T))+P[14]+3275163606&4294967295,b=g+(A<<9&4294967295|A>>>23),A=N+(g^T&(b^g))+P[3]+4107603335&4294967295,N=b+(A<<14&4294967295|A>>>18),A=T+(b^g&(N^b))+P[8]+1163531501&4294967295,T=N+(A<<20&4294967295|A>>>12),A=g+(N^b&(T^N))+P[13]+2850285829&4294967295,g=T+(A<<5&4294967295|A>>>27),A=b+(T^N&(g^T))+P[2]+4243563512&4294967295,b=g+(A<<9&4294967295|A>>>23),A=N+(g^T&(b^g))+P[7]+1735328473&4294967295,N=b+(A<<14&4294967295|A>>>18),A=T+(b^g&(N^b))+P[12]+2368359562&4294967295,T=N+(A<<20&4294967295|A>>>12),A=g+(T^N^b)+P[5]+4294588738&4294967295,g=T+(A<<4&4294967295|A>>>28),A=b+(g^T^N)+P[8]+2272392833&4294967295,b=g+(A<<11&4294967295|A>>>21),A=N+(b^g^T)+P[11]+1839030562&4294967295,N=b+(A<<16&4294967295|A>>>16),A=T+(N^b^g)+P[14]+4259657740&4294967295,T=N+(A<<23&4294967295|A>>>9),A=g+(T^N^b)+P[1]+2763975236&4294967295,g=T+(A<<4&4294967295|A>>>28),A=b+(g^T^N)+P[4]+1272893353&4294967295,b=g+(A<<11&4294967295|A>>>21),A=N+(b^g^T)+P[7]+4139469664&4294967295,N=b+(A<<16&4294967295|A>>>16),A=T+(N^b^g)+P[10]+3200236656&4294967295,T=N+(A<<23&4294967295|A>>>9),A=g+(T^N^b)+P[13]+681279174&4294967295,g=T+(A<<4&4294967295|A>>>28),A=b+(g^T^N)+P[0]+3936430074&4294967295,b=g+(A<<11&4294967295|A>>>21),A=N+(b^g^T)+P[3]+3572445317&4294967295,N=b+(A<<16&4294967295|A>>>16),A=T+(N^b^g)+P[6]+76029189&4294967295,T=N+(A<<23&4294967295|A>>>9),A=g+(T^N^b)+P[9]+3654602809&4294967295,g=T+(A<<4&4294967295|A>>>28),A=b+(g^T^N)+P[12]+3873151461&4294967295,b=g+(A<<11&4294967295|A>>>21),A=N+(b^g^T)+P[15]+530742520&4294967295,N=b+(A<<16&4294967295|A>>>16),A=T+(N^b^g)+P[2]+3299628645&4294967295,T=N+(A<<23&4294967295|A>>>9),A=g+(N^(T|~b))+P[0]+4096336452&4294967295,g=T+(A<<6&4294967295|A>>>26),A=b+(T^(g|~N))+P[7]+1126891415&4294967295,b=g+(A<<10&4294967295|A>>>22),A=N+(g^(b|~T))+P[14]+2878612391&4294967295,N=b+(A<<15&4294967295|A>>>17),A=T+(b^(N|~g))+P[5]+4237533241&4294967295,T=N+(A<<21&4294967295|A>>>11),A=g+(N^(T|~b))+P[12]+1700485571&4294967295,g=T+(A<<6&4294967295|A>>>26),A=b+(T^(g|~N))+P[3]+2399980690&4294967295,b=g+(A<<10&4294967295|A>>>22),A=N+(g^(b|~T))+P[10]+4293915773&4294967295,N=b+(A<<15&4294967295|A>>>17),A=T+(b^(N|~g))+P[1]+2240044497&4294967295,T=N+(A<<21&4294967295|A>>>11),A=g+(N^(T|~b))+P[8]+1873313359&4294967295,g=T+(A<<6&4294967295|A>>>26),A=b+(T^(g|~N))+P[15]+4264355552&4294967295,b=g+(A<<10&4294967295|A>>>22),A=N+(g^(b|~T))+P[6]+2734768916&4294967295,N=b+(A<<15&4294967295|A>>>17),A=T+(b^(N|~g))+P[13]+1309151649&4294967295,T=N+(A<<21&4294967295|A>>>11),A=g+(N^(T|~b))+P[4]+4149444226&4294967295,g=T+(A<<6&4294967295|A>>>26),A=b+(T^(g|~N))+P[11]+3174756917&4294967295,b=g+(A<<10&4294967295|A>>>22),A=N+(g^(b|~T))+P[2]+718787259&4294967295,N=b+(A<<15&4294967295|A>>>17),A=T+(b^(N|~g))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+g&4294967295,C.g[1]=C.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+b&4294967295}r.prototype.u=function(C,g){g===void 0&&(g=C.length);for(var T=g-this.blockSize,P=this.B,N=this.h,b=0;b<g;){if(N==0)for(;b<=T;)i(this,C,b),b+=this.blockSize;if(typeof C=="string"){for(;b<g;)if(P[N++]=C.charCodeAt(b++),N==this.blockSize){i(this,P),N=0;break}}else for(;b<g;)if(P[N++]=C[b++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=g},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var g=1;g<C.length-8;++g)C[g]=0;var T=8*this.o;for(g=C.length-8;g<C.length;++g)C[g]=T&255,T/=256;for(this.u(C),C=Array(16),g=T=0;4>g;++g)for(var P=0;32>P;P+=8)C[T++]=this.g[g]>>>P&255;return C};function s(C,g){var T=a;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=g(C)}function o(C,g){this.h=g;for(var T=[],P=!0,N=C.length-1;0<=N;N--){var b=C[N]|0;P&&b==g||(T[N]=b,P=!1)}this.g=T}var a={};function u(C){return-128<=C&&128>C?s(C,function(g){return new o([g|0],0>g?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return x(c(-C));for(var g=[],T=1,P=0;C>=T;P++)g[P]=C/T|0,T*=4294967296;return new o(g,0)}function d(C,g){if(C.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(C.charAt(0)=="-")return x(d(C.substring(1),g));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(g,8)),P=f,N=0;N<C.length;N+=8){var b=Math.min(8,C.length-N),A=parseInt(C.substring(N,N+b),g);8>b?(b=c(Math.pow(g,b)),P=P.j(b).add(c(A))):(P=P.j(T),P=P.add(c(A)))}return P}var f=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-x(this).m();for(var C=0,g=1,T=0;T<this.g.length;T++){var P=this.i(T);C+=(0<=P?P:4294967296+P)*g,g*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(R(this))return"-"+x(this).toString(C);for(var g=c(Math.pow(C,6)),T=this,P="";;){var N=O(T,g).g;T=S(T,N.j(g));var b=((0<T.g.length?T.g[0]:T.h)>>>0).toString(C);if(T=N,I(T))return b+P;for(;6>b.length;)b="0"+b;P=b+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(var g=0;g<C.g.length;g++)if(C.g[g]!=0)return!1;return!0}function R(C){return C.h==-1}t.l=function(C){return C=S(this,C),R(C)?-1:I(C)?0:1};function x(C){for(var g=C.g.length,T=[],P=0;P<g;P++)T[P]=~C.g[P];return new o(T,~C.h).add(m)}t.abs=function(){return R(this)?x(this):this},t.add=function(C){for(var g=Math.max(this.g.length,C.g.length),T=[],P=0,N=0;N<=g;N++){var b=P+(this.i(N)&65535)+(C.i(N)&65535),A=(b>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);P=A>>>16,b&=65535,A&=65535,T[N]=A<<16|b}return new o(T,T[T.length-1]&-2147483648?-1:0)};function S(C,g){return C.add(x(g))}t.j=function(C){if(I(this)||I(C))return f;if(R(this))return R(C)?x(this).j(x(C)):x(x(this).j(C));if(R(C))return x(this.j(x(C)));if(0>this.l(v)&&0>C.l(v))return c(this.m()*C.m());for(var g=this.g.length+C.g.length,T=[],P=0;P<2*g;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<C.g.length;N++){var b=this.i(P)>>>16,A=this.i(P)&65535,me=C.i(N)>>>16,lt=C.i(N)&65535;T[2*P+2*N]+=A*lt,y(T,2*P+2*N),T[2*P+2*N+1]+=b*lt,y(T,2*P+2*N+1),T[2*P+2*N+1]+=A*me,y(T,2*P+2*N+1),T[2*P+2*N+2]+=b*me,y(T,2*P+2*N+2)}for(P=0;P<g;P++)T[P]=T[2*P+1]<<16|T[2*P];for(P=g;P<2*g;P++)T[P]=0;return new o(T,0)};function y(C,g){for(;(C[g]&65535)!=C[g];)C[g+1]+=C[g]>>>16,C[g]&=65535,g++}function E(C,g){this.g=C,this.h=g}function O(C,g){if(I(g))throw Error("division by zero");if(I(C))return new E(f,f);if(R(C))return g=O(x(C),g),new E(x(g.g),x(g.h));if(R(g))return g=O(C,x(g)),new E(x(g.g),g.h);if(30<C.g.length){if(R(C)||R(g))throw Error("slowDivide_ only works with positive integers.");for(var T=m,P=g;0>=P.l(C);)T=U(T),P=U(P);var N=k(T,1),b=k(P,1);for(P=k(P,2),T=k(T,2);!I(P);){var A=b.add(P);0>=A.l(C)&&(N=N.add(T),b=A),P=k(P,1),T=k(T,1)}return g=S(C,N.j(g)),new E(N,g)}for(N=f;0<=C.l(g);){for(T=Math.max(1,Math.floor(C.m()/g.m())),P=Math.ceil(Math.log(T)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),b=c(T),A=b.j(g);R(A)||0<A.l(C);)T-=P,b=c(T),A=b.j(g);I(b)&&(b=m),N=N.add(b),C=S(C,A)}return new E(N,C)}t.A=function(C){return O(this,C).h},t.and=function(C){for(var g=Math.max(this.g.length,C.g.length),T=[],P=0;P<g;P++)T[P]=this.i(P)&C.i(P);return new o(T,this.h&C.h)},t.or=function(C){for(var g=Math.max(this.g.length,C.g.length),T=[],P=0;P<g;P++)T[P]=this.i(P)|C.i(P);return new o(T,this.h|C.h)},t.xor=function(C){for(var g=Math.max(this.g.length,C.g.length),T=[],P=0;P<g;P++)T[P]=this.i(P)^C.i(P);return new o(T,this.h^C.h)};function U(C){for(var g=C.g.length+1,T=[],P=0;P<g;P++)T[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(T,C.h)}function k(C,g){var T=g>>5;g%=32;for(var P=C.g.length-T,N=[],b=0;b<P;b++)N[b]=0<g?C.i(b+T)>>>g|C.i(b+T+1)<<32-g:C.i(b+T);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ss=o}).apply(typeof p_<"u"?p_:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PT,AT,Ya,RT,vc,Cp,kT,xT,NT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var M=l[_];if(!(M in p))break e;p=p[M]}l=l[l.length-1],_=p[l],h=h(_),h!=_&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,_=!1,M={next:function(){if(!_&&p<l.length){var j=p++;return{value:h(j,l[j]),done:!1}}return _=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,_),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function v(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function I(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(_,M,j){for(var K=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)K[Fe-2]=arguments[Fe];return h.prototype[M].apply(_,K)}}function R(l){const h=l.length;if(0<h){const p=Array(h);for(let _=0;_<h;_++)p[_]=l[_];return p}return[]}function x(l,h){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const M=l.length||0,j=_.length||0;l.length=M+j;for(let K=0;K<j;K++)l[M+K]=_[K]}else l.push(_)}}class S{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(l){return/^[\s\xa0]*$/.test(l)}function E(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function O(l){return O[" "](l),l}O[" "]=function(){};var U=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function k(l,h,p){for(const _ in l)h.call(p,l[_],_,l)}function C(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function g(l){const h={};for(const p in l)h[p]=l[p];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,h){let p,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(p in _)l[p]=_[p];for(let j=0;j<T.length;j++)p=T[j],Object.prototype.hasOwnProperty.call(_,p)&&(l[p]=_[p])}}function N(l){var h=1;l=l.split(":");const p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function b(l){a.setTimeout(()=>{throw l},0)}function A(){var l=ie;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class me{constructor(){this.h=this.g=null}add(h,p){const _=lt.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var lt=new S(()=>new Ee,l=>l.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let se,$=!1,ie=new me,ae=()=>{const l=a.Promise.resolve(void 0);se=()=>{l.then(Pe)}};var Pe=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(p){b(p)}var h=lt;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}$=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ve(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Ct(l,h){if(Ve.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(U){e:{try{O(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ct.aa.h.call(this)}}I(Ct,Ve);var Pt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var $n="closure_listenable_"+(1e6*Math.random()|0),la=0;function _h(l,h,p,_,M){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=M,this.key=++la,this.da=this.fa=!1}function Hs(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ws(l){this.src=l,this.g={},this.h=0}Ws.prototype.add=function(l,h,p,_,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var K=or(l,h,_,M);return-1<K?(h=l[K],p||(h.fa=!1)):(h=new _h(h,this.src,j,!!_,M),h.fa=p,l.push(h)),h};function pt(l,h){var p=h.type;if(p in l.g){var _=l.g[p],M=Array.prototype.indexOf.call(_,h,void 0),j;(j=0<=M)&&Array.prototype.splice.call(_,M,1),j&&(Hs(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function or(l,h,p,_){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==h&&j.capture==!!p&&j.ha==_)return M}return-1}var qs="closure_lm_"+(1e6*Math.random()|0),ua={};function ar(l,h,p,_,M){if(Array.isArray(h)){for(var j=0;j<h.length;j++)ar(l,h[j],p,_,M);return null}return p=ri(p),l&&l[$n]?l.K(h,p,c(_)?!!_.capture:!!_,M):wh(l,h,p,!1,_,M)}function wh(l,h,p,_,M,j){if(!h)throw Error("Invalid event type");var K=c(M)?!!M.capture:!!M,Fe=ha(l);if(Fe||(l[qs]=Fe=new Ws(l)),p=Fe.add(h,p,_,K,j),p.proxy)return p;if(_=Eh(),p.proxy=_,_.src=l,_.listener=p,l.addEventListener)ft||(M=K),M===void 0&&(M=!1),l.addEventListener(h.toString(),_,M);else if(l.attachEvent)l.attachEvent(_u(h.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Eh(){function l(p){return h.call(l.src,l.listener,p)}const h=Th;return l}function ca(l,h,p,_,M){if(Array.isArray(h))for(var j=0;j<h.length;j++)ca(l,h[j],p,_,M);else _=c(_)?!!_.capture:!!_,p=ri(p),l&&l[$n]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],p=or(j,p,_,M),-1<p&&(Hs(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=ha(l))&&(h=l.g[h.toString()],l=-1,h&&(l=or(h,p,_,M)),(p=-1<l?h[l]:null)&&da(p))}function da(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[$n])pt(h.i,l);else{var p=l.type,_=l.proxy;h.removeEventListener?h.removeEventListener(p,_,l.capture):h.detachEvent?h.detachEvent(_u(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=ha(h))?(pt(p,l),p.h==0&&(p.src=null,h[qs]=null)):Hs(l)}}}function _u(l){return l in ua?ua[l]:ua[l]="on"+l}function Th(l,h){if(l.da)l=!0;else{h=new Ct(h,this);var p=l.listener,_=l.ha||l.src;l.fa&&da(l),l=p.call(_,h)}return l}function ha(l){return l=l[qs],l instanceof Ws?l:null}var Rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ri(l){return typeof l=="function"?l:(l[Rr]||(l[Rr]=function(h){return l.handleEvent(h)}),l[Rr])}function mt(){Se.call(this),this.i=new Ws(this),this.M=this,this.F=null}I(mt,Se),mt.prototype[$n]=!0,mt.prototype.removeEventListener=function(l,h,p,_){ca(this,l,h,p,_)};function gt(l,h){var p,_=l.F;if(_)for(p=[];_;_=_.F)p.push(_);if(l=l.M,_=h.type||h,typeof h=="string")h=new Ve(h,l);else if(h instanceof Ve)h.target=h.target||l;else{var M=h;h=new Ve(_,l),P(h,M)}if(M=!0,p)for(var j=p.length-1;0<=j;j--){var K=h.g=p[j];M=mn(K,_,!0,h)&&M}if(K=h.g=l,M=mn(K,_,!0,h)&&M,M=mn(K,_,!1,h)&&M,p)for(j=0;j<p.length;j++)K=h.g=p[j],M=mn(K,_,!1,h)&&M}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],_=0;_<p.length;_++)Hs(p[_]);delete l.g[h],l.h--}}this.F=null},mt.prototype.K=function(l,h,p,_){return this.i.add(String(l),h,!1,p,_)},mt.prototype.L=function(l,h,p,_){return this.i.add(String(l),h,!0,p,_)};function mn(l,h,p,_){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,j=0;j<h.length;++j){var K=h[j];if(K&&!K.da&&K.capture==p){var Fe=K.listener,Rt=K.ha||K.src;K.fa&&pt(l.i,K),M=Fe.call(Rt,_)!==!1&&M}}return M&&!_.defaultPrevented}function Nn(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function fa(l){l.g=Nn(()=>{l.g=null,l.i&&(l.i=!1,fa(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Ks extends Se{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(l){Se.call(this),this.h=l,this.g={}}I(ns,Se);var zn=[];function pa(l){k(l.g,function(h,p){this.g.hasOwnProperty(p)&&da(h)},l),l.g={}}ns.prototype.N=function(){ns.aa.N.call(this),pa(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=a.JSON.stringify,wu=a.JSON.parse,Sh=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Qs(){}Qs.prototype.h=null;function rs(l){return l.h||(l.h=l.i())}function ma(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){Ve.call(this,"d")}I(ii,Ve);function is(){Ve.call(this,"c")}I(is,Ve);var xr={},ga=null;function Ys(){return ga=ga||new mt}xr.La="serverreachability";function ya(l){Ve.call(this,xr.La,l)}I(ya,Ve);function lr(l){const h=Ys();gt(h,new ya(h))}xr.STAT_EVENT="statevent";function ss(l,h){Ve.call(this,xr.STAT_EVENT,l),this.stat=h}I(ss,Ve);function At(l){const h=Ys();gt(h,new ss(h,l))}xr.Ma="timingevent";function Eu(l,h){Ve.call(this,xr.Ma,l),this.size=h}I(Eu,Ve);function D(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function L(){this.g=!0}L.prototype.xa=function(){this.g=!1};function F(l,h,p,_,M,j){l.info(function(){if(l.g)if(j)for(var K="",Fe=j.split("&"),Rt=0;Rt<Fe.length;Rt++){var ke=Fe[Rt].split("=");if(1<ke.length){var Bt=ke[0];ke=ke[1];var $t=Bt.split("_");K=2<=$t.length&&$t[1]=="type"?K+(Bt+"="+ke+"&"):K+(Bt+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+h+`
`+p+`
`+K})}function B(l,h,p,_,M,j,K){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+h+`
`+p+`
`+j+" "+K})}function G(l,h,p,_){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+oe(l,p)+(_?" "+_:"")})}function J(l,h){l.info(function(){return"TIMEOUT: "+h})}L.prototype.info=function(){};function oe(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var _=p[l];if(!(2>_.length)){var M=_[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<M.length;K++)M[K]=""}}}}return Gs(p)}catch{return h}}var q={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Z;function ee(){}I(ee,Qs),ee.prototype.g=function(){return new XMLHttpRequest},ee.prototype.i=function(){return{}},Z=new ee;function ye(l,h,p,_){this.j=l,this.i=h,this.l=p,this.R=_||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var be={},Ie={};function ot(l,h,p){l.L=1,l.v=Cu(Dr(h)),l.m=p,l.P=!0,Xe(l,null)}function Xe(l,h){l.F=Date.now(),Hn(l),l.A=Dr(l.v);var p=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),oy(p.i,"t",_),l.C=0,p=l.j.J,l.h=new Re,l.g=Iy(l.j,p?h:null,!l.m),0<l.O&&(l.M=new Ks(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,_=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(zn[0]=M.toString()),M=zn);for(var j=0;j<M.length;j++){var K=ar(p,M[j],_||h.handleEvent,!1,h.h||h);if(!K)break;h.g[K.key]=K}h=l.H?g(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),lr(),F(l.i,l.u,l.A,l.l,l.R,l.m)}ye.prototype.ca=function(l){l=l.target;const h=this.M;h&&br(l)==3?h.j():this.Y(l)},ye.prototype.Y=function(l){try{if(l==this.g)e:{const $t=br(this.g);var h=this.g.Ba();const eo=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||fy(this.g)))){this.J||$t!=4||h==7||(h==8||0>=eo?lr(3):lr(2)),cr(this);var p=this.g.Z();this.X=p;t:if(si(this)){var _=fy(this.g);l="";var M=_.length,j=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),jt(this);var K="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(_[h],{stream:!(j&&h==M-1)});_.length=0,this.h.g+=l,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=p==200,B(this.i,this.u,this.A,this.l,this.R,$t,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Rt=this.g;if((Fe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Fe)){var ke=Fe;break t}}ke=null}if(p=ke)G(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oi(this,p);else{this.o=!1,this.s=3,At(12),Dn(this),jt(this);break e}}if(this.P){p=!0;let Wn;for(;!this.J&&this.C<K.length;)if(Wn=ur(this,K),Wn==Ie){$t==4&&(this.s=4,At(14),p=!1),G(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==be){this.s=4,At(15),G(this.i,this.l,K,"[Invalid Chunk]"),p=!1;break}else G(this.i,this.l,Wn,null),oi(this,Wn);if(si(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||K.length!=0||this.h.h||(this.s=1,At(16),p=!1),this.o=this.o&&p,!p)G(this.i,this.l,K,"[Invalid Chunked Response]"),Dn(this),jt(this);else if(0<K.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Ah(Bt),Bt.M=!0,At(11))}}else G(this.i,this.l,K,null),oi(this,K);$t==4&&Dn(this),this.o&&!this.J&&($t==4?wy(this.j,this):(this.o=!1,Hn(this)))}else R1(this.g),p==400&&0<K.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Dn(this),jt(this)}}}catch{}finally{}};function si(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ur(l,h){var p=l.C,_=h.indexOf(`
`,p);return _==-1?Ie:(p=Number(h.substring(p,_)),isNaN(p)?be:(_+=1,_+p>h.length?Ie:(h=h.slice(_,_+p),l.C=_+p,h)))}ye.prototype.cancel=function(){this.J=!0,Dn(this)};function Hn(l){l.S=Date.now()+l.I,Nr(l,l.I)}function Nr(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=D(m(l.ba,l),h)}function cr(l){l.B&&(a.clearTimeout(l.B),l.B=null)}ye.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(J(this.i,this.A),this.L!=2&&(lr(),At(17)),Dn(this),this.s=2,jt(this)):Nr(this,this.S-l)};function jt(l){l.j.G==0||l.J||wy(l.j,l)}function Dn(l){cr(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,pa(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function oi(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Le(p.h,l))){if(!l.K&&Le(p.h,l)&&p.G==3){try{var _=p.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)xu(p),Ru(p);else break e;Ph(p),At(18)}}else p.za=M[1],0<p.za-p.T&&37500>M[2]&&p.F&&p.v==0&&!p.C&&(p.C=D(m(p.Za,p),6e3));if(1>=Ut(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else as(p,11)}else if((l.K||p.g==l)&&xu(p),!y(h))for(M=p.Da.g.parse(h),h=0;h<M.length;h++){let ke=M[h];if(p.T=ke[0],ke=ke[1],p.G==2)if(ke[0]=="c"){p.K=ke[1],p.ia=ke[2];const Bt=ke[3];Bt!=null&&(p.la=Bt,p.j.info("VER="+p.la));const $t=ke[4];$t!=null&&(p.Aa=$t,p.j.info("SVER="+p.Aa));const eo=ke[5];eo!=null&&typeof eo=="number"&&0<eo&&(_=1.5*eo,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const Wn=l.g;if(Wn){const Du=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Du){var j=_.h;j.g||Du.indexOf("spdy")==-1&&Du.indexOf("quic")==-1&&Du.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(gn(j,j.h),j.h=null))}if(_.D){const Rh=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Rh&&(_.ya=Rh,$e(_.I,_.D,Rh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var K=l;if(_.qa=Sy(_,_.J?_.ia:null,_.W),K.K){va(_.h,K);var Fe=K,Rt=_.L;Rt&&(Fe.I=Rt),Fe.B&&(cr(Fe),Hn(Fe)),_.g=K}else vy(_);0<p.i.length&&ku(p)}else ke[0]!="stop"&&ke[0]!="close"||as(p,7);else p.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?as(p,7):Ch(p):ke[0]!="noop"&&p.l&&p.l.ta(ke),p.v=0)}}lr(4)}catch{}}var Xs=class{constructor(l,h){this.g=l,this.map=h}};function fe(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Be(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ut(l){return l.h?1:l.g?l.g.size:0}function Le(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function gn(l,h){l.g?l.g.add(h):l.h=h}function va(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}fe.prototype.cancel=function(){if(this.i=Tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Tu(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.D);return h}return R(l.i)}function f1(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],p=l.length,_=0;_<p;_++)h.push(l[_]);return h}h=[],p=0;for(_ in l)h[p++]=l[_];return h}function p1(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(const _ in l)h[p++]=_;return h}}}function ey(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=p1(l),_=f1(l),M=_.length,j=0;j<M;j++)h.call(void 0,_[j],p&&p[j],l)}var ty=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m1(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var _=l[p].indexOf("="),M=null;if(0<=_){var j=l[p].substring(0,_);M=l[p].substring(_+1)}else j=l[p];h(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function os(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof os){this.h=l.h,Su(this,l.j),this.o=l.o,this.g=l.g,Iu(this,l.s),this.l=l.l;var h=l.i,p=new Ea;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),ny(this,p),this.m=l.m}else l&&(h=String(l).match(ty))?(this.h=!1,Su(this,h[1]||"",!0),this.o=_a(h[2]||""),this.g=_a(h[3]||"",!0),Iu(this,h[4]),this.l=_a(h[5]||"",!0),ny(this,h[6]||"",!0),this.m=_a(h[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}os.prototype.toString=function(){var l=[],h=this.j;h&&l.push(wa(h,ry,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(wa(h,ry,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(wa(p,p.charAt(0)=="/"?v1:y1,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",wa(p,w1)),l.join("")};function Dr(l){return new os(l)}function Su(l,h,p){l.j=p?_a(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Iu(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function ny(l,h,p){h instanceof Ea?(l.i=h,E1(l.i,l.h)):(p||(h=wa(h,_1)),l.i=new Ea(h,l.h))}function $e(l,h,p){l.i.set(h,p)}function Cu(l){return $e(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function _a(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function wa(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,g1),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function g1(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ry=/[#\/\?@]/g,y1=/[#\?:]/g,v1=/[#\?]/g,_1=/[#\?@]/g,w1=/#/g;function Ea(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ai(l){l.g||(l.g=new Map,l.h=0,l.i&&m1(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Ea.prototype,t.add=function(l,h){ai(this),this.i=null,l=Js(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function iy(l,h){ai(l),h=Js(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function sy(l,h){return ai(l),h=Js(l,h),l.g.has(h)}t.forEach=function(l,h){ai(this),this.g.forEach(function(p,_){p.forEach(function(M){l.call(h,M,_,this)},this)},this)},t.na=function(){ai(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let _=0;_<h.length;_++){const M=l[_];for(let j=0;j<M.length;j++)p.push(h[_])}return p},t.V=function(l){ai(this);let h=[];if(typeof l=="string")sy(this,l)&&(h=h.concat(this.g.get(Js(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return ai(this),this.i=null,l=Js(this,l),sy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function oy(l,h,p){iy(l,h),0<p.length&&(l.i=null,l.g.set(Js(l,h),R(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var _=h[p];const j=encodeURIComponent(String(_)),K=this.V(_);for(_=0;_<K.length;_++){var M=j;K[_]!==""&&(M+="="+encodeURIComponent(String(K[_]))),l.push(M)}}return this.i=l.join("&")};function Js(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function E1(l,h){h&&!l.j&&(ai(l),l.i=null,l.g.forEach(function(p,_){var M=_.toLowerCase();_!=M&&(iy(this,_),oy(this,M,p))},l)),l.j=h}function T1(l,h){const p=new L;if(a.Image){const _=new Image;_.onload=v(li,p,"TestLoadImage: loaded",!0,h,_),_.onerror=v(li,p,"TestLoadImage: error",!1,h,_),_.onabort=v(li,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=v(li,p,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else h(!1)}function S1(l,h){const p=new L,_=new AbortController,M=setTimeout(()=>{_.abort(),li(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:_.signal}).then(j=>{clearTimeout(M),j.ok?li(p,"TestPingServer: ok",!0,h):li(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),li(p,"TestPingServer: error",!1,h)})}function li(l,h,p,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(p)}catch{}}function I1(){this.g=new Sh}function C1(l,h,p){const _=p||"";try{ey(l,function(M,j){let K=M;c(M)&&(K=Gs(M)),h.push(_+j+"="+encodeURIComponent(K))})}catch(M){throw h.push(_+"type="+encodeURIComponent("_badmap")),M}}function Ta(l){this.l=l.Ub||null,this.j=l.eb||!1}I(Ta,Qs),Ta.prototype.g=function(){return new Pu(this.l,this.j)},Ta.prototype.i=function(l){return function(){return l}}({});function Pu(l,h){mt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Pu,mt),t=Pu.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Ia(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ay(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ay(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Sa(this):Ia(this),this.readyState==3&&ay(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Sa(this))},t.Qa=function(l){this.g&&(this.response=l,Sa(this))},t.ga=function(){this.g&&Sa(this)};function Sa(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ia(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Ia(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ly(l){let h="";return k(l,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function Ih(l,h,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=ly(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):$e(l,h,p))}function nt(l){mt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(nt,mt);var P1=/^https?$/i,A1=["POST","PUT"];t=nt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Z.g(),this.v=this.o?rs(this.o):rs(Z),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){uy(this,j);return}if(l=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)p.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const j of _.keys())p.set(j,_.get(j));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(A1,h,void 0))||_||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of p)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hy(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){uy(this,j)}};function uy(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,cy(l),Au(l)}function cy(l){l.A||(l.A=!0,gt(l,"complete"),gt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,gt(this,"complete"),gt(this,"abort"),Au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Au(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dy(this):this.bb())},t.bb=function(){dy(this)};function dy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||br(l)!=4||l.Z()!=2)){if(l.u&&br(l)==4)Nn(l.Ea,0,l);else if(gt(l,"readystatechange"),br(l)==4){l.h=!1;try{const K=l.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var _;if(_=K===0){var M=String(l.D).match(ty)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),_=!P1.test(M?M.toLowerCase():"")}p=_}if(p)gt(l,"complete"),gt(l,"success");else{l.m=6;try{var j=2<br(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",cy(l)}}finally{Au(l)}}}}function Au(l,h){if(l.g){hy(l);const p=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||gt(l,"ready");try{p.onreadystatechange=_}catch{}}}function hy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function br(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),wu(h)}};function fy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function R1(l){const h={};l=(l.g&&2<=br(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(y(l[_]))continue;var p=N(l[_]);const M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=h[M]||[];h[M]=j,j.push(p)}C(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function py(l){this.Aa=0,this.i=[],this.j=new L,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,l),this.cb=Ca("retryDelaySeedMs",1e4,l),this.Wa=Ca("forwardChannelMaxRetries",2,l),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new fe(l&&l.concurrentRequestLimit),this.Da=new I1,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=py.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,_){At(0),this.W=l,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=Sy(this,null,this.W),ku(this)};function Ch(l){if(my(l),l.G==3){var h=l.U++,p=Dr(l.I);if($e(p,"SID",l.K),$e(p,"RID",h),$e(p,"TYPE","terminate"),Pa(l,p),h=new ye(l,l.j,h),h.L=2,h.v=Cu(Dr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=Iy(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Hn(h)}Ty(l)}function Ru(l){l.g&&(Ah(l),l.g.cancel(),l.g=null)}function my(l){Ru(l),l.u&&(a.clearTimeout(l.u),l.u=null),xu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function ku(l){if(!Be(l.h)&&!l.s){l.s=!0;var h=l.Ga;se||ae(),$||(se(),$=!0),ie.add(h,l),l.B=0}}function k1(l,h){return Ut(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=D(m(l.Ga,l,h),Ey(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new ye(this,this.j,l);let j=this.o;if(this.S&&(j?(j=g(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=yy(this,M,h),p=Dr(this.I),$e(p,"RID",l),$e(p,"CVER",22),this.D&&$e(p,"X-HTTP-Session-Id",this.D),Pa(this,p),j&&(this.O?h="headers="+encodeURIComponent(String(ly(j)))+"&"+h:this.m&&Ih(p,this.m,j)),gn(this.h,M),this.Ua&&$e(p,"TYPE","init"),this.P?($e(p,"$req",h),$e(p,"SID","null"),M.T=!0,ot(M,p,null)):ot(M,p,h),this.G=2}}else this.G==3&&(l?gy(this,l):this.i.length==0||Be(this.h)||gy(this))};function gy(l,h){var p;h?p=h.l:p=l.U++;const _=Dr(l.I);$e(_,"SID",l.K),$e(_,"RID",p),$e(_,"AID",l.T),Pa(l,_),l.m&&l.o&&Ih(_,l.m,l.o),p=new ye(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=yy(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),gn(l.h,p),ot(p,_,h)}function Pa(l,h){l.H&&k(l.H,function(p,_){$e(h,_,p)}),l.l&&ey({},function(p,_){$e(h,_,p)})}function yy(l,h,p){p=Math.min(l.i.length,p);var _=l.l?m(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const K=["count="+p];j==-1?0<p?(j=M[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let Fe=!0;for(let Rt=0;Rt<p;Rt++){let ke=M[Rt].g;const Bt=M[Rt].map;if(ke-=j,0>ke)j=Math.max(0,M[Rt].g-100),Fe=!1;else try{C1(Bt,K,"req"+ke+"_")}catch{_&&_(Bt)}}if(Fe){_=K.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,_}function vy(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;se||ae(),$||(se(),$=!0),ie.add(h,l),l.v=0}}function Ph(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=D(m(l.Fa,l),Ey(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,_y(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=D(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Ru(this),_y(this))};function Ah(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function _y(l){l.g=new ye(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Dr(l.qa);$e(h,"RID","rpc"),$e(h,"SID",l.K),$e(h,"AID",l.T),$e(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&$e(h,"TO",l.ja),$e(h,"TYPE","xmlhttp"),Pa(l,h),l.m&&l.o&&Ih(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Cu(Dr(h)),p.m=null,p.P=!0,Xe(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Ru(this),Ph(this),At(19))};function xu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function wy(l,h){var p=null;if(l.g==h){xu(l),Ah(l),l.g=null;var _=2}else if(Le(l.h,h))p=h.D,va(l.h,h),_=1;else return;if(l.G!=0){if(h.o)if(_==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;_=Ys(),gt(_,new Eu(_,p)),ku(l)}else vy(l);else if(M=h.s,M==3||M==0&&0<h.X||!(_==1&&k1(l,h)||_==2&&Ph(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),M){case 1:as(l,5);break;case 4:as(l,10);break;case 3:as(l,6);break;default:as(l,2)}}}function Ey(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function as(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),_=l.Xa;const M=!_;_=new os(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Su(_,"https"),Cu(_),M?T1(_.toString(),p):S1(_.toString(),p)}else At(2);l.G=0,l.l&&l.l.sa(h),Ty(l),my(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Ty(l){if(l.G=0,l.ka=[],l.l){const h=Tu(l.h);(h.length!=0||l.i.length!=0)&&(x(l.ka,h),x(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function Sy(l,h,p){var _=p instanceof os?Dr(p):new os(p);if(_.g!="")h&&(_.g=h+"."+_.g),Iu(_,_.s);else{var M=a.location;_=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var j=new os(null);_&&Su(j,_),h&&(j.g=h),M&&Iu(j,M),p&&(j.l=p),_=j}return p=l.D,h=l.ya,p&&h&&$e(_,p,h),$e(_,"VER",l.la),Pa(l,_),_}function Iy(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new nt(new Ta({eb:p})):new nt(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cy(){}t=Cy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nu(){}Nu.prototype.g=function(l,h){return new yn(l,h)};function yn(l,h){mt.call(this),this.g=new py(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!y(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Zs(this)}I(yn,mt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Ch(this.g)},yn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Gs(l),l=p);h.i.push(new Xs(h.Ya++,l)),h.G==3&&ku(h)},yn.prototype.N=function(){this.g.l=null,delete this.j,Ch(this.g),delete this.g,yn.aa.N.call(this)};function Py(l){ii.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}I(Py,ii);function Ay(){is.call(this),this.status=1}I(Ay,is);function Zs(l){this.g=l}I(Zs,Cy),Zs.prototype.ua=function(){gt(this.g,"a")},Zs.prototype.ta=function(l){gt(this.g,new Py(l))},Zs.prototype.sa=function(l){gt(this.g,new Ay)},Zs.prototype.ra=function(){gt(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,NT=function(){return new Nu},xT=function(){return Ys()},kT=xr,Cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},q.NO_ERROR=0,q.TIMEOUT=8,q.HTTP_ERROR=6,vc=q,ce.COMPLETE="complete",RT=ce,ma.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Ya=ma,AT=Ta,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,PT=nt}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const m_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new ng("@firebase/firestore");function Fa(){return Ds.logLevel}function X(t,...e){if(Ds.logLevel<=Te.DEBUG){const n=e.map(sg);Ds.debug(`Firestore (${ra}): ${t}`,...n)}}function Yr(t,...e){if(Ds.logLevel<=Te.ERROR){const n=e.map(sg);Ds.error(`Firestore (${ra}): ${t}`,...n)}}function Ho(t,...e){if(Ds.logLevel<=Te.WARN){const n=e.map(sg);Ds.warn(`Firestore (${ra}): ${t}`,...n)}}function sg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function je(t,e){t||ue()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class kx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xx{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new DT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Kt(e)}}class Nx{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Dx{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Nx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ox{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new bx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Lx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function Wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new Et(0,0))}static max(){return new de(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ml.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ml?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends Ml{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const Mx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Ml{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return Mx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new te(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Ye.fromString(e))}static fromName(e){return new re(Ye.fromString(e).popFirst(5))}static empty(){return new re(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Ye(e.slice()))}}function Vx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new $i(i,re.empty(),e)}function Fx(t){return new $i(t.readTime,t.key,-1)}class $i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $i(de.min(),re.empty(),-1)}static max(){return new $i(de.max(),re.empty(),-1)}}function jx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==Ux)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function $x(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}og.oe=-1;function qd(t){return t==null}function sd(t){return t===0&&1/t==-1/0}function zx(t){return typeof t=="number"&&Number.isInteger(t)&&!sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(e){return new y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Lt(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LT("Invalid base64 string: "+s):s}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const Hx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(je(!!t),typeof t=="string"){let e=0;const n=Hx.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lg(t){const e=t.mapValue.fields.__previous_value__;return ag(e)?lg(e):e}function Vl(t){const e=zi(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Fl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ag(t)?4:qx(t)?9007199254740991:10:ue()}function Sr(t,e){if(t===e)return!0;const n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vl(t).isEqual(Vl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=zi(i.timestampValue),a=zi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return bs(i.bytesValue).isEqual(bs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dt(i.geoPointValue.latitude)===dt(s.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dt(i.integerValue)===dt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=dt(i.doubleValue),a=dt(s.doubleValue);return o===a?sd(o)===sd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(g_(o)!==g_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Sr(o[u],a[u])))return!1;return!0}(t,e);default:return ue()}}function jl(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function qo(t,e){if(t===e)return 0;const n=Os(t),r=Os(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=dt(s.integerValue||s.doubleValue),u=dt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return v_(t.timestampValue,e.timestampValue);case 4:return v_(Vl(t),Vl(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(s,o){const a=bs(s),u=bs(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Ne(a[c],u[c]);if(d!==0)return d}return Ne(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ne(dt(s.latitude),dt(o.latitude));return a!==0?a:Ne(dt(s.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=qo(a[c],u[c]);if(d)return d}return Ne(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Zu.mapValue&&o===Zu.mapValue)return 0;if(s===Zu.mapValue)return 1;if(o===Zu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=Ne(u[f],d[f]);if(m!==0)return m;const v=qo(a[u[f]],c[d[f]]);if(v!==0)return v}return Ne(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ue()}}function v_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=zi(t),r=zi(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function Ko(t){return Pp(t)}function Pp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Pp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Pp(n.fields[o])}`;return i+"}"}(t.mapValue):ue()}function Ap(t){return!!t&&"integerValue"in t}function ug(t){return!!t&&"arrayValue"in t}function __(t){return!!t&&"nullValue"in t}function w_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _c(t){return!!t&&"mapValue"in t}function dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_c(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ln(dl(this.value))}}function MT(t){const e=[];return Bs(t.fields,(n,r)=>{const i=new Dt([n]);if(_c(r)){const s=MT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,de.min(),de.min(),de.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,de.min(),de.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,de.min(),de.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.position=e,this.inclusive=n}}function E_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=qo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function T_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function Kx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{}class _t extends VT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qx(e,n,r):n==="array-contains"?new Jx(e,r):n==="in"?new Zx(e,r):n==="not-in"?new eN(e,r):n==="array-contains-any"?new tN(e,r):new _t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yx(e,r):new Xx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qo(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends VT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ir(e,n)}matches(e){return FT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function FT(t){return t.op==="and"}function jT(t){return Gx(t)&&FT(t)}function Gx(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function Rp(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(jT(t))return t.filters.map(e=>Rp(e)).join(",");{const e=t.filters.map(n=>Rp(n)).join(",");return`${t.op}(${e})`}}function UT(t,e){return t instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&Sr(r.value,i.value)}(t,e):t instanceof Ir?function(r,i){return i instanceof Ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&UT(o,i.filters[a]),!0):!1}(t,e):void ue()}function BT(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`}(t):t instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(BT).join(" ,")+"}"}(t):"Filter"}class Qx extends _t{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yx extends _t{constructor(e,n){super(e,"in",n),this.keys=$T("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Xx extends _t{constructor(e,n){super(e,"not-in",n),this.keys=$T("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $T(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class Jx extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ug(n)&&jl(n.arrayValue,this.value)}}class Zx extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class eN extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jl(this.value.arrayValue,n)}}class tN extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function S_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nN(t,e,n,r,i,s,o)}function cg(t){const e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ko(r)).join(",")),e.ue=n}return e.ue}function dg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Kx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T_(t.startAt,e.startAt)&&T_(t.endAt,e.endAt)}function kp(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rN(t,e,n,r,i,s,o,a){return new Kd(t,e,n,r,i,s,o,a)}function Gd(t){return new Kd(t)}function I_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iN(t){return t.collectionGroup!==null}function hl(t){const e=he(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(Dt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ad(s,r))}),n.has(Dt.keyField().canonicalString())||e.ce.push(new ad(Dt.keyField(),r))}return e.ce}function _r(t){const e=he(t);return e.le||(e.le=sN(e,hl(t))),e.le}function sN(t,e){if(t.limitType==="F")return S_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ad(i.field,s)});const n=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return S_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xp(t,e,n){return new Kd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qd(t,e){return dg(_r(t),_r(e))&&t.limitType===e.limitType}function zT(t){return`${cg(_r(t))}|lt:${t.limitType}`}function oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BT(i)).join(", ")}]`),qd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ko(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ko(i)).join(",")),`Target(${r})`}(_r(t))}; limitType=${t.limitType})`}function Yd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of hl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=E_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,hl(r),i)||r.endAt&&!function(o,a,u){const c=E_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,hl(r),i))}(t,e)}function oN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HT(t){return(e,n)=>{let r=!1;for(const i of hl(t)){const s=aN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function aN(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?qo(u,c):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new tt(re.comparator);function Xr(){return lN}const WT=new tt(re.comparator);function Xa(...t){let e=WT;for(const n of t)e=e.insert(n.key,n);return e}function qT(t){let e=WT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ws(){return fl()}function KT(){return fl()}function fl(){return new ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const uN=new tt(re.comparator),cN=new Lt(re.comparator);function we(...t){let e=cN;for(const n of t)e=e.add(n);return e}const dN=new Lt(Ne);function hN(){return dN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function QT(t){return{integerValue:""+t}}function fN(t,e){return zx(e)?QT(e):GT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this._=void 0}}function pN(t,e,n){return t instanceof ld?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ag(s)&&(s=lg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ul?XT(t,e):t instanceof Bl?JT(t,e):function(i,s){const o=YT(i,s),a=C_(o)+C_(i.Pe);return Ap(o)&&Ap(i.Pe)?QT(a):GT(i.serializer,a)}(t,e)}function mN(t,e,n){return t instanceof Ul?XT(t,e):t instanceof Bl?JT(t,e):n}function YT(t,e){return t instanceof ud?function(r){return Ap(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ld extends Xd{}class Ul extends Xd{constructor(e){super(),this.elements=e}}function XT(t,e){const n=ZT(e);for(const r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bl extends Xd{constructor(e){super(),this.elements=e}}function JT(t,e){let n=ZT(e);for(const r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}class ud extends Xd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function C_(t){return dt(t.integerValue||t.doubleValue)}function ZT(t){return ug(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ul&&i instanceof Ul||r instanceof Bl&&i instanceof Bl?Wo(r.elements,i.elements,Sr):r instanceof ud&&i instanceof ud?Sr(r.Pe,i.Pe):r instanceof ld&&i instanceof ld}(t.transform,e.transform)}class yN{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jd{}function eS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hg(t.key,jn.none()):new ou(t.key,t.data,jn.none());{const n=t.data,r=ln.empty();let i=new Lt(Dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zi(t.key,r,new Tn(i.toArray()),jn.none())}}function vN(t,e,n){t instanceof ou?function(i,s,o){const a=i.value.clone(),u=A_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(i,s,o){if(!wc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=A_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(tS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pl(t,e,n,r){return t instanceof ou?function(s,o,a,u){if(!wc(s.precondition,o))return a;const c=s.value.clone(),d=R_(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(s,o,a,u){if(!wc(s.precondition,o))return a;const c=R_(s.fieldTransforms,u,o),d=o.data;return d.setAll(tS(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return wc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function _N(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YT(r.transform,i||null);s!=null&&(n===null&&(n=ln.empty()),n.set(r.field,s))}return n||null}function P_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wo(r,i,(s,o)=>gN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ou extends Jd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zi extends Jd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function A_(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,mN(o,a,n[i]))}return r}function R_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,pN(s,o,e))}return r}class hg extends Jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wN extends Jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=eS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(n,r)=>P_(n,r))&&Wo(this.baseMutations,e.baseMutations,(n,r)=>P_(n,r))}}class fg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return uN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ce;function IN(t){switch(t){default:return ue();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function nS(t){if(t===void 0)return Yr("GRPC error has no .code"),z.UNKNOWN;switch(t){case ut.OK:return z.OK;case ut.CANCELLED:return z.CANCELLED;case ut.UNKNOWN:return z.UNKNOWN;case ut.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ut.INTERNAL:return z.INTERNAL;case ut.UNAVAILABLE:return z.UNAVAILABLE;case ut.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ut.NOT_FOUND:return z.NOT_FOUND;case ut.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ut.ABORTED:return z.ABORTED;case ut.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ut.DATA_LOSS:return z.DATA_LOSS;default:return ue()}}(Ce=ut||(ut={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new Ss([4294967295,4294967295],0);function k_(t){const e=CN().encode(t),n=new CT;return n.update(e),new Uint8Array(n.digest())}function x_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ss([n,r],0),new Ss([i,s],0)]}class pg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ja(`Invalid padding: ${n}`);if(r<0)throw new Ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ss.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ss.fromNumber(r)));return i.compare(PN)===1&&(i=new Ss([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=k_(e),[r,i]=x_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new pg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=k_(e),[r,i]=x_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zd(de.min(),i,new tt(Ne),Xr(),we())}}class au{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new au(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class rS{constructor(e,n){this.targetId=e,this.me=n}}class iS{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class N_{constructor(){this.fe=0,this.ge=b_(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=we(),n=we(),r=we();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new au(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=b_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class AN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xr(),this.qe=D_(),this.Qe=new tt(Ne)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(kp(s))if(r===0){const o=new re(s.path);this.Ue(n,o,Qt.newNoDocument(o,de.min()))}else je(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=bs(r).toUint8Array()}catch(u){if(u instanceof LT)return Ho("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new pg(o,i,s)}catch(u){return Ho(u instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&kp(a.target)){const u=new re(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Qt.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=we();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Zd(e,n,this.Qe,this.ke,r);return this.ke=Xr(),this.qe=D_(),this.Qe=new tt(Ne),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new N_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Lt(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new N_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function D_(){return new tt(re.comparator)}function b_(){return new tt(re.comparator)}const RN={asc:"ASCENDING",desc:"DESCENDING"},kN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xN={and:"AND",or:"OR"};class NN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Np(t,e){return t.useProto3Json||qd(e)?e:{value:e}}function cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DN(t,e){return cd(t,e.toTimestamp())}function wr(t){return je(!!t),de.fromTimestamp(function(n){const r=zi(n);return new Et(r.seconds,r.nanos)}(t))}function mg(t,e){return Dp(t,e).canonicalString()}function Dp(t,e){const n=function(i){return new Ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oS(t){const e=Ye.fromString(t);return je(dS(e)),e}function bp(t,e){return mg(t.databaseId,e.path)}function hf(t,e){const n=oS(e);if(n.get(1)!==t.databaseId.projectId)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(lS(n))}function aS(t,e){return mg(t.databaseId,e)}function bN(t){const e=oS(t);return e.length===4?Ye.emptyPath():lS(e)}function Op(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lS(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function O_(t,e,n){return{name:bp(t,e),fields:n.value.mapValue.fields}}function ON(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(je(d===void 0||typeof d=="string"),Ft.fromBase64String(d||"")):(je(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?z.UNKNOWN:nS(c.code);return new te(d,c.message||"")}(o);n=new iS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hf(t,r.document.name),s=wr(r.document.updateTime),o=r.document.createTime?wr(r.document.createTime):de.min(),a=new ln({mapValue:{fields:r.document.fields}}),u=Qt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Ec(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hf(t,r.document),s=r.readTime?wr(r.readTime):de.min(),o=Qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ec([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hf(t,r.document),s=r.removedTargetIds||[];n=new Ec([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new SN(i,s),a=r.targetId;n=new rS(a,o)}}return n}function LN(t,e){let n;if(e instanceof ou)n={update:O_(t,e.key,e.value)};else if(e instanceof hg)n={delete:bp(t,e.key)};else if(e instanceof Zi)n={update:O_(t,e.key,e.data),updateMask:HN(e.fieldMask)};else{if(!(e instanceof wN))return ue();n={verify:bp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ld)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ul)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ud)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:DN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function MN(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?wr(i.updateTime):wr(s);return o.isEqual(de.min())&&(o=wr(s)),new yN(o,i.transformResults||[])}(n,e))):[]}function VN(t,e){return{documents:[aS(t,e.path)]}}function FN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aS(t,i);const s=function(c){if(c.length!==0)return cS(Ir.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:ao(m.field),direction:BN(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Np(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function jN(t){let e=bN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=uS(f);return m instanceof Ir&&jT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(I){return new ad(lo(I.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,qd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,v=f.values||[];return new od(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,v=f.values||[];return new od(v,m)}(n.endAt)),rN(e,i,o,s,a,"F",u,c)}function UN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lo(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lo(n.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lo(n.unaryFilter.field);return _t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lo(n.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return _t.create(lo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(r=>uS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function BN(t){return RN[t]}function $N(t){return kN[t]}function zN(t){return xN[t]}function ao(t){return{fieldPath:t.canonicalString()}}function lo(t){return Dt.fromServerFormat(t.fieldPath)}function cS(t){return t instanceof _t?function(n){if(n.op==="=="){if(w_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(__(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w_(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(__(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:$N(n.op),value:n.value}}}(t):t instanceof Ir?function(n){const r=n.getFilters().map(i=>cS(i));return r.length===1?r[0]:{compositeFilter:{op:zN(n.op),filters:r}}}(t):ue()}function HN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,r,i,s=de.min(),o=de.min(),a=Ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.ct=e}}function qN(t){const e=jN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.an=new GN}addToCollectionParentIndex(e,n){return this.an.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve($i.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class GN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(Ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new Go(0)}static Bn(){return new Go(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.changes=new ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pl(r.mutation,i,Tn.empty(),Et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=ws();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xa();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xr();const o=fl(),a=function(){return fl()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Zi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),pl(d.mutation,c,d.mutation.getFieldMask(),Et.now())):o.set(c.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new YN(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fl();let i=new tt((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Tn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(i.get(a.batchId)||we()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=KT();d.forEach(m=>{if(!s.has(m)){const v=eS(n.get(m),r.get(m));v!==null&&f.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(ws());let a=-1,u=s;return o.next(c=>H.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,we())).next(d=>({batchId:a,changes:qT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=Xa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Xa();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,u=>{const c=function(f,m){return new Kd(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Qt.newInvalidDocument(d)))});let a=Xa();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&pl(d.mutation,c,Tn.empty(),Et.now()),Yd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return H.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:qN(i.bundledQuery),readTime:wr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.overlays=new tt(re.comparator),this.Pr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ws();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=ws(),s=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=ws(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ws(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new TN(n,r));let s=this.Pr.get(n);s===void 0&&(s=we(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Ir=new Lt(Tt.Tr),this.Er=new Lt(Tt.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Tt(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new re(new Ye([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.Er.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new re(new Ye([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=we();return this.Er.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return re.comparator(e.key,n.key)||Ne(e.yr,n.yr)}static dr(e,n){return Ne(e.yr,n.yr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Lt(Tt.Tr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new EN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Ne);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;re.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new re(s),0);let a=new Lt(Ne);return this.Sr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.yr)),!0)},o),H.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return H.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Tt(n,0),i=this.Sr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.Fr=e,this.docs=function(){return new tt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=Xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xr();const o=n.path,a=new re(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||jx(Fx(d),r)<=0||(i.has(d.key)||Yd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Mr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rD(this)}getSize(e){return H.resolve(this.size)}}class rD extends QN{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.persistence=e,this.Or=new ia(n=>cg(n),dg),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new gg,this.targetCount=0,this.Br=Go.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),H.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Qn(n),H.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.kr={},this.overlays={},this.qr=new og(0),this.Qr=!1,this.Qr=!0,this.Kr=new eD,this.referenceDelegate=e(this),this.$r=new iD(this),this.indexManager=new KN,this.remoteDocumentCache=function(i){return new nD(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new WN(n),this.Wr=new JN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new tD(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new oD(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(s=>this.referenceDelegate.zr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}jr(e,n){return H.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class oD extends Bx{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Hr=new gg,this.Jr=null}static Yr(e){return new yg(e)}get Zr(){if(this.Jr)return this.Jr;throw ue()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Zr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Zr,r=>{const i=re.fromPath(r);return this.Xr(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return H.or([()=>H.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return hk()?8:$x(Vt())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Yi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new aD;return this.Zi(e,n,o).next(a=>{if(s.result=a,this.Gi)return this.Xi(e,n,o,a.size)})}).next(()=>s.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(Fa()<=Te.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),H.resolve()):(Fa()<=Te.DEBUG&&X("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(Fa()<=Te.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):H.resolve())}Ji(e,n){if(I_(n))return H.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xp(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.Hi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.es(n,a);return this.ts(n,c,o,u.readTime)?this.Ji(e,xp(n,null,"F")):this.ns(e,c,n,u)}))})))}Yi(e,n,r,i){return I_(n)||i.isEqual(de.min())?H.resolve(null):this.Hi.getDocuments(e,r).next(s=>{const o=this.es(n,s);return this.ts(n,o,r,i)?H.resolve(null):(Fa()<=Te.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oo(n)),this.ns(e,o,n,Vx(i,-1)).next(a=>a))})}es(e,n){let r=new Lt(HT(e));return n.forEach((i,s)=>{Yd(e,s)&&(r=r.add(s))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zi(e,n,r){return Fa()<=Te.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",oo(n)),this.Hi.getDocumentsMatchingQuery(e,n,$i.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new tt(Ne),this.os=new ia(s=>cg(s),dg),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XN(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}}function cD(t,e,n,r){return new uD(t,e,n,r)}async function hS(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=we();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function dD(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.us.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,m=f.keys();let v=H.resolve();return m.forEach(I=>{v=v.next(()=>d.getEntry(u,I)).next(R=>{const x=c.docVersions.get(I);je(x!==null),R.version.compareTo(x)<0&&(f.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),d.addEntry(R)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=we();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fS(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function hD(t,e){const n=he(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const a=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;a.push(n.$r.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.$r.addMatchingKeys(s,d.addedDocuments,f)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Ft.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(f,v),function(R,x,S){return R.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,v,d)&&a.push(n.$r.updateTargetData(s,v))});let u=Xr(),c=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(fD(s,o,e.documentUpdates).next(d=>{u=d.hs,c=d.Ps})),!r.isEqual(de.min())){const d=n.$r.getLastRemoteSnapshotVersion(s).next(f=>n.$r.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ss=i,s))}function fD(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{hs:o,Ps:i}})}function pD(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mD(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.$r.allocateTargetId(r).next(o=>(i=new Ti(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}async function Lp(t,e,n){const r=he(t),i=r.ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!su(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function L_(t,e,n){const r=he(t);let i=de.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=he(u),m=f.os.get(d);return m!==void 0?H.resolve(f.ss.get(m)):f.$r.getTargetData(c,d)}(r,o,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.rs.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?s:we())).next(a=>(gD(r,oN(e),a),{documents:a,Is:s})))}function gD(t,e,n){let r=t._s.get(e)||de.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t._s.set(e,r)}class M_{constructor(){this.activeTargetIds=hN()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yD{constructor(){this.io=new M_,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new M_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function ff(){return ec===null?ec=function(){return 268435456+Math.round(2147483648*Math.random())}():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class ED extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get vo(){return!1}Fo(n,r,i,s,o){const a=ff(),u=this.Mo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(c,s,o),this.Oo(n,u,c,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ho("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}No(n,r,i,s,o,a){return this.Fo(n,r,i,s,o)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ra}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Mo(n,r){const i=_D[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const s=ff();return new Promise((o,a)=>{const u=new PT;u.setWithCredentials(!0),u.listenOnce(RT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case vc.NO_ERROR:const d=u.getResponseJson();X(Wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case vc.TIMEOUT:X(Wt,`RPC '${e}' ${s} timed out`),a(new te(z.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const f=u.getStatus();if(X(Wt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const I=function(x){const S=x.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(S)>=0?S:z.UNKNOWN}(v.status);a(new te(I,v.message))}else a(new te(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new te(z.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{X(Wt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);X(Wt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Lo(e,n,r){const i=ff(),s=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NT(),a=xT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new AT({})),this.xo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");X(Wt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=o.createWebChannel(d,u);let m=!1,v=!1;const I=new wD({Po:x=>{v?X(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(X(Wt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),X(Wt,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Io:()=>f.close()}),R=(x,S,y)=>{x.listen(S,E=>{try{y(E)}catch(O){setTimeout(()=>{throw O},0)}})};return R(f,Ya.EventType.OPEN,()=>{v||(X(Wt,`RPC '${e}' stream ${i} transport opened.`),I.po())}),R(f,Ya.EventType.CLOSE,()=>{v||(v=!0,X(Wt,`RPC '${e}' stream ${i} transport closed`),I.wo())}),R(f,Ya.EventType.ERROR,x=>{v||(v=!0,Ho(Wt,`RPC '${e}' stream ${i} transport errored:`,x),I.wo(new te(z.UNAVAILABLE,"The operation could not be completed")))}),R(f,Ya.EventType.MESSAGE,x=>{var S;if(!v){const y=x.data[0];je(!!y);const E=y,O=E.error||((S=E[0])===null||S===void 0?void 0:S.error);if(O){X(Wt,`RPC '${e}' stream ${i} received error:`,O);const U=O.status;let k=function(T){const P=ut[T];if(P!==void 0)return nS(P)}(U),C=O.message;k===void 0&&(k=z.INTERNAL,C="Unknown error status: "+U+" with message "+O.message),v=!0,I.wo(new te(k,C)),f.close()}else X(Wt,`RPC '${e}' stream ${i} received:`,y),I.So(y)}}),R(a,kT.STAT_EVENT,x=>{x.stat===Cp.PROXY?X(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Cp.NOPROXY&&X(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.yo()},0),I}}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return new NN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=s,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r,i,s,o,a,u){this.ai=e,this.jo=r,this.Ho=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new pS(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{const i=new te(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(async()=>{this.state=0,this.start()})}P_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TD extends mS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=ON(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?wr(o.readTime):de.min()}(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=Op(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=kp(u)?{documents:VN(s,u)}:{query:FN(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sS(s,o.resumeToken);const c=Np(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=cd(s,o.snapshotVersion.toTimestamp());const c=Np(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=UN(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=Op(this.serializer),n.removeTarget=e,this.__(n)}}class SD extends mS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=MN(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=Op(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>LN(this.serializer,r))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,Dp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(z.UNKNOWN,s.toString())})}No(e,n,r,i,s){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.No(e,Dp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(z.UNKNOWN,o.toString())})}terminate(){this.p_=!0,this.connection.terminate()}}class CD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(Yr(n),this.b_=!1):X("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=s,this.B_.oo(o=>{r.enqueueAndForget(async()=>{$s(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=he(u);c.N_.add(4),await lu(c),c.k_.set("Unknown"),c.N_.delete(4),await th(c)}(this))})}),this.k_=new CD(r,i)}}async function th(t){if($s(t))for(const e of t.L_)await e(!0)}async function lu(t){for(const e of t.L_)await e(!1)}function gS(t,e){const n=he(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),Tg(n)?Eg(n):sa(n).n_()&&wg(n,e))}function _g(t,e){const n=he(t),r=sa(n);n.O_.delete(e),r.n_()&&yS(n,e),n.O_.size===0&&(r.n_()?r.s_():$s(n)&&n.k_.set("Unknown"))}function wg(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sa(t).d_(e)}function yS(t,e){t.q_.xe(e),sa(t).A_(e)}function Eg(t){t.q_=new AN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),sa(t).start(),t.k_.D_()}function Tg(t){return $s(t)&&!sa(t).t_()&&t.O_.size>0}function $s(t){return he(t).N_.size===0}function vS(t){t.q_=void 0}async function AD(t){t.k_.set("Online")}async function RD(t){t.O_.forEach((e,n)=>{wg(t,e)})}async function kD(t,e){vS(t),Tg(t)?(t.k_.F_(e),Eg(t)):t.k_.set("Unknown")}async function xD(t,e,n){if(t.k_.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.O_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.O_.delete(a),i.q_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dd(t,r)}else if(e instanceof Ec?t.q_.Ke(e):e instanceof rS?t.q_.He(e):t.q_.We(e),!n.isEqual(de.min()))try{const r=await fS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.O_.get(c);d&&s.O_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.O_.get(u);if(!d)return;s.O_.set(u,d.withResumeToken(Ft.EMPTY_BYTE_STRING,d.snapshotVersion)),yS(s,u);const f=new Ti(d.target,u,c,d.sequenceNumber);wg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await dd(t,r)}}async function dd(t,e,n){if(!su(e))throw e;t.N_.add(1),await lu(t),t.k_.set("Offline"),n||(n=()=>fS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await th(t)})}function _S(t,e){return e().catch(n=>dd(t,n,e))}async function nh(t){const e=he(t),n=Hi(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;ND(e);)try{const i=await pD(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,DD(e,i)}catch(i){await dd(e,i)}wS(e)&&ES(e)}function ND(t){return $s(t)&&t.x_.length<10}function DD(t,e){t.x_.push(e);const n=Hi(t);n.n_()&&n.R_&&n.V_(e.mutations)}function wS(t){return $s(t)&&!Hi(t).t_()&&t.x_.length>0}function ES(t){Hi(t).start()}async function bD(t){Hi(t).g_()}async function OD(t){const e=Hi(t);for(const n of t.x_)e.V_(n.mutations)}async function LD(t,e,n){const r=t.x_.shift(),i=fg.from(r,e,n);await _S(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nh(t)}async function MD(t,e){e&&Hi(t).R_&&await async function(r,i){if(function(o){return IN(o)&&o!==z.ABORTED}(i.code)){const s=r.x_.shift();Hi(r).i_(),await _S(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await nh(r)}}(t,e),wS(t)&&ES(t)}async function F_(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=$s(n);n.N_.add(3),await lu(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await th(n)}async function VD(t,e){const n=he(t);e?(n.N_.delete(2),await th(n)):e||(n.N_.add(2),await lu(n),n.k_.set("Unknown"))}function sa(t){return t.Q_||(t.Q_=function(n,r,i){const s=he(n);return s.y_(),new TD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:AD.bind(null,t),Ao:RD.bind(null,t),Vo:kD.bind(null,t),E_:xD.bind(null,t)}),t.L_.push(async e=>{e?(t.Q_.i_(),Tg(t)?Eg(t):t.k_.set("Unknown")):(await t.Q_.stop(),vS(t))})),t.Q_}function Hi(t){return t.K_||(t.K_=function(n,r,i){const s=he(n);return s.y_(),new SD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:bD.bind(null,t),Vo:MD.bind(null,t),m_:OD.bind(null,t),f_:LD.bind(null,t)}),t.L_.push(async e=>{e?(t.K_.i_(),await nh(t)):(await t.K_.stop(),t.x_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Sg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),su(t))return new te(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=Xa(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new xo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.U_=new tt(re.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):ue():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qo{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qo(e,n,xo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}}class jD{constructor(){this.queries=U_(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=he(n),s=i.queries;i.queries=U_(),s.forEach((o,a)=>{for(const u of a.z_)u.onError(r)})})(this,new te(z.ABORTED,"Firestore shutting down"))}}function U_(){return new ia(t=>zT(t),Qd)}async function Cg(t,e){const n=he(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.j_()&&e.H_()&&(r=2):(s=new FD,r=e.H_()?0:1);try{switch(r){case 0:s.G_=await n.onListen(i,!0);break;case 1:s.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Ig(o,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.z_.push(e),e.Y_(n.onlineState),s.G_&&e.Z_(s.G_)&&Ag(n)}async function Pg(t,e){const n=he(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.z_.indexOf(e);o>=0&&(s.z_.splice(o,1),s.z_.length===0?i=e.H_()?0:1:!s.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UD(t,e){const n=he(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.z_)a.Z_(i)&&(r=!0);o.G_=i}}r&&Ag(n)}function BD(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const s of i.z_)s.onError(n);r.queries.delete(e)}function Ag(t){t.J_.forEach(e=>{e.next()})}var Mp,B_;(B_=Mp||(Mp={})).X_="default",B_.Cache="cache";class Rg{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==Mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.key=e}}class SS{constructor(e){this.key=e}}class $D{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=we(),this.mutatedKeys=we(),this.da=HT(e),this.Aa=new xo(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new j_,i=n?n.Aa:this.Aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),v=Yd(this.query,f)?f:null,I=!!m&&this.mutatedKeys.has(m.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let x=!1;m&&v?m.data.isEqual(v.data)?I!==R&&(r.track({type:3,doc:v}),x=!0):this.fa(m,v)||(r.track({type:2,doc:v}),x=!0,(u&&this.da(v,u)>0||c&&this.da(v,c)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),x=!0):m&&!v&&(r.track({type:1,doc:m}),x=!0,(u||c)&&(a=!0)),x&&(v?(o=o.add(v),s=R?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Aa:o,ma:r,ts:a,mutatedKeys:s}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const o=e.ma.W_();o.sort((d,f)=>function(v,I){const R=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return R(v)-R(I)}(d.type,f.type)||this.da(d.doc,f.doc)),this.ga(r),i=i!=null&&i;const a=n&&!i?this.pa():[],u=this.Ea.size===0&&this.current&&!i?1:0,c=u!==this.Ta;return this.Ta=u,o.length!==0||c?{snapshot:new Qo(this.query,e.Aa,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:a}:{ya:a}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new j_,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=we(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});const n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new SS(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new TS(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=we();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return Qo.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class zD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HD{constructor(e){this.key=e,this.Da=!1}}class WD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.va=new ia(a=>zT(a),Qd),this.Fa=new Map,this.Ma=new Set,this.xa=new tt(re.comparator),this.Oa=new Map,this.Na=new gg,this.La={},this.Ba=new Map,this.ka=Go.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function qD(t,e,n=!0){const r=kS(t);let i;const s=r.va.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ba()):i=await IS(r,e,n,!0),i}async function KD(t,e){const n=kS(t);await IS(n,e,!0,!1)}async function IS(t,e,n,r){const i=await mD(t.localStore,_r(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await GD(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&gS(t.remoteStore,i),a}async function GD(t,e,n,r,i){t.Qa=(f,m,v)=>async function(R,x,S,y){let E=x.view.Va(S);E.ts&&(E=await L_(R.localStore,x.query,!1).then(({documents:C})=>x.view.Va(C,E)));const O=y&&y.targetChanges.get(x.targetId),U=y&&y.targetMismatches.get(x.targetId)!=null,k=x.view.applyChanges(E,R.isPrimaryClient,O,U);return z_(R,x.targetId,k.ya),k.snapshot}(t,f,m,v);const s=await L_(t.localStore,e,!0),o=new $D(e,s.Is),a=o.Va(s.documents),u=au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);z_(t,n,c.ya);const d=new zD(e,n,o);return t.va.set(e,d),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),c.snapshot}async function QD(t,e,n){const r=he(t),i=r.va.get(e),s=r.Fa.get(i.targetId);if(s.length>1)return r.Fa.set(i.targetId,s.filter(o=>!Qd(o,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Lp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_g(r.remoteStore,i.targetId),Vp(r,i.targetId)}).catch(iu)):(Vp(r,i.targetId),await Lp(r.localStore,i.targetId,!0))}async function YD(t,e){const n=he(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_g(n.remoteStore,r.targetId))}async function XD(t,e,n){const r=ib(t);try{const i=await function(o,a){const u=he(o),c=Et.now(),d=a.reduce((v,I)=>v.add(I.key),we());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let I=Xr(),R=we();return u.us.getEntries(v,d).next(x=>{I=x,I.forEach((S,y)=>{y.isValidDocument()||(R=R.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,I)).next(x=>{f=x;const S=[];for(const y of a){const E=_N(y,f.get(y.key).overlayedDocument);E!=null&&S.push(new Zi(y.key,E,MT(E.value.mapValue),jn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,S,a)}).next(x=>{m=x;const S=x.applyToLocalDocumentSet(f,R);return u.documentOverlayCache.saveOverlays(v,x.batchId,S)})}).then(()=>({batchId:m.batchId,changes:qT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.La[o.currentUser.toKey()];c||(c=new tt(Ne)),c=c.insert(a,u),o.La[o.currentUser.toKey()]=c}(r,i.batchId,n),await uu(r,i.changes),await nh(r.remoteStore)}catch(i){const s=Ig(i,"Failed to persist write");n.reject(s)}}async function CS(t,e){const n=he(t);try{const r=await hD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Oa.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Da=!0:i.modifiedDocuments.size>0?je(o.Da):i.removedDocuments.size>0&&(je(o.Da),o.Da=!1))}),await uu(n,r,e)}catch(r){await iu(r)}}function $_(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach((s,o)=>{const a=o.view.Y_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=he(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.z_)m.Y_(a)&&(c=!0)}),c&&Ag(u)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JD(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),s=i&&i.key;if(s){let o=new tt(re.comparator);o=o.insert(s,Qt.newNoDocument(s,de.min()));const a=we().add(s),u=new Zd(de.min(),new Map,new tt(Ne),o,a);await CS(r,u),r.xa=r.xa.remove(s),r.Oa.delete(e),kg(r)}else await Lp(r.localStore,e,!1).then(()=>Vp(r,e,n)).catch(iu)}async function ZD(t,e){const n=he(t),r=e.batch.batchId;try{const i=await dD(n.localStore,e);AS(n,r,null),PS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uu(n,i)}catch(i){await iu(i)}}async function eb(t,e,n){const r=he(t);try{const i=await function(o,a){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(je(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);AS(r,e,n),PS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uu(r,i)}catch(i){await iu(i)}}function PS(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function AS(t,e,n){const r=he(t);let i=r.La[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function Vp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||RS(t,r)})}function RS(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(_g(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),kg(t))}function z_(t,e,n){for(const r of n)r instanceof TS?(t.Na.addReference(r.key,e),tb(t,r)):r instanceof SS?(X("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||RS(t,r.key)):ue()}function tb(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(X("SyncEngine","New document in limbo: "+n),t.Ma.add(r),kg(t))}function kg(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new re(Ye.fromString(e)),r=t.ka.next();t.Oa.set(r,new HD(n)),t.xa=t.xa.insert(n,r),gS(t.remoteStore,new Ti(_r(Gd(n.path)),r,"TargetPurposeLimboResolution",og.oe))}}async function uu(t,e,n){const r=he(t),i=[],s=[],o=[];r.va.isEmpty()||(r.va.forEach((a,u)=>{o.push(r.Qa(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=vg.Ui(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.E_(i),await async function(u,c){const d=he(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,m=>H.forEach(m.Ki,v=>d.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>H.forEach(m.$i,v=>d.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!su(f))throw f;X("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const v=d.ss.get(m),I=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(I);d.ss=d.ss.insert(m,R)}}}(r.localStore,s))}async function nb(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await hS(n.localStore,e);n.currentUser=e,function(s,o){s.Ba.forEach(a=>{a.forEach(u=>{u.reject(new te(z.CANCELLED,o))})}),s.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(n,r.ls)}}function rb(t,e){const n=he(t),r=n.Oa.get(e);if(r&&r.Da)return we().add(r.key);{let i=we();const s=n.Fa.get(e);if(!s)return i;for(const o of s){const a=n.va.get(o);i=i.unionWith(a.view.Ra)}return i}}function kS(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JD.bind(null,e),e.Ca.E_=UD.bind(null,e.eventManager),e.Ca.Ka=BD.bind(null,e.eventManager),e}function ib(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eb.bind(null,e),e}class H_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return cD(this.persistence,new lD,e.initialUser,this.serializer)}createPersistence(e){return new sD(yg.Yr,this.serializer)}createSharedClientState(e){return new yD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nb.bind(null,this.syncEngine),await VD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jD}()}createDatastore(e){const n=eh(e.databaseInfo.databaseId),r=function(s){return new ED(s)}(e.databaseInfo);return function(s,o,a,u){return new ID(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new PD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>$_(this.syncEngine,n,0),function(){return V_.D()?new V_:new vD}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const f=new WD(i,s,o,a,u,c);return d&&(f.qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=he(i);X("RemoteStore","RemoteStore shutting down."),s.N_.add(5),await lu(s),s.B_.shutdown(),s.k_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kt.UNAUTHENTICATED,this.clientId=bT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ig(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mf(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function W_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lb(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>F_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>F_(e.remoteStore,i)),t._onlineComponents=e}function ab(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function lb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await mf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ab(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await mf(t,new H_)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await mf(t,new H_);return t._offlineComponents}async function xS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await W_(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await W_(t,new sb))),t._onlineComponents}function ub(t){return xS(t).then(e=>e.syncEngine)}async function hd(t){const e=await xS(t),n=e.eventManager;return n.onListen=qD.bind(null,e.syncEngine),n.onUnlisten=QD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YD.bind(null,e.syncEngine),n}function cb(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new xg({next:m=>{o.enqueueAndForget(()=>Pg(s,f));const v=m.docs.has(a);!v&&m.fromCache?c.reject(new te(z.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?c.reject(new te(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new Rg(Gd(a.path),d,{includeMetadataChanges:!0,oa:!0});return Cg(s,f)}(await hd(t),t.asyncQueue,e,n,r)),r.promise}function db(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new xg({next:m=>{o.enqueueAndForget(()=>Pg(s,f)),m.fromCache&&u.source==="server"?c.reject(new te(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new Rg(a,d,{includeMetadataChanges:!0,oa:!0});return Cg(s,f)}(await hd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e,n){if(!n)throw new te(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hb(t,e,n,r){if(e===!0&&r===!0)throw new te(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K_(t){if(!re.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function G_(t){if(re.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ng(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ng(t);throw new te(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Rx;switch(r.type){case"firstParty":return new Dx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=q_.get(n);r&&(X("ComponentProvider","Removing Datastore"),q_.delete(n),r.terminate())}(this),Promise.resolve()}}function fb(t,e,n,r={}){var i;const s=(t=fn(t,rh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Kt.MOCK_USER;else{a=ok(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Kt(c)}t._authCredentials=new kx(new DT(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cu(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class Li extends cu{constructor(e,n,r){super(e,n,Gd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new re(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function mr(t,e,...n){if(t=Xt(t),DS("collection","path",e),t instanceof rh){const r=Ye.fromString(e,...n);return G_(r),new Li(t,null,r)}{if(!(t instanceof nn||t instanceof Li))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return G_(r),new Li(t.firestore,null,r)}}function xn(t,e,...n){if(t=Xt(t),arguments.length===1&&(e=bT.newId()),DS("doc","path",e),t instanceof rh){const r=Ye.fromString(e,...n);return K_(r),new nn(t,null,new re(r))}{if(!(t instanceof nn||t instanceof Li))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return K_(r),new nn(t.firestore,t instanceof Li?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new pS(this,"async_queue_retry"),this.Tu=()=>{const n=pf();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=pf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=pf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});const n=new Hr;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!su(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}}du(e){const n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Yr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=Sg.createAndSchedule(this,e,n,r,s=>this.Ru(s));return this.cu.push(i),i}Eu(){this.lu&&ue()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}function Y_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Jr extends rh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new pb}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bS(this),this._firestoreClient.terminate()}}function mb(t,e){const n=typeof t=="object"?t:TT(),r=typeof t=="string"?t:"(default)",i=ig(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ik("firestore");s&&fb(i,...s)}return i}function ih(t){return t._firestoreClient||bS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bS(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,d){return new Wx(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NS(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ob(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(Ft.fromBase64String(e))}catch(n){throw new te(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yo(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=/^__.*__$/;class yb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}class OS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Og{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new Og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return fd(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(LS(this.yu)&&gb.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class vb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||eh(e)}Ou(e,n,r,i=!1){return new Og({yu:e,methodName:n,xu:r,path:Dt.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lg(t){const e=t._freezeSettings(),n=eh(t._databaseId);return new vb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MS(t,e,n,r,i,s={}){const o=t.Ou(s.merge||s.mergeFields?2:0,e,n,i);Mg("Data must be an object, but it was:",o,r);const a=VS(r,o);let u,c;if(s.merge)u=new Tn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=Fp(e,f,n);if(!o.contains(m))throw new te(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);jS(d,m)||d.push(m)}u=new Tn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new yb(new ln(a),u,c)}class oh extends Dg{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oh}}function _b(t,e,n,r){const i=t.Ou(1,e,n);Mg("Data must be an object, but it was:",i,r);const s=[],o=ln.empty();Bs(r,(u,c)=>{const d=Vg(e,u,n);c=Xt(c);const f=i.Cu(d);if(c instanceof oh)s.push(d);else{const m=ah(c,f);m!=null&&(s.push(d),o.set(d,m))}});const a=new Tn(s);return new OS(o,a,i.fieldTransforms)}function wb(t,e,n,r,i,s){const o=t.Ou(1,e,n),a=[Fp(e,r,n)],u=[i];if(s.length%2!=0)throw new te(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Fp(e,s[m])),u.push(s[m+1]);const c=[],d=ln.empty();for(let m=a.length-1;m>=0;--m)if(!jS(c,a[m])){const v=a[m];let I=u[m];I=Xt(I);const R=o.Cu(v);if(I instanceof oh)c.push(v);else{const x=ah(I,R);x!=null&&(c.push(v),d.set(v,x))}}const f=new Tn(c);return new OS(d,f,o.fieldTransforms)}function ah(t,e){if(FS(t=Xt(t)))return Mg("Unsupported field value:",e,t),VS(t,e);if(t instanceof Dg)return function(r,i){if(!LS(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=ah(a,i.vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Et.fromDate(r);return{timestampValue:cd(i.serializer,s)}}if(r instanceof Et){const s=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cd(i.serializer,s)}}if(r instanceof bg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yo)return{bytesValue:sS(i.serializer,r._byteString)};if(r instanceof nn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${Ng(r)}`)}(t,e)}function VS(t,e){const n={};return OT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,i)=>{const s=ah(i,e.Su(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function FS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof bg||t instanceof Yo||t instanceof nn||t instanceof Dg)}function Mg(t,e,n){if(!FS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ng(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function Fp(t,e,n){if((e=Xt(e))instanceof sh)return e._internalPath;if(typeof e=="string")return Vg(t,e);throw fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Eb=new RegExp("[~\\*/\\[\\]]");function Vg(t,e,n){if(e.search(Eb)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sh(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new te(z.INVALID_ARGUMENT,a+t+u)}function jS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(BS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Tb extends US{data(){return super.data()}}function BS(t,e){return typeof e=="string"?Vg(t,e):e instanceof sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sb{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new bg(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const n=zi(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);je(dS(r));const i=new Fl(r.get(1),r.get(3)),s=new re(r.popFirst(5));return i.isEqual(n)||Yr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HS extends US{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(BS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tc extends HS{data(e={}){return super.data(e)}}class WS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Za(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tc(this._firestore,this._userDataWriter,r.key,r,new Za(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Za(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Za(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Ib(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ib(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){t=fn(t,nn);const e=fn(t.firestore,Jr);return cb(ih(e),t._key).then(n=>GS(e,t,n))}class Fg extends Sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function el(t){t=fn(t,cu);const e=fn(t.firestore,Jr),n=ih(e),r=new Fg(e);return $S(t._query),db(n,t._query).then(i=>new WS(e,r,t,i))}function jg(t,e,n){t=fn(t,nn);const r=fn(t.firestore,Jr),i=zS(t.converter,e);return uh(r,[MS(Lg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jn.none())])}function qS(t,e,n,...r){t=fn(t,nn);const i=fn(t.firestore,Jr),s=Lg(i);let o;return o=typeof(e=Xt(e))=="string"||e instanceof sh?wb(s,"updateDoc",t._key,e,n,r):_b(s,"updateDoc",t._key,e),uh(i,[o.toMutation(t._key,jn.exists(!0))])}function KS(t){return uh(fn(t.firestore,Jr),[new hg(t._key,jn.none())])}function Cb(t,e){const n=fn(t.firestore,Jr),r=xn(t),i=zS(t.converter,e);return uh(n,[MS(Lg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}function lh(t,...e){var n,r,i;t=Xt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Y_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Y_(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,c,d;if(t instanceof nn)c=fn(t.firestore,Jr),d=Gd(t._key.path),u={next:f=>{e[o]&&e[o](GS(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=fn(t,cu);c=fn(f.firestore,Jr),d=f._query;const m=new Fg(c);u={next:v=>{e[o]&&e[o](new WS(c,m,f,v))},error:e[o+1],complete:e[o+2]},$S(t._query)}return function(m,v,I,R){const x=new xg(R),S=new Rg(v,x,I);return m.asyncQueue.enqueueAndForget(async()=>Cg(await hd(m),S)),()=>{x.Ga(),m.asyncQueue.enqueueAndForget(async()=>Pg(await hd(m),S))}}(ih(c),d,a,u)}function uh(t,e){return function(r,i){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>XD(await ub(r),i,s)),s.promise}(ih(t),e)}function GS(t,e,n){const r=n.docs.get(e._key),i=new Fg(t);return new HS(t,i,e._key,r,new Za(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ra=i})(na),zo(new xs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Jr(new xx(r.getProvider("auth-internal")),new Ox(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Oi(m_,"4.6.5",e),Oi(m_,"4.6.5","esm2017")})();var Pb="firebase",Ab="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(Pb,Ab,"app");function Ug(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function QS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rb=QS,YS=new nu("auth","Firebase",QS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new ng("@firebase/auth");function kb(t,...e){pd.logLevel<=Te.WARN&&pd.warn(`Auth (${na}): ${t}`,...e)}function Sc(t,...e){pd.logLevel<=Te.ERROR&&pd.error(`Auth (${na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t,...e){throw Bg(t,...e)}function Er(t,...e){return Bg(t,...e)}function XS(t,e,n){const r=Object.assign(Object.assign({},Rb()),{[e]:n});return new nu("auth","Firebase",r).create(e,{appName:t.name})}function Wr(t){return XS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YS.create(t,...e)}function le(t,e,...n){if(!t)throw Bg(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sc(e),new Error(e)}function Zr(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xb(){return X_()==="http:"||X_()==="https:"}function X_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xb()||uk()||"connection"in navigator)?navigator.onLine:!0}function Db(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=ak()||ck()}get(){return Nb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new du(3e4,6e4);function es(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ts(t,e,n,r,i={}){return ZS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ru(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),JS.fetch()(eI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function ZS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bb),e);try{const i=new Mb(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw tc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw tc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw tc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw tc(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw XS(t,d,c);ir(t,d)}}catch(i){if(i instanceof ni)throw i;ir(t,"network-request-failed",{message:String(i)})}}async function hu(t,e,n,r,i={}){const s=await ts(t,e,n,r,i);return"mfaPendingCredential"in s&&ir(t,"multi-factor-auth-required",{_serverResponse:s}),s}function eI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?$g(t.config,i):`${t.config.apiScheme}://${i}`}function Lb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),Ob.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Er(t,e,r);return i.customData._tokenResponse=n,i}function J_(t){return t!==void 0&&t.enterprise!==void 0}class Vb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Fb(t,e){return ts(t,"GET","/v2/recaptchaConfig",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,e){return ts(t,"POST","/v1/accounts:delete",e)}async function tI(t,e){return ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ub(t,e=!1){const n=Xt(t),r=await n.getIdToken(e),i=zg(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ml(gf(i.auth_time)),issuedAtTime:ml(gf(i.iat)),expirationTime:ml(gf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function gf(t){return Number(t)*1e3}function zg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const i=mT(n);return i?JSON.parse(i):(Sc("Failed to decode base64 JWT payload"),null)}catch(i){return Sc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Z_(t){const e=zg(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&Bb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Bb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $l(t,tI(n,{idToken:r}));le(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nI(s.providerUserInfo):[],a=Hb(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Up(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function zb(t){const e=Xt(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hb(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nI(t){return t.map(e=>{var{providerId:n}=e,r=Ug(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e){const n=await ZS(t,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=eI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",JS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qb(t,e){return ts(t,"POST","/v2/accounts:revokeToken",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=Z_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Wb(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new No;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Br{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ug(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $b(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Up(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ub(this,e)}reload(){return zb(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await $l(this,jb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:O,isAnonymous:U,providerData:k,stsTokenManager:C}=n;le(E&&C,e,"internal-error");const g=No.fromJSON(this.name,C);le(typeof E=="string",e,"internal-error"),ci(f,e.name),ci(m,e.name),le(typeof O=="boolean",e,"internal-error"),le(typeof U=="boolean",e,"internal-error"),ci(v,e.name),ci(I,e.name),ci(R,e.name),ci(x,e.name),ci(S,e.name),ci(y,e.name);const T=new Br({uid:E,auth:e,email:m,emailVerified:O,displayName:f,isAnonymous:U,photoURL:I,phoneNumber:v,tenantId:R,stsTokenManager:g,createdAt:S,lastLoginAt:y});return k&&Array.isArray(k)&&(T.providerData=k.map(P=>Object.assign({},P))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new No;i.updateFromServerResponse(n);const s=new Br({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await md(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?nI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new No;a.updateFromIdToken(r);const u=new Br({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Up(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new Map;function $r(t){Zr(t instanceof Function,"Expected a class definition");let e=e0.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rI.type="NONE";const t0=rI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ic(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ic("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Do($r(t0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||$r(t0);const o=Ic(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=Br._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Do(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Do(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lI(e))return"Blackberry";if(uI(e))return"Webos";if(Hg(e))return"Safari";if((e.includes("chrome/")||sI(e))&&!e.includes("edge/"))return"Chrome";if(aI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iI(t=Vt()){return/firefox\//i.test(t)}function Hg(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sI(t=Vt()){return/crios\//i.test(t)}function oI(t=Vt()){return/iemobile/i.test(t)}function aI(t=Vt()){return/android/i.test(t)}function lI(t=Vt()){return/blackberry/i.test(t)}function uI(t=Vt()){return/webos/i.test(t)}function ch(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Kb(t=Vt()){var e;return ch(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Gb(){return dk()&&document.documentMode===10}function cI(t=Vt()){return ch(t)||aI(t)||uI(t)||lI(t)||/windows phone/i.test(t)||oI(t)}function Qb(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e=[]){let n;switch(t){case"Browser":n=n0(Vt());break;case"Worker":n=`${n0(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(t,e={}){return ts(t,"GET","/v2/passwordPolicy",es(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=6;class Zb{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Jb,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new Yb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tI(this,{idToken:e}),r=await Br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Db()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(Wr(this));const n=e?Xt(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xb(this),n=new Zb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zs(t){return Xt(t)}class r0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_k(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tO(t){dh=t}function hI(t){return dh.loadJS(t)}function nO(){return dh.recaptchaEnterpriseScript}function rO(){return dh.gapiScript}function iO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sO="recaptcha-enterprise",oO="NO_RECAPTCHA";class aO{constructor(e){this.type=sO,this.auth=zs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Fb(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Vb(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;J_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(oO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&J_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=nO();u.length!==0&&(u+=a),hI(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function i0(t,e,n,r=!1){const i=new aO(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Bp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await i0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await i0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e){const n=ig(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(rd(s,e??{}))return i;ir(i,"already-initialized")}return n.initialize({options:e})}function uO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cO(t,e,n){const r=zs(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=fI(e),{host:o,port:a}=dO(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),hO()}function fI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dO(t){const e=fI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:s0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:s0(o)}}}function s0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function fO(t,e){return ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e){return hu(t,"POST","/v1/accounts:signInWithPassword",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e){return hu(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}async function gO(t,e){return hu(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Wg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,n,"signInWithPassword",pO);case"emailLink":return mO(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,r,"signUpPassword",fO);case"emailLink":return gO(e,{idToken:n,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t,e){return hu(t,"POST","/v1/accounts:signInWithIdp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="http://localhost";class Ls extends Wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ug(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ls(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:yO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _O(t){const e=Ga(Qa(t)).link,n=e?Ga(Qa(e)).deep_link_id:null,r=Ga(Qa(t)).deep_link_id;return(r?Ga(Qa(r)).link:null)||r||n||e||t}class qg{constructor(e){var n,r,i,s,o,a;const u=Ga(Qa(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,f=vO((i=u.mode)!==null&&i!==void 0?i:null);le(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_O(e);try{return new qg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.providerId=aa.PROVIDER_ID}static credential(e,n){return zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qg.parseLink(n);return le(r,"argument-error"),zl._fromEmailAndCode(e,r.code,r.tenantId)}}aa.PROVIDER_ID="password";aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends pI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends fu{constructor(){super("facebook.com")}static credential(e){return Ls._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ls._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends fu{constructor(){super("github.com")}static credential(e){return Ls._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends fu{constructor(){super("twitter.com")}static credential(e,n){return Ls._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e){return hu(t,"POST","/v1/accounts:signUp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Br._fromIdTokenResponse(e,r,i),o=o0(r);return new Ms({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=o0(r);return new Ms({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function o0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends ni{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gd(e,n,r,i)}}function mI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,s,e,r):s})}async function EO(t,e,n=!1){const r=await $l(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ms._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e,n=!1){const{auth:r}=t;if(pr(r.app))return Promise.reject(Wr(r));const i="reauthenticate";try{const s=await $l(t,mI(r,i,e,t),n);le(s.idToken,r,"internal-error");const o=zg(s.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),Ms._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ir(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,e,n=!1){if(pr(t.app))return Promise.reject(Wr(t));const r="signIn",i=await mI(t,r,e),s=await Ms._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function SO(t,e){return gI(zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(t){const e=zs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IO(t,e,n){if(pr(t.app))return Promise.reject(Wr(t));const r=zs(t),o=await Bp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wO).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&yI(t),u}),a=await Ms._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function CO(t,e,n){return pr(t.app)?Promise.reject(Wr(t)):SO(Xt(t),aa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yI(t),r})}function PO(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function AO(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}const yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){const t=Vt();return Hg(t)||ch(t)}const kO=1e3,xO=10;class _I extends vI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=RO()&&Qb(),this.fallbackToPolling=cI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Gb()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_I.type="LOCAL";const NO=_I;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends vI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wI.type="SESSION";const EI=wI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await DO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Kg("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function OO(t){Tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function LO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VO(){return TI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="firebaseLocalStorageDb",FO=1,vd="firebaseLocalStorage",II="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fh(t,e){return t.transaction([vd],e?"readwrite":"readonly").objectStore(vd)}function jO(){const t=indexedDB.deleteDatabase(SI);return new pu(t).toPromise()}function $p(){const t=indexedDB.open(SI,FO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vd,{keyPath:II})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vd)?e(r):(r.close(),await jO(),e(await $p()))})})}async function a0(t,e,n){const r=fh(t,!0).put({[II]:e,value:n});return new pu(r).toPromise()}async function UO(t,e){const n=fh(t,!1).get(e),r=await new pu(n).toPromise();return r===void 0?null:r.value}function l0(t,e){const n=fh(t,!0).delete(e);return new pu(n).toPromise()}const BO=800,$O=3;class CI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$O)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(VO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LO(),!this.activeServiceWorker)return;this.sender=new bO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $p();return await a0(e,yd,"1"),await l0(e,yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>a0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fh(i,!1).getAll();return new pu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CI.type="LOCAL";const zO=CI;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t,e){return e?$r(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends Wg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WO(t){return gI(t.auth,new Gg(t),t.bypassAuthState)}function qO(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),TO(n,new Gg(t),t.bypassAuthState)}async function KO(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),EO(n,new Gg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WO;case"linkViaPopup":case"linkViaRedirect":return KO;case"reauthViaPopup":case"reauthViaRedirect":return qO;default:ir(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new du(2e3,1e4);class So extends PI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GO.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="pendingRedirect",Cc=new Map;class YO extends PI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const r=await XO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XO(t,e){const n=e2(e),r=ZO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function JO(t,e){Cc.set(t._key(),e)}function ZO(t){return $r(t._redirectPersistence)}function e2(t){return Ic(QO,t.config.apiKey,t.name)}async function t2(t,e,n=!1){if(pr(t.app))return Promise.reject(Wr(t));const r=zs(t),i=HO(r,e),o=await new YO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=10*60*1e3;class r2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n2&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(e))}saveEventToCache(e){this.cachedEventUids.add(u0(e)),this.lastProcessedEventTime=Date.now()}}function u0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t,e={}){return ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a2=/^https?/;async function l2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s2(t);for(const n of e)try{if(u2(n))return}catch{}ir(t,"unauthorized-domain")}function u2(t){const e=jp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a2.test(n))return!1;if(o2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new du(3e4,6e4);function c0(){const t=Tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d2(t){return new Promise((e,n)=>{var r,i,s;function o(){c0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c0(),n(Er(t,"network-request-failed"))},timeout:c2.get()})}if(!((i=(r=Tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Tr().gapi)===null||s===void 0)&&s.load)o();else{const a=iO("iframefcb");return Tr()[a]=()=>{gapi.load?o():n(Er(t,"network-request-failed"))},hI(`${rO()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function h2(t){return Pc=Pc||d2(t),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new du(5e3,15e3),p2="__/auth/iframe",m2="emulator/auth/iframe",g2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v2(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$g(e,m2):`https://${t.config.authDomain}/${p2}`,r={apiKey:e.apiKey,appName:t.name,v:na},i=y2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ru(r).slice(1)}`}async function _2(t){const e=await h2(t),n=Tr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:v2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Er(t,"network-request-failed"),a=Tr().setTimeout(()=>{s(o)},f2.get());function u(){Tr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E2=500,T2=600,S2="_blank",I2="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C2(t,e,n,r=E2,i=T2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},w2),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Vt().toLowerCase();n&&(a=sI(c)?S2:n),iI(c)&&(e=e||I2,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[v,I])=>`${m}${v}=${I},`,"");if(Kb(c)&&a!=="_self")return P2(e||"",a),new d0(null);const f=window.open(e||"",a,d);le(f,t,"popup-blocked");try{f.focus()}catch{}return new d0(f)}function P2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="__/auth/handler",R2="emulator/auth/handler",k2=encodeURIComponent("fac");async function h0(t,e,n,r,i,s){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:na,eventId:i};if(e instanceof pI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof fu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${k2}=${encodeURIComponent(u)}`:"";return`${x2(t)}?${ru(a).slice(1)}${c}`}function x2({config:t}){return t.emulator?$g(t,R2):`https://${t.authDomain}/${A2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="webStorageSupport";class N2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EI,this._completeRedirectFn=t2,this._overrideRedirectResult=JO}async _openPopup(e,n,r,i){var s;Zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await h0(e,n,r,jp(),i);return C2(e,o,Kg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await h0(e,n,r,jp(),i);return OO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _2(e),r=new r2(e);return n.register("authEvent",i=>(le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yf,{type:yf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[yf];o!==void 0&&n(!!o),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cI()||Hg()||ch()}}const D2=N2;var f0="@firebase/auth",p0="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L2(t){zo(new xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dI(t)},c=new eO(r,i,s,u);return uO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zo(new xs("auth-internal",e=>{const n=zs(e.getProvider("auth").getImmediate());return(r=>new b2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(f0,p0,O2(t)),Oi(f0,p0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=5*60,V2=vT("authIdTokenMaxAge")||M2;let m0=null;const F2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V2)return;const i=n==null?void 0:n.token;m0!==i&&(m0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j2(t=TT()){const e=ig(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lO(t,{popupRedirectResolver:D2,persistence:[zO,NO,EI]}),r=vT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=F2(s.toString());AO(n,o,()=>o(n.currentUser)),PO(n,a=>o(a))}}const i=gT("auth");return i&&cO(n,`http://${i}`),n}function U2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Er("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",U2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L2("Browser");const B2={apiKey:"AIzaSyD5m_J2nG-yIHy9rdMn7YpKhnwRYrY6Wkw",authDomain:"ecommerce-5e7ef.firebaseapp.com",databaseURL:"https://ecommerce-5e7ef-default-rtdb.firebaseio.com",projectId:"ecommerce-5e7ef",storageBucket:"ecommerce-5e7ef.appspot.com",messagingSenderId:"454449190693",appId:"1:454449190693:web:33b4f6a7a75c50df69accc"},RI=ET(B2),g0=j2(RI),st=mb(RI),_d=()=>{const t=localStorage.getItem("expiration");if(t){const e=new Date(t),n=new Date;return e.getTime()-n.getTime()}else return null},pn=()=>{const t=localStorage.getItem("token");if(t){const e=_d();return e&&e<=0?"token expired":t}return null},$2=async t=>{const e=xn(st,"users",t);return!!(await oa(e)).exists()},Mi=()=>{const t=localStorage.getItem("admin");if(t){const e=_d();return e&&e<=0?"token expired":t}return"user"},z2=async t=>{const e=xn(st,"admins",t);return!!(await oa(e)).exists()};function kt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var H2=typeof Symbol=="function"&&Symbol.observable||"@@observable",y0=H2,vf=()=>Math.random().toString(36).substring(7).split("").join("."),W2={INIT:`@@redux/INIT${vf()}`,REPLACE:`@@redux/REPLACE${vf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vf()}`},wd=W2;function Qg(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function kI(t,e,n){if(typeof t!="function")throw new Error(kt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(kt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(kt(1));return n(kI)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((x,S)=>{o.set(S,x)}))}function d(){if(u)throw new Error(kt(3));return i}function f(x){if(typeof x!="function")throw new Error(kt(4));if(u)throw new Error(kt(5));let S=!0;c();const y=a++;return o.set(y,x),function(){if(S){if(u)throw new Error(kt(6));S=!1,c(),o.delete(y),s=null}}}function m(x){if(!Qg(x))throw new Error(kt(7));if(typeof x.type>"u")throw new Error(kt(8));if(typeof x.type!="string")throw new Error(kt(17));if(u)throw new Error(kt(9));try{u=!0,i=r(i,x)}finally{u=!1}return(s=o).forEach(y=>{y()}),x}function v(x){if(typeof x!="function")throw new Error(kt(10));r=x,m({type:wd.REPLACE})}function I(){const x=f;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(kt(11));function y(){const O=S;O.next&&O.next(d())}return y(),{unsubscribe:x(y)}},[y0](){return this}}}return m({type:wd.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:v,[y0]:I}}function q2(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:wd.INIT})>"u")throw new Error(kt(12));if(typeof n(void 0,{type:wd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kt(13))})}function K2(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{q2(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],m=n[f],v=o[f],I=m(v,a);if(typeof I>"u")throw a&&a.type,new Error(kt(14));c[f]=I,u=u||I!==v}return u=u||r.length!==Object.keys(o).length,u?c:o}}function Ed(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function G2(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(kt(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},a=t.map(u=>u(o));return s=Ed(...a)(i.dispatch),{...i,dispatch:s}}}function Q2(t){return Qg(t)&&"type"in t&&typeof t.type=="string"}var xI=Symbol.for("immer-nothing"),v0=Symbol.for("immer-draftable"),Pn=Symbol.for("immer-state");function Xn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xo=Object.getPrototypeOf;function Vs(t){return!!t&&!!t[Pn]}function ei(t){var e;return t?NI(t)||Array.isArray(t)||!!t[v0]||!!((e=t.constructor)!=null&&e[v0])||mh(t)||gh(t):!1}var Y2=Object.prototype.constructor.toString();function NI(t){if(!t||typeof t!="object")return!1;const e=Xo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Y2}function Td(t,e){ph(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function ph(t){const e=t[Pn];return e?e.type_:Array.isArray(t)?1:mh(t)?2:gh(t)?3:0}function zp(t,e){return ph(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function DI(t,e,n){const r=ph(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function X2(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function mh(t){return t instanceof Map}function gh(t){return t instanceof Set}function fs(t){return t.copy_||t.base_}function Hp(t,e){if(mh(t))return new Map(t);if(gh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=NI(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Pn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Xo(t),r)}else{const r=Xo(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Yg(t,e=!1){return yh(t)||Vs(t)||!ei(t)||(ph(t)>1&&(t.set=t.add=t.clear=t.delete=J2),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Yg(r,!0))),t}function J2(){Xn(2)}function yh(t){return Object.isFrozen(t)}var Z2={};function Fs(t){const e=Z2[t];return e||Xn(0,t),e}var Hl;function bI(){return Hl}function eL(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _0(t,e){e&&(Fs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Wp(t){qp(t),t.drafts_.forEach(tL),t.drafts_=null}function qp(t){t===Hl&&(Hl=t.parent_)}function w0(t){return Hl=eL(Hl,t)}function tL(t){const e=t[Pn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function E0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Pn].modified_&&(Wp(e),Xn(4)),ei(t)&&(t=Sd(e,t),e.parent_||Id(e,t)),e.patches_&&Fs("Patches").generateReplacementPatches_(n[Pn].base_,t,e.patches_,e.inversePatches_)):t=Sd(e,n,[]),Wp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==xI?t:void 0}function Sd(t,e,n){if(yh(e))return e;const r=e[Pn];if(!r)return Td(e,(i,s)=>T0(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Id(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Td(s,(a,u)=>T0(t,r,i,a,u,n,o)),Id(t,i,!1),n&&t.patches_&&Fs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function T0(t,e,n,r,i,s,o){if(Vs(i)){const a=s&&e&&e.type_!==3&&!zp(e.assigned_,r)?s.concat(r):void 0,u=Sd(t,i,a);if(DI(n,r,u),Vs(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ei(i)&&!yh(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Sd(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Id(t,i)}}function Id(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Yg(e,n)}function nL(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:bI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Xg;n&&(i=[r],s=Wl);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Xg={get(t,e){if(e===Pn)return t;const n=fs(t);if(!zp(n,e))return rL(t,n,e);const r=n[e];return t.finalized_||!ei(r)?r:r===_f(t.base_,e)?(wf(t),t.copy_[e]=Gp(r,t)):r},has(t,e){return e in fs(t)},ownKeys(t){return Reflect.ownKeys(fs(t))},set(t,e,n){const r=OI(fs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=_f(fs(t),e),s=i==null?void 0:i[Pn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(X2(n,i)&&(n!==void 0||zp(t.base_,e)))return!0;wf(t),Kp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _f(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,wf(t),Kp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=fs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Xn(11)},getPrototypeOf(t){return Xo(t.base_)},setPrototypeOf(){Xn(12)}},Wl={};Td(Xg,(t,e)=>{Wl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Wl.deleteProperty=function(t,e){return Wl.set.call(this,t,e,void 0)};Wl.set=function(t,e,n){return Xg.set.call(this,t[0],e,n,t[0])};function _f(t,e){const n=t[Pn];return(n?fs(n):t)[e]}function rL(t,e,n){var i;const r=OI(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function OI(t,e){if(!(e in t))return;let n=Xo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Xo(n)}}function Kp(t){t.modified_||(t.modified_=!0,t.parent_&&Kp(t.parent_))}function wf(t){t.copy_||(t.copy_=Hp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var iL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,d=>n.call(this,d,...c))}}typeof n!="function"&&Xn(6),r!==void 0&&typeof r!="function"&&Xn(7);let i;if(ei(e)){const s=w0(this),o=Gp(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Wp(s):qp(s)}return _0(s,r),E0(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===xI&&(i=void 0),this.autoFreeze_&&Yg(i,!0),r){const s=[],o=[];Fs("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Xn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,u=>e(u,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ei(t)||Xn(8),Vs(t)&&(t=sL(t));const e=w0(this),n=Gp(t,void 0);return n[Pn].isManual_=!0,qp(e),n}finishDraft(t,e){const n=t&&t[Pn];(!n||!n.isManual_)&&Xn(9);const{scope_:r}=n;return _0(r,e),E0(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Fs("Patches").applyPatches_;return Vs(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Gp(t,e){const n=mh(t)?Fs("MapSet").proxyMap_(t,e):gh(t)?Fs("MapSet").proxySet_(t,e):nL(t,e);return(e?e.scope_:bI()).drafts_.push(n),n}function sL(t){return Vs(t)||Xn(10,t),LI(t)}function LI(t){if(!ei(t)||yh(t))return t;const e=t[Pn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Hp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Hp(t,!0);return Td(n,(r,i)=>{DI(n,r,LI(i))}),e&&(e.finalized_=!1),n}var An=new iL,MI=An.produce;An.produceWithPatches.bind(An);An.setAutoFreeze.bind(An);An.setUseStrictShallowCopy.bind(An);An.applyPatches.bind(An);An.createDraft.bind(An);An.finishDraft.bind(An);function VI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var oL=VI(),aL=VI,lL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ed:Ed.apply(null,arguments)};function S0(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(tr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Q2(r)&&r.type===t,n}var FI=class tl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,tl.prototype)}static get[Symbol.species](){return tl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new tl(...e[0].concat(this)):new tl(...e.concat(this))}};function I0(t){return ei(t)?MI(t,()=>{}):t}function C0(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(tr(10));const r=n.insert(e,t);return t.set(e,r),r}function uL(t){return typeof t=="boolean"}var cL=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new FI;return n&&(uL(n)?o.push(oL):o.push(aL(n.extraArgument))),o},dL="RTK_autoBatch",jI=t=>e=>{setTimeout(e,t)},hL=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jI(10),fL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?hL:t.type==="callback"?t.queueNotification:jI(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),m=r.subscribe(f);return a.add(d),()=>{m(),a.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[dL]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(d)}finally{i=!0}}})},pL=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new FI(t);return r&&i.push(fL(typeof r=="object"?r:void 0)),i};function mL(t){const e=cL(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Qg(n))a=K2(n);else throw new Error(tr(1));let u;typeof r=="function"?u=r(e):u=e();let c=Ed;i&&(c=lL({trace:!1,...typeof i=="object"&&i}));const d=G2(...u),f=pL(d);let m=typeof o=="function"?o(f):f();const v=c(...m);return kI(a,s,v)}function UI(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(tr(28));if(a in e)throw new Error(tr(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function gL(t){return typeof t=="function"}function yL(t,e){let[n,r,i]=UI(e),s;if(gL(t))s=()=>I0(t());else{const a=I0(t);s=()=>a}function o(a=s(),u){let c=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(Vs(d)){const v=f(d,u);return v===void 0?d:v}else{if(ei(d))return MI(d,m=>f(m,u));{const m=f(d,u);if(m===void 0){if(d===null)return d;throw new Error(tr(9))}return m}}return d},a)}return o.getInitialState=s,o}var vL=Symbol.for("rtk-slice-createasyncthunk");function _L(t,e){return`${t}/${e}`}function wL({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[vL];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(tr(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(TL()):i.reducers)||{},u=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,O){const U=typeof E=="string"?E:E.type;if(!U)throw new Error(tr(12));if(U in c.sliceCaseReducersByType)throw new Error(tr(13));return c.sliceCaseReducersByType[U]=O,d},addMatcher(E,O){return c.sliceMatchers.push({matcher:E,reducer:O}),d},exposeAction(E,O){return c.actionCreators[E]=O,d},exposeCaseReducer(E,O){return c.sliceCaseReducersByName[E]=O,d}};u.forEach(E=>{const O=a[E],U={reducerName:E,type:_L(s,E),createNotation:typeof i.reducers=="function"};IL(O)?PL(U,O,d,e):SL(U,O,d)});function f(){const[E={},O=[],U=void 0]=typeof i.extraReducers=="function"?UI(i.extraReducers):[i.extraReducers],k={...E,...c.sliceCaseReducersByType};return yL(i.initialState,C=>{for(let g in k)C.addCase(g,k[g]);for(let g of c.sliceMatchers)C.addMatcher(g.matcher,g.reducer);for(let g of O)C.addMatcher(g.matcher,g.reducer);U&&C.addDefaultCase(U)})}const m=E=>E,v=new Map;let I;function R(E,O){return I||(I=f()),I(E,O)}function x(){return I||(I=f()),I.getInitialState()}function S(E,O=!1){function U(C){let g=C[E];return typeof g>"u"&&O&&(g=x()),g}function k(C=m){const g=C0(v,O,{insert:()=>new WeakMap});return C0(g,C,{insert:()=>{const T={};for(const[P,N]of Object.entries(i.selectors??{}))T[P]=EL(N,C,x,O);return T}})}return{reducerPath:E,getSelectors:k,get selectors(){return k(U)},selectSlice:U}}const y={name:s,reducer:R,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...S(o),injectInto(E,{reducerPath:O,...U}={}){const k=O??o;return E.inject({reducerPath:k,reducer:R},U),{...y,...S(k,!0)}}};return y}}function EL(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var Jg=wL();function TL(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function SL({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!CL(r))throw new Error(tr(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?S0(t,o):S0(t))}function IL(t){return t._reducerDefinitionType==="asyncThunk"}function CL(t){return t._reducerDefinitionType==="reducerWithPrepare"}function PL({type:t,reducerName:e},n,r,i){if(!i)throw new Error(tr(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:c,options:d}=n,f=i(t,s,d);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),u&&r.addCase(f.rejected,u),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||nc,pending:a||nc,rejected:u||nc,settled:c||nc})}function nc(){}function tr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}let AL={notifications:[],navShown:!1,loading:!1,token:pn(),orderFormShown:!1,mode:Mi()};const BI=Jg({name:"ui",initialState:AL,reducers:{toggleNav(t,e){t.navShown=e.payload},addNotification(t,e){t.notifications.push({...e.payload})},removeNotification(t){t.notifications.shift()},setLoading(t,e){t.loading=e.payload},setToken(t,e){localStorage.setItem("token",e.payload),t.token=e.payload},clearToken(t){localStorage.clear(),t.token=null},setOrderFormShown(t,e){t.orderFormShown=e.payload},setMode(t,e){t.mode=e.payload}}}),RL=BI.reducer,De=BI.actions;let kL={cartItems:[],totalAmount:0,totalNumItems:0};const $I=Jg({name:"cart",initialState:kL,reducers:{addItem(t,e){t.totalAmount+=e.payload.price,t.totalNumItems+=e.payload.amount;const n=t.cartItems.findIndex(r=>r.id===e.payload.id);if(n>-1){let r=t.cartItems[n];r={...r,amount:r.amount+e.payload.amount},t.cartItems[n]=r}else t.cartItems.push(e.payload)},removeItem(t,e){t.totalAmount-=e.payload.price,t.totalNumItems-=e.payload.amount;const n=t.cartItems.findIndex(r=>r.id===e.payload.id);if(n>-1){let r=t.cartItems[n];r.amount===1?t.cartItems=t.cartItems.filter(i=>i.id!==e.payload.id):(r={...r,amount:r.amount-e.payload.amount},t.cartItems[n]=r)}},deleteOneItem(t,e){t.totalAmount=t.totalAmount-=e.payload.price*e.payload.amount,t.totalNumItems=t.totalNumItems-=e.payload.amount,t.cartItems=t.cartItems.filter(n=>n.id!==e.payload.id)},deleteAll(t){t.totalAmount=0,t.totalNumItems=0,t.cartItems=[]},setCart(t,e){t.cartItems=e.payload.cartItems,t.totalAmount=e.payload.totalAmount,t.totalNumItems=e.payload.totalNumItems}}}),xL=$I.reducer,mu=$I.actions;let NL={admins:[],users:[],products:[],orders:[]};const zI=Jg({name:"admin",initialState:NL,reducers:{setAdminData(t,e){t.products=e.payload.products,t.admins=e.payload.admins,t.users=e.payload.users,t.orders=e.payload.orders},setProducts(t,e){t.products=e.payload},setUsers(t,e){t.users=e.payload},setOrders(t,e){t.orders=e.payload},setAdmins(t,e){t.admins=e.payload}}}),DL=zI.reducer,gu=zI.actions,bt=mL({reducer:{ui:RL,cart:xL,admin:DL}}),Y=(t,e)=>{bt.dispatch(De.addNotification({title:e,type:t})),setTimeout(()=>{bt.dispatch(De.removeNotification())},3e3)},HI=()=>{if(Mi()!=="user")return bt.dispatch(De.clearToken()),Y("error","Admin logged out!"),Fn("/adminLogin");const e=pn();return e||e==="token expired"?(bt.dispatch(De.clearToken()),Y("error","User logged out!"),Fn("/auth?mode=login")):Fn("/")},bL=()=>{const t=pn();return!t||t==="token expired"?(Y("error","You are already logged out"),Fn("/auth?mode=login")):HI()},OL="_FallbackContainer_1j5f3_1",LL="_spinner_1j5f3_17",ML="_loading_1j5f3_1",VL="_content_1j5f3_53",Ef={FallbackContainer:OL,spinner:LL,loading:ML,content:VL},FL="_nav_78blv_1",jL="_link_78blv_19",UL="_navMenu_78blv_29",BL="_navItem_78blv_41",$L="_auth_78blv_43",zL="_cart_78blv_45",HL="_h1_78blv_65",WL="_red_78blv_77",qL="_isActive_78blv_85",KL="_notActive_78blv_93",GL="_active_78blv_113",QL="_icon_78blv_121",YL="_logout_78blv_131",XL="_menuBtn_78blv_159",JL="_menuPiece_78blv_169",ZL="_middleBar_78blv_185",eM="_crossBtn_78blv_201",tM="_show_78blv_245",ne={nav:FL,link:jL,navMenu:UL,navItem:BL,auth:$L,cart:zL,h1:HL,red:WL,isActive:qL,notActive:KL,active:GL,icon:QL,logout:YL,menuBtn:XL,menuPiece:JL,middleBar:ZL,crossBtn:eM,show:tM},nM="data:image/svg+xml,%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%20-2%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16%2015.503A5.041%205.041%200%201%200%2016%205.42a5.041%205.041%200%200%200%200%2010.083zm0%202.215c-6.703%200-11%203.699-11%205.5v3.363h22v-3.363c0-2.178-4.068-5.5-11-5.5z'/%3e%3c/svg%3e",rM="data:image/svg+xml,%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M6.29977%205H21L19%2012H7.37671M20%2016H8L6%203H3M9%2020C9%2020.5523%208.55228%2021%208%2021C7.44772%2021%207%2020.5523%207%2020C7%2019.4477%207.44772%2019%208%2019C8.55228%2019%209%2019.4477%209%2020ZM20%2020C20%2020.5523%2019.5523%2021%2019%2021C18.4477%2021%2018%2020.5523%2018%2020C18%2019.4477%2018.4477%2019%2019%2019C19.5523%2019%2020%2019.4477%2020%2020Z'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e";var WI={exports:{}},qI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=V;function iM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sM=typeof Object.is=="function"?Object.is:iM,oM=yu.useSyncExternalStore,aM=yu.useRef,lM=yu.useEffect,uM=yu.useMemo,cM=yu.useDebugValue;qI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=aM(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=uM(function(){function u(v){if(!c){if(c=!0,d=v,v=r(v),i!==void 0&&o.hasValue){var I=o.value;if(i(I,v))return f=I}return f=v}if(I=f,sM(d,v))return I;var R=r(v);return i!==void 0&&i(I,R)?I:(d=v,f=R)}var c=!1,d,f,m=n===void 0?null:n;return[function(){return u(e())},m===null?void 0:function(){return u(m())}]},[e,n,r,i]);var a=oM(t,s[0],s[1]);return lM(function(){o.hasValue=!0,o.value=a},[a]),cM(a),a};WI.exports=qI;var dM=WI.exports,Sn="default"in Sf?Si:Sf,P0=Symbol.for("react-redux-context"),A0=typeof globalThis<"u"?globalThis:{};function hM(){if(!Sn.createContext)return{};const t=A0[P0]??(A0[P0]=new Map);let e=t.get(Sn.createContext);return e||(e=Sn.createContext(null),t.set(Sn.createContext,e)),e}var Wi=hM(),fM=()=>{throw new Error("uSES not initialized!")};function Zg(t=Wi){return function(){return Sn.useContext(t)}}var KI=Zg(),GI=fM,pM=t=>{GI=t},mM=(t,e)=>t===e;function gM(t=Wi){const e=t===Wi?KI:Zg(t),n=(r,i={})=>{const{equalityFn:s=mM,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:c,stabilityCheck:d,identityFunctionCheck:f}=e();Sn.useRef(!0);const m=Sn.useCallback({[r.name](I){return r(I)}}[r.name],[r,d,o.stabilityCheck]),v=GI(u.addNestedSub,a.getState,c||a.getState,m,s);return Sn.useDebugValue(v),v};return Object.assign(n,{withTypes:()=>n}),n}var wn=gM();function yM(t){t()}function vM(){let t=null,e=null;return{clear(){t=null,e=null},notify(){yM(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var R0={notify(){},get:()=>[]};function _M(t,e){let n,r=R0,i=0,s=!1;function o(R){d();const x=r.subscribe(R);let S=!1;return()=>{S||(S=!0,x(),f())}}function a(){r.notify()}function u(){I.onStateChange&&I.onStateChange()}function c(){return s}function d(){i++,n||(n=t.subscribe(u),r=vM())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=R0)}function m(){s||(s=!0,d())}function v(){s&&(s=!1,f())}const I={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:v,getListeners:()=>r};return I}var wM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EM=typeof navigator<"u"&&navigator.product==="ReactNative",TM=wM||EM?Sn.useLayoutEffect:Sn.useEffect;function SM({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Sn.useMemo(()=>{const c=_M(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Sn.useMemo(()=>t.getState(),[t]);TM(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=e||Wi;return Sn.createElement(u.Provider,{value:o},n)}var IM=SM;function QI(t=Wi){const e=t===Wi?KI:Zg(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var CM=QI();function PM(t=Wi){const e=t===Wi?CM:QI(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Ar=PM();pM(dM.useSyncExternalStoreWithSelector);function AM(t){const e=Mi(),n=pn(),r=wn(a=>a.ui.navShown),i=wn(a=>a.ui.mode),s=Ar(),o=()=>s(De.toggleNav(!0));return w.jsxs("nav",{className:ne.nav,children:[w.jsx(qt,{to:"/",className:ne.link,children:w.jsxs("h1",{className:ne.h1,children:["React",w.jsx("span",{className:ne.red,children:"Commerce"})]})}),!r&&w.jsxs("div",{className:ne.menuBtn,onClick:o,children:[w.jsx("div",{className:ne.menuPiece}),w.jsx("div",{className:`${ne.menuPiece} ${ne.middleBar}`}),w.jsx("div",{className:ne.menuPiece})]}),r&&w.jsx("div",{className:ne.crossBtn,onClick:t.closeNav,children:"X"}),w.jsxs("div",{className:`${ne.navMenu} ${r?ne.show:""}`,onClick:t.closeNav,children:[i==="user"&&w.jsxs(w.Fragment,{children:[w.jsx(ls,{className:({isActive:a})=>a?`${ne.active} ${ne.link} ${ne.navItem}`:`${ne.link} ${ne.navItem}`,to:"/",children:"Home"}),w.jsx(ls,{className:({isActive:a})=>a?`${ne.active} ${ne.link} ${ne.navItem}`:`${ne.link} ${ne.navItem}`,to:"/shop",children:"Shop"}),w.jsx(ls,{className:({isActive:a})=>a?`${ne.active} ${ne.link} ${ne.navItem}`:`${ne.link} ${ne.navItem}`,to:"/contactUs",children:"Contact Us"}),!n&&w.jsxs(w.Fragment,{children:[w.jsx(qt,{to:"/auth?mode=login",className:`${ne.link} ${ne.auth}`,children:w.jsx("img",{className:ne.icon,src:nM,alt:"person icon"})}),w.jsx(ls,{className:({isActive:a})=>a?`${ne.active} ${ne.link} ${ne.navItem}`:`${ne.link} ${ne.navItem}`,to:"/adminLogin",children:"Admin"})]}),n&&w.jsx(qt,{className:`${ne.link} ${ne.cart}`,to:"/cart",children:w.jsx("img",{className:ne.icon,src:rM,alt:"cart icon"})})]}),i!=="user"&&w.jsxs(w.Fragment,{children:[w.jsx(ls,{className:({isActive:a})=>a?`${ne.active} ${ne.link} ${ne.navItem}`:`${ne.link} ${ne.navItem}`,to:"/admin/dashboard",children:"Dashboard"}),w.jsx(ls,{className:({isActive:a})=>a?`${ne.active} ${ne.link} ${ne.navItem}`:`${ne.link} ${ne.navItem}`,to:"/admin/users",children:"Users"}),w.jsx(ls,{className:({isActive:a})=>a?`${ne.active} ${ne.link} ${ne.navItem}`:`${ne.link} ${ne.navItem}`,to:"/admin/products",children:"Products"})]}),(n||e!=="user")&&w.jsx(HR,{method:"POST",action:"/logout",className:`${ne.link} ${ne.logout} ${ne.navItem}`,children:w.jsx("button",{children:"Logout"})})]})]})}const RM="_footer_rtxc2_1",kM="_upperContainer_rtxc2_19",xM="_links_rtxc2_33",NM="_newsLetter_rtxc2_35",DM="_link_rtxc2_33",bM="_columnHeading_rtxc2_45",OM="_credits_rtxc2_79",LM="_love_rtxc2_91",MM="_name_rtxc2_99",VM="_column_rtxc2_45",FM="_h1_rtxc2_133",jM="_red_rtxc2_147",UM="_subBtn_rtxc2_171",BM="_subEmailInput_rtxc2_173",$M="_form_rtxc2_251",zM="_compShown_rtxc2_273",HM="_legalShown_rtxc2_275",xe={footer:RM,upperContainer:kM,links:xM,newsLetter:NM,link:DM,columnHeading:bM,credits:OM,love:LM,name:MM,column:VM,h1:FM,red:jM,subBtn:UM,subEmailInput:BM,form:$M,compShown:zM,legalShown:HM};function WM(){const t=sr(),[e,n]=V.useState(!1),[r,i]=V.useState(!1),s=V.useRef(null);function o(a){var u,c,d,f;a.preventDefault(),s&&((u=s.current)!=null&&u.value.includes("@"))&&((c=s.current)!=null&&c.value.includes("gmail.com"))||(d=s.current)!=null&&d.value.includes("yahoo.com")||(f=s.current)!=null&&f.value.includes("outlook.com")?(Y("success","Subscribed to NewsLetter!"),t("/")):Y("error","Please enter a valid Email!")}return w.jsxs("footer",{className:xe.footer,children:[w.jsx("h1",{className:xe.h1,children:w.jsxs(qt,{to:"/",onClick:()=>{window.location.pathname==="/React-Ecommerce"&&window.scroll({top:0,behavior:"smooth"})},className:xe.link,children:["React",w.jsx("span",{className:xe.red,children:"Commerce"})]})}),w.jsxs("div",{className:xe.upperContainer,children:[w.jsxs("div",{className:xe.column,children:[w.jsxs("h3",{onClick:()=>n(a=>!a),className:xe.columnHeading,children:["Company ",e?"<":">"]}),w.jsxs("div",{className:`${xe.links} ${e?xe.compShown:""}`,children:[w.jsx(qt,{className:xe.link,to:"/",children:"Home"}),w.jsx(qt,{className:xe.link,to:"/shop/category/all",children:"Shop"}),w.jsx(qt,{className:xe.link,to:"/auth?mode=login",children:"Login"}),w.jsx(qt,{className:xe.link,to:"/auth?mode=signup",children:"Signup"}),w.jsx(qt,{className:xe.link,to:"/contactUs",children:"Contact Us"}),w.jsx(qt,{className:xe.link,to:"/admin/dashboard",children:"Admin"})]})]}),w.jsxs("div",{className:xe.column,children:[w.jsxs("h3",{onClick:()=>i(a=>!a),className:xe.columnHeading,children:["Legal ",r?"<":">"]}),w.jsxs("div",{className:`${xe.links} ${r?xe.legalShown:""}`,children:[w.jsx(qt,{target:"_blank",className:xe.link,to:"https://codeletdigital.com/about",children:"Company Policy"}),w.jsx(qt,{className:xe.link,target:"_blank",to:"https://www.linkedin.com/in/hassan-bilal-dev",children:"Terms & Conditions"}),w.jsx(qt,{className:xe.link,to:"https://github.com/hassansheikh33/React-Ecommerce",target:"_blank",children:"Terms of Use"}),w.jsx(qt,{target:"_blank",className:xe.link,to:"https://github.com/hassansheikh33/React-Ecommerce",children:"Copyright"})]})]}),w.jsxs("div",{className:xe.newsLetter,children:[w.jsx("h3",{className:xe.columnHeading,children:"Subscribe to our newsletter"}),w.jsxs("form",{onSubmit:o,className:xe.form,children:[w.jsx("input",{className:xe.subEmailInput,type:"email",placeholder:"enter your email",ref:s}),w.jsx("button",{type:"submit",className:xe.subBtn,children:"Subscribe"})]})]})]}),w.jsx("hr",{className:xe.divider}),w.jsxs("p",{className:xe.credits,children:["Made with ",w.jsx("span",{className:xe.love,children:"love"})," by"," ",w.jsx("a",{className:xe.name,href:"https://github.com/hassansheikh33",target:"_blank",children:"Muhammad Hassan Bilal"})]})]})}const qM="_notificationsContainer_1b9nc_1",KM="_notification_1b9nc_1",GM="_error_1b9nc_37",QM="_success_1b9nc_45",YM="_progress_1b9nc_53",ja={notificationsContainer:qM,notification:KM,error:GM,success:QM,progress:YM};function XM(){const t=wn(e=>e.ui.notifications);if(t.length>0)return w.jsx("div",{className:ja.notificationsContainer,children:t.map((e,n)=>w.jsx("div",{className:`${ja.notification} ${e.type==="error"?ja.error:e.type==="progress"?ja.progress:ja.success}`,children:w.jsx("p",{children:e.title})},n))})}function JM(){const t=pn(),e=hT(),n=Mi();V.useEffect(()=>{if(n!=="user")if(n!=="user"){const u=_d();u&&u>0?setTimeout(()=>{if(Mi()!=="user"&&n!=="token expired"){Y("error","Session expired, please login again"),e(null,{action:"/logout",method:"POST"});return}},u):u&&u<=0&&(Y("error","Session expired, please login again"),e(null,{action:"/logout",method:"POST"}))}else if(t){const u=_d();u&&u>0?setTimeout(()=>{if(pn()&&t!=="token expired"){Y("error","Session expired, please login again"),e(null,{action:"/logout",method:"POST"});return}},u):u&&u<=0&&(Y("error","Session expired, please login again"),e(null,{action:"/logout",method:"POST"}))}else return},[t,e,Y,n]),V.useEffect(()=>{(async()=>{if(!t&&n!=="user"&&n!=="token expired"){await z2(n)||(Y("error","Unauthenticated Admin"),e(null,{action:"/logout",method:"POST"}));return}t&&(!n||n==="user")&&(await $2(t)||(Y("error","Unauthenticated User"),e(null,{action:"/logout",method:"POST"})))})()},[t,n]);const r=Ji().pathname,i=wn(u=>u.ui.navShown),s=Ar(),o=()=>{i&&s(De.toggleNav(!1))};V.useEffect(()=>{r.includes("order")||window.scroll({top:0,behavior:"smooth"})},[r]);const a=()=>{const u=Mi(),c=pn();if(u!=="token expired"||!c&&c!=="token expired"){const d=localStorage.getItem("expiration");if(d){const f=new Date(d);f.setMinutes(f.getMinutes()+1),localStorage.setItem("expiration",f.toISOString())}}};return w.jsxs("div",{onClick:a,children:[w.jsx("header",{children:w.jsx(AM,{closeNav:o})}),w.jsxs("div",{onClick:o,children:[w.jsx("main",{className:Ef.content,children:w.jsxs(V.Suspense,{fallback:w.jsxs("div",{className:Ef.FallbackContainer,children:[w.jsx("h1",{children:"Loading.... "}),w.jsx("div",{className:Ef.spinner})]}),children:[w.jsx(XM,{}),w.jsx(tu,{})]})}),w.jsx(WM,{})]})]})}function ZM(){const t=lT();return console.log(t,typeof t),w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx("h1",{children:"Some Error Occured"}),t.data&&w.jsxs("h2",{children:["Details :",t.data]}),!t.data&&w.jsx("h2",{children:t.toString()}),w.jsx("p",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>window.history.back(),children:"Go back?"})]})}const eV="_productsContainer_tddlx_1",tV={productsContainer:eV};function nV(t){return w.jsx("div",{style:t.style,className:tV.productsContainer,children:t.children})}const rV="_productContainer_1s62o_1",iV="_image_1s62o_9",sV="_priceRating_1s62o_19",oV="_price_1s62o_19",aV="_rating_1s62o_43",lV="_pointer_1s62o_57",uV="_buttonContainer_1s62o_65",cV="_red_1s62o_75",dV="_seeDetailsBtn_1s62o_83",Or={productContainer:rV,image:iV,priceRating:sV,price:oV,rating:aV,pointer:lV,buttonContainer:uV,red:cV,seeDetailsBtn:dV},hV="_card_1krw5_1",fV={card:hV};function vu(t){return w.jsx("div",{className:`${fV.card} ${t.className?t.className:""}`,style:t.style,children:t.children})}const pV="_btn_n8j9c_1",k0={btn:pV};function qi(t){return w.jsx("button",{disabled:t.disabled,type:t.type?t.type:"button",className:t.className?`${k0.btn} ${t.className}`:k0.btn,onClick:t.onClick,children:t.children})}const mV=t=>async e=>{if(window.navigator.onLine){e(De.setLoading(!0));const n=xn(st,"users",t),r=await oa(n);if(r.exists()){const i=r.data();e(mu.setCart(i.cart))}e(De.setLoading(!1))}else Y("error","Please connect to an internet connection")},vh=(t,e)=>async()=>{try{const n=xn(st,"users",t);await qS(n,{cart:e})}catch(n){console.log(n),Y("error","Could not update cart, please try again later!")}},YI=(t,e)=>async(n,r)=>{if(window.navigator.onLine)try{n(mu.addItem(e));const i=r().cart;await n(vh(t,i)),Y("success","Item added to Cart")}catch(i){Y("error","Could not add item to cart, please try again later!"),console.error(i)}else Y("error","Please connect to an internet connection and try again")},gV=(t,e)=>async(n,r)=>{if(window.navigator.onLine)try{n(mu.removeItem(e));const i=r().cart;await n(vh(t,i)),Y("error","item removed from cart!")}catch(i){Y("error","Could not remove item from cart, please try again later!"),console.error(i)}else Y("error","Please connect to an internet connection and try again")},yV=(t,e)=>async(n,r)=>{if(window.navigator.onLine)try{n(mu.deleteOneItem(e));const i=r().cart;await n(vh(t,i)),Y("error","Item deleted from cart!")}catch(i){Y("error","Could not delete item from cart, please try again later!"),console.error(i)}else Y("error","Please connect to an internet connection and try again")},XI=(t,e)=>async(n,r)=>{if(window.navigator.onLine)try{n(mu.deleteAll());const i=r().cart;await n(vh(t,i)),Y(e.type,e.title)}catch{Y("error","Could not empty cart, please try again later!")}else Y("error","Please connect to an internet connection and try again")},vV=t=>async()=>{if(window.navigator.onLine)try{const e=mr(st,"orders");await Cb(e,t)}catch{Y("error","Could not place an order, please try again later!")}else Y("error","Please connect to an internet connection and try again")},_V=(t,e)=>({id:t.id,price:t.price,title:t.title,category:t.category,image:t.image,rating:{rate:t.rating.rate,count:t.rating.count},amount:e}),wV=t=>({amount:t.amount,id:t.id,price:t.price,title:t.title});function EV(t){const e=pn(),n=Ar(),r=()=>{if(e){const s=_V(t.product,1);n(YI(e,s))}else Y("error","Please Login to add items to Cart!")},i=()=>{t.onClick()};return w.jsxs(vu,{className:Or.productContainer,children:[w.jsxs("div",{className:Or.pointer,onClick:i,children:[w.jsx("img",{src:t.product.image,alt:"product image",className:Or.image}),w.jsxs("h3",{children:[t.product.title.slice(0,30),"..."]})]}),w.jsx("hr",{}),w.jsxs("p",{className:Or.priceRating,children:[w.jsxs("span",{className:Or.price,children:["$",t.product.price]}),w.jsxs("span",{className:Or.rating,children:[w.jsxs("span",{children:[t.product.rating.rate," stars"]}),w.jsxs("span",{children:["(",t.product.rating.count," ratings)"]})]})]}),w.jsxs("div",{className:Or.buttonContainer,children:[w.jsx(qi,{onClick:r,className:Or.red,children:"Add to Cart"}),w.jsx(qi,{className:Or.seeDetailsBtn,onClick:i,children:"See Details"})]})]})}const TV="_browseCategories_1bfac_1",SV="_categoriesContainer_1bfac_19",IV="_categoryName_1bfac_33",CV="_category_1bfac_33",PV="_image_1bfac_61",Ua={browseCategories:TV,categoriesContainer:SV,categoryName:IV,category:CV,image:PV},AV="/React-Ecommerce/assets/jewelery-BYC-D-Cd.jpg",RV="/React-Ecommerce/assets/womenClothing-DS-wx0HS.jpg",kV="/React-Ecommerce/assets/electronics-DytI9Af2.jpg",xV="/React-Ecommerce/assets/menClothing-BVrhLnPe.jpg",NV=[{name:"electronics",image:kV},{name:"jewelery",image:AV},{name:"men's clothing",image:xV},{name:"women's clothing",image:RV}];function Qp({title:t}){const e=sr();return w.jsxs("div",{className:Ua.browseCategories,children:[w.jsx("h2",{children:t}),w.jsx("div",{className:Ua.categoriesContainer,children:NV.map((n,r)=>w.jsxs("div",{className:Ua.category,children:[w.jsx("img",{className:Ua.image,src:n.image,alt:"category image",id:"image",onClick:()=>e(`/shop/category/${n.name}`)}),w.jsx("p",{className:Ua.categoryName,children:n.name})]},r))})]})}const DV="_heading_1455j_1",bV="_filter_1455j_11",OV="_label_1455j_23",LV="_select_1455j_37",rc={heading:DV,filter:bV,label:OV,select:LV};function MV(t){const[e,n]=V.useState("none"),r=a=>{n(a.target.value)};let i=[];switch(e){case"PLTH":i=t.data.sort((a,u)=>a.price-u.price);break;case"PHTL":i=t.data.sort((a,u)=>u.price-a.price);break;case"RLTH":i=t.data.sort((a,u)=>a.rating.rate-u.rating.rate);break;case"RHTL":i=t.data.sort((a,u)=>u.rating.rate-a.rating.rate);break;default:i=t.data.sort(()=>.5-Math.random())}const[s]=V.useState(i),o=sr();return w.jsxs("div",{children:[w.jsx("h1",{className:rc.heading,children:"All Products"}),w.jsxs("div",{className:rc.filter,children:[w.jsx("label",{htmlFor:"filter",className:rc.label,children:"Sort by"}),w.jsxs("select",{name:"filter",className:rc.select,id:"filter",value:e,onChange:r,children:[w.jsx("option",{value:"none",children:"none"}),w.jsx("option",{value:"PLTH",children:"Price: Low to High"}),w.jsx("option",{value:"PHTL",children:"Price: High to Low"}),w.jsx("option",{value:"RLTH",children:"Rating: Low to High"}),w.jsx("option",{value:"RHTL",children:"Rating: High to Low"})]})]}),w.jsx(nV,{children:s.map(a=>w.jsx(EV,{onClick:()=>o(`/shop/category/${a.category}/${a.id}`),product:a},a.id))}),w.jsx(Qp,{title:"Browse By Category"})]})}var JI={exports:{}},VV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FV=VV,jV=FV;function ZI(){}function e1(){}e1.resetWarningCache=ZI;var UV=function(){function t(r,i,s,o,a,u){if(u!==jV){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:e1,resetWarningCache:ZI};return n.PropTypes=n,n};JI.exports=UV();var BV=JI.exports;const qe=Jo(BV);function $V(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var t1=V,zV=$V(t1);function x0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var WV=!!(typeof window<"u"&&window.document&&window.document.createElement);function qV(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function u(){a=t(o.map(function(d){return d.props})),c.canUseDOM?e(a):n&&(a=n(a))}var c=function(d){HV(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return a},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var I=a;return a=void 0,o=[],I};var m=f.prototype;return m.UNSAFE_componentWillMount=function(){o.push(this),u()},m.componentDidUpdate=function(){u()},m.componentWillUnmount=function(){var I=o.indexOf(this);o.splice(I,1),u()},m.render=function(){return zV.createElement(s,this.props)},f}(t1.PureComponent);return x0(c,"displayName","SideEffect("+r(s)+")"),x0(c,"canUseDOM",WV),c}}var KV=qV;const GV=Jo(KV);var QV=typeof Element<"u",YV=typeof Map=="function",XV=typeof Set=="function",JV=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ac(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Ac(t[r],e[r]))return!1;return!0}var s;if(YV&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Ac(r.value[1],e.get(r.value[0])))return!1;return!0}if(XV&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(JV&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(QV&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Ac(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var ZV=function(e,n){try{return Ac(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const eF=Jo(ZV);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var N0=Object.getOwnPropertySymbols,tF=Object.prototype.hasOwnProperty,nF=Object.prototype.propertyIsEnumerable;function rF(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function iF(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var sF=iF()?Object.assign:function(t,e){for(var n,r=rF(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)tF.call(n,o)&&(r[o]=n[o]);if(N0){i=N0(n);for(var a=0;a<i.length;a++)nF.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const oF=Jo(sF);var Is={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},pe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(pe).map(function(t){return pe[t]});var Ke={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Cd={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ql={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},aF=Object.keys(Cd).reduce(function(t,e){return t[Cd[e]]=e,t},{}),lF=[pe.NOSCRIPT,pe.SCRIPT,pe.STYLE],Jn="data-react-helmet",uF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cF=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},dF=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),on=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hF=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},D0=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},fF=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Yp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},pF=function(e){var n=Oo(e,pe.TITLE),r=Oo(e,ql.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Oo(e,ql.DEFAULT_TITLE);return n||i||void 0},mF=function(e){return Oo(e,ql.ON_CHANGE_CLIENT_STATE)||function(){}},Tf=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return on({},r,i)},{})},gF=function(e,n){return n.filter(function(r){return typeof r[pe.BASE]<"u"}).map(function(r){return r[pe.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],u=a.toLowerCase();if(e.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},Ba=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&wF("Helmet: "+e+' should be of type "Array". Instead found type "'+uF(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var a={};o.filter(function(m){for(var v=void 0,I=Object.keys(m),R=0;R<I.length;R++){var x=I[R],S=x.toLowerCase();n.indexOf(S)!==-1&&!(v===Ke.REL&&m[v].toLowerCase()==="canonical")&&!(S===Ke.REL&&m[S].toLowerCase()==="stylesheet")&&(v=S),n.indexOf(x)!==-1&&(x===Ke.INNER_HTML||x===Ke.CSS_TEXT||x===Ke.ITEM_PROP)&&(v=x)}if(!v||!m[v])return!1;var y=m[v].toLowerCase();return i[v]||(i[v]={}),a[v]||(a[v]={}),i[v][y]?!1:(a[v][y]=!0,!0)}).reverse().forEach(function(m){return s.push(m)});for(var u=Object.keys(a),c=0;c<u.length;c++){var d=u[c],f=oF({},i[d],a[d]);i[d]=f}return s},[]).reverse()},Oo=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},yF=function(e){return{baseTag:gF([Ke.HREF,Ke.TARGET],e),bodyAttributes:Tf(Is.BODY,e),defer:Oo(e,ql.DEFER),encode:Oo(e,ql.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Tf(Is.HTML,e),linkTags:Ba(pe.LINK,[Ke.REL,Ke.HREF],e),metaTags:Ba(pe.META,[Ke.NAME,Ke.CHARSET,Ke.HTTPEQUIV,Ke.PROPERTY,Ke.ITEM_PROP],e),noscriptTags:Ba(pe.NOSCRIPT,[Ke.INNER_HTML],e),onChangeClientState:mF(e),scriptTags:Ba(pe.SCRIPT,[Ke.SRC,Ke.INNER_HTML],e),styleTags:Ba(pe.STYLE,[Ke.CSS_TEXT],e),title:pF(e),titleAttributes:Tf(Is.TITLE,e)}},Xp=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Xp(e)},0)}}(),b0=function(e){return clearTimeout(e)},vF=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Xp:global.requestAnimationFrame||Xp,_F=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||b0:global.cancelAnimationFrame||b0,wF=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},$a=null,EF=function(e){$a&&_F($a),e.defer?$a=vF(function(){O0(e,function(){$a=null})}):(O0(e),$a=null)},O0=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,u=e.noscriptTags,c=e.onChangeClientState,d=e.scriptTags,f=e.styleTags,m=e.title,v=e.titleAttributes;Jp(pe.BODY,i),Jp(pe.HTML,s),TF(m,v);var I={baseTag:ro(pe.BASE,r),linkTags:ro(pe.LINK,o),metaTags:ro(pe.META,a),noscriptTags:ro(pe.NOSCRIPT,u),scriptTags:ro(pe.SCRIPT,d),styleTags:ro(pe.STYLE,f)},R={},x={};Object.keys(I).forEach(function(S){var y=I[S],E=y.newTags,O=y.oldTags;E.length&&(R[S]=E),O.length&&(x[S]=I[S].oldTags)}),n&&n(),c(e,R,x)},n1=function(e){return Array.isArray(e)?e.join(""):e},TF=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=n1(e)),Jp(pe.TITLE,n)},Jp=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Jn),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),u=0;u<a.length;u++){var c=a[u],d=n[c]||"";r.getAttribute(c)!==d&&r.setAttribute(c,d),s.indexOf(c)===-1&&s.push(c);var f=o.indexOf(c);f!==-1&&o.splice(f,1)}for(var m=o.length-1;m>=0;m--)r.removeAttribute(o[m]);s.length===o.length?r.removeAttribute(Jn):r.getAttribute(Jn)!==a.join(",")&&r.setAttribute(Jn,a.join(","))}},ro=function(e,n){var r=document.head||document.querySelector(pe.HEAD),i=r.querySelectorAll(e+"["+Jn+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(u){var c=document.createElement(e);for(var d in u)if(u.hasOwnProperty(d))if(d===Ke.INNER_HTML)c.innerHTML=u.innerHTML;else if(d===Ke.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{var f=typeof u[d]>"u"?"":u[d];c.setAttribute(d,f)}c.setAttribute(Jn,"true"),s.some(function(m,v){return a=v,c.isEqualNode(m)})?s.splice(a,1):o.push(c)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return r.appendChild(u)}),{oldTags:s,newTags:o}},r1=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},SF=function(e,n,r,i){var s=r1(r),o=n1(n);return s?"<"+e+" "+Jn+'="true" '+s+">"+Yp(o,i)+"</"+e+">":"<"+e+" "+Jn+'="true">'+Yp(o,i)+"</"+e+">"},IF=function(e,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Ke.INNER_HTML||c===Ke.CSS_TEXT)}).reduce(function(c,d){var f=typeof s[d]>"u"?d:d+'="'+Yp(s[d],r)+'"';return c?c+" "+f:f},""),a=s.innerHTML||s.cssText||"",u=lF.indexOf(e)===-1;return i+"<"+e+" "+Jn+'="true" '+o+(u?"/>":">"+a+"</"+e+">")},"")},i1=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Cd[i]||i]=e[i],r},n)},CF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[aF[i]||i]=e[i],r},n)},PF=function(e,n,r){var i,s=(i={key:n},i[Jn]=!0,i),o=i1(r,s);return[Si.createElement(pe.TITLE,o,n)]},AF=function(e,n){return n.map(function(r,i){var s,o=(s={key:i},s[Jn]=!0,s);return Object.keys(r).forEach(function(a){var u=Cd[a]||a;if(u===Ke.INNER_HTML||u===Ke.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[u]=r[a]}),Si.createElement(e,o)})},Lr=function(e,n,r){switch(e){case pe.TITLE:return{toComponent:function(){return PF(e,n.title,n.titleAttributes)},toString:function(){return SF(e,n.title,n.titleAttributes,r)}};case Is.BODY:case Is.HTML:return{toComponent:function(){return i1(n)},toString:function(){return r1(n)}};default:return{toComponent:function(){return AF(e,n)},toString:function(){return IF(e,n,r)}}}},s1=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,u=e.noscriptTags,c=e.scriptTags,d=e.styleTags,f=e.title,m=f===void 0?"":f,v=e.titleAttributes;return{base:Lr(pe.BASE,n,i),bodyAttributes:Lr(Is.BODY,r,i),htmlAttributes:Lr(Is.HTML,s,i),link:Lr(pe.LINK,o,i),meta:Lr(pe.META,a,i),noscript:Lr(pe.NOSCRIPT,u,i),script:Lr(pe.SCRIPT,c,i),style:Lr(pe.STYLE,d,i),title:Lr(pe.TITLE,{title:m,titleAttributes:v},i)}},RF=function(e){var n,r;return r=n=function(i){hF(s,i);function s(){return cF(this,s),fF(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!eF(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,u){if(!u)return null;switch(a.type){case pe.SCRIPT:case pe.NOSCRIPT:return{innerHTML:u};case pe.STYLE:return{cssText:u}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var u,c=a.child,d=a.arrayTypeChildren,f=a.newChildProps,m=a.nestedChildren;return on({},d,(u={},u[c.type]=[].concat(d[c.type]||[],[on({},f,this.mapNestedChildrenToProps(c,m))]),u))},s.prototype.mapObjectTypeChildren=function(a){var u,c,d=a.child,f=a.newProps,m=a.newChildProps,v=a.nestedChildren;switch(d.type){case pe.TITLE:return on({},f,(u={},u[d.type]=v,u.titleAttributes=on({},m),u));case pe.BODY:return on({},f,{bodyAttributes:on({},m)});case pe.HTML:return on({},f,{htmlAttributes:on({},m)})}return on({},f,(c={},c[d.type]=on({},m),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,u){var c=on({},u);return Object.keys(a).forEach(function(d){var f;c=on({},c,(f={},f[d]=a[d],f))}),c},s.prototype.warnOnInvalidChildren=function(a,u){return!0},s.prototype.mapChildrenToProps=function(a,u){var c=this,d={};return Si.Children.forEach(a,function(f){if(!(!f||!f.props)){var m=f.props,v=m.children,I=D0(m,["children"]),R=CF(I);switch(c.warnOnInvalidChildren(f,v),f.type){case pe.LINK:case pe.META:case pe.NOSCRIPT:case pe.SCRIPT:case pe.STYLE:d=c.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:R,nestedChildren:v});break;default:u=c.mapObjectTypeChildren({child:f,newProps:u,newChildProps:R,nestedChildren:v});break}}}),u=this.mapArrayTypeChildrenToProps(d,u),u},s.prototype.render=function(){var a=this.props,u=a.children,c=D0(a,["children"]),d=on({},c);return u&&(d=this.mapChildrenToProps(u,d)),Si.createElement(e,d)},dF(s,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),s}(Si.Component),n.propTypes={base:qe.object,bodyAttributes:qe.object,children:qe.oneOfType([qe.arrayOf(qe.node),qe.node]),defaultTitle:qe.string,defer:qe.bool,encodeSpecialCharacters:qe.bool,htmlAttributes:qe.object,link:qe.arrayOf(qe.object),meta:qe.arrayOf(qe.object),noscript:qe.arrayOf(qe.object),onChangeClientState:qe.func,script:qe.arrayOf(qe.object),style:qe.arrayOf(qe.object),title:qe.string,titleAttributes:qe.object,titleTemplate:qe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=s1({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},kF=function(){return null},xF=GV(yF,EF,s1)(kF),Ki=RF(xF);Ki.renderStatic=Ki.rewind;function NF(){const t=pR("root");return w.jsxs(w.Fragment,{children:[w.jsxs(Ki,{children:[w.jsx("title",{children:"Shop"}),w.jsx("meta",{name:"description",content:"20% off! Browse all our products at awesome prices! Buy yours now!"})]}),w.jsx(MV,{data:t}),";"]})}const o1=async()=>{try{const t=mr(st,"products"),e=await el(t);if(e.docs.length>0)return e.docs.map(r=>({...r.data()}));throw new Error("Products not found")}catch(t){console.log(t)}},DF=Object.freeze(Object.defineProperty({__proto__:null,AllProductsLoader:o1,default:NF},Symbol.toStringTag,{value:"Module"})),bF="_container_10gwm_1",OF="_center_10gwm_11",LF="_cartDetails_10gwm_31",MF="_items_10gwm_41",VF="_ItemSummary_10gwm_59",FF="_summaryHeading_10gwm_71",jF="_summary_10gwm_71",UF="_checkoutBtn_10gwm_87",BF="_red_10gwm_95",$F="_clear_10gwm_101",zF="_loadingDiv_10gwm_109",HF="_spinner_10gwm_121",WF="_loading_10gwm_109",yt={container:bF,center:OF,cartDetails:LF,items:MF,ItemSummary:VF,summaryHeading:FF,summary:jF,checkoutBtn:UF,red:BF,clear:$F,loadingDiv:zF,spinner:HF,loading:WF},qF="_qtyContainer_g774t_1",KF="_qtyBtn_g774t_13",GF="_qtyInput_g774t_15",QF="_decreaseBtn_g774t_61",YF="_increaseBtn_g774t_67",io={qtyContainer:qF,qtyBtn:KF,qtyInput:GF,decreaseBtn:QF,increaseBtn:YF};function XF(t){const e=Ar(),n=s=>{t.setQty&&t.setQty(Number(s.target.value))},r=()=>{t.decreaseQty?t.decreaseQty():t.cartItem&&t.uid&&e(gV(t.uid,t.cartItem))},i=()=>{t.increaseQty?t.increaseQty():t.cartItem&&t.cartItem.amount<10&&t.uid&&e(YI(t.uid,t.cartItem))};return w.jsxs("div",{className:`${io.qtyContainer} ${t.className?t.className:""}`,children:[w.jsx("button",{type:"button",className:`${io.qtyBtn} ${io.decreaseBtn}`,onClick:r,children:"-"}),t.qty&&w.jsx("p",{className:io.qtyInput,onChange:n,children:t.qty}),w.jsx("button",{className:`${io.qtyBtn} ${io.increaseBtn}`,onClick:i,children:"+"}),t.children]})}const JF="_image_dwljy_1",ZF="_itemTitle_dwljy_13",ej="_itemContainer_dwljy_21",tj="_detailsContainer_dwljy_35",nj="_delBtn_dwljy_43",rj="_blue_dwljy_55",ij="_btnContainer_dwljy_97",us={image:JF,itemTitle:ZF,itemContainer:ej,detailsContainer:tj,delBtn:nj,blue:rj,btnContainer:ij};function sj({item:t}){const e=pn(),n=sr(),r=Ar(),i=()=>{e&&r(yV(e,t))};return w.jsxs(vu,{className:us.itemContainer,children:[w.jsx("img",{src:t.image,alt:"item image",className:us.image,onClick:()=>n(`/shop/category/${t.category}/${t.id}`)}),w.jsxs("div",{className:us.detailsContainer,children:[w.jsxs("h2",{className:us.itemTitle,onClick:()=>n(`/shop/category/${t.category}/${t.id}`),children:[t.title.slice(0,25),t.title.length>25?"...":""]}),w.jsxs("p",{children:[t.amount," x $",t.price.toFixed(2)," ="," ",w.jsxs("span",{className:us.blue,children:["$",(t.price*t.amount).toFixed(2)]})]}),w.jsxs("p",{children:[t.rating.rate," stars (",t.rating.count," ratings)"]}),w.jsx(XF,{uid:e||null,cartItem:t,className:us.btnContainer,children:w.jsx(qi,{className:us.delBtn,onClick:i,children:"Delete"})})]})]})}function oj(){const t=pn(),e=wn(d=>d.cart.cartItems),n=wn(d=>d.cart.totalAmount),r=wn(d=>d.cart.totalNumItems),i=wn(d=>d.ui.loading),s=Ar(),o=()=>{t&&s(XI(t,{title:"Cart is Empty!",type:"error"}))};V.useEffect(()=>{t&&s(mV(t))},[t,s]);const a=sr(),u=wn(d=>d.ui.orderFormShown),c=()=>{s(De.setOrderFormShown(!0)),a("/cart/order",{replace:!0})};return w.jsxs(w.Fragment,{children:[i&&w.jsxs("div",{className:yt.loadingDiv,children:[w.jsx("h2",{children:"Updating Cart"}),w.jsx("div",{className:yt.spinner})]}),e.length>0&&w.jsxs("div",{className:yt.container,children:[w.jsxs("h1",{className:yt.center,children:["Your ",w.jsx("span",{className:yt.red,children:"Cart"})]}),w.jsx("p",{className:yt.center,children:w.jsx(qi,{onClick:o,className:yt.clear,children:"Clear Cart"})}),w.jsxs("div",{className:yt.cartDetails,children:[w.jsx("div",{className:yt.items,children:e.map(d=>w.jsx(sj,{item:d},d.id))}),w.jsxs(vu,{className:`${yt.ItemSummary} ${yt.center}`,children:[w.jsxs("h2",{className:yt.summaryHeading,children:["Cart ",w.jsx("span",{className:yt.summary,children:"Summary"})]}),w.jsx("hr",{}),w.jsxs("p",{children:["Total Amount: $",n.toFixed(2)]}),w.jsxs("p",{children:["Total Number of Items: ",r]}),u&&w.jsx("p",{className:yt.summary,children:"Please fill in the form below to place an order!"}),!u&&w.jsx(qi,{onClick:c,className:yt.checkoutBtn,children:"Checkout?"})]})]}),u&&w.jsx(tu,{}),w.jsx(Qp,{title:"Browse More Products"})]}),!i&&e.length===0&&w.jsxs("div",{className:`${yt.container} ${yt.empty}`,children:[w.jsxs("div",{className:yt.center,children:[w.jsxs("h1",{children:["Your Cart is ",w.jsx("span",{className:yt.red,children:"Empty"})]}),w.jsx("p",{children:"Please add some items to continue"})]}),w.jsx(Qp,{title:"Browse Products"})]})]})}function aj(){return w.jsxs(w.Fragment,{children:[w.jsxs(Ki,{children:[w.jsx("title",{children:"Cart"}),w.jsx("meta",{name:"description",content:"View your cart, make an order!"})]}),w.jsx(oj,{}),";"]})}const a1=async()=>{const t=pn();return t&&t!=="token expired"?(bt.dispatch(De.setOrderFormShown(!1)),w.jsx(tu,{})):Fn("/auth?mode=login")},lj=Object.freeze(Object.defineProperty({__proto__:null,cartLoader:a1,default:aj},Symbol.toStringTag,{value:"Module"})),uj="_container_12h20_1",cj="_red_12h20_15",dj="_heading_12h20_25",hj="_mesText_12h20_41",fj="_formContainer_12h20_51",pj="_label_12h20_67",mj="_input_12h20_79",gj="_fieldset_12h20_105",yj="_submitBtn_12h20_121",vj="_changeModeBtn_12h20_135",_j="_spinner_12h20_151",wj="_loading_12h20_1",rt={container:uj,red:cj,heading:dj,mesText:hj,formContainer:fj,label:pj,input:mj,fieldset:gj,submitBtn:yj,changeModeBtn:vj,spinner:_j,loading:wj};function Ej(){const t=wn(y=>y.ui.loading),[e,n]=V.useState({name:null,email:null,password:null}),r=Ar(),[i,s]=V.useState(""),[o,a]=V.useState(""),[u,c]=V.useState(""),[d]=dT(),f=sr(),m=d.get("mode"),v=m==="login";V.useEffect(()=>{if(m&&m!=="signup"&&m!=="login")throw new Error("Invalid authentication mode");m||f("/auth?mode=signup",{replace:!0})},[]);const I=y=>{s(y.target.value)},R=y=>{c(y.target.value)},x=y=>{a(y.target.value)},S=async y=>{if(y.preventDefault(),v)if(i.length===0||!i.includes("@")||!i.endsWith(".com")||u.length<8)i.length===0||!i.includes("@")||!i.endsWith(".com")?(Y("error","Please enter a valid Email"),n(E=>({...E,email:"Please enter a valid Email. eg: abc@gmail.com"}))):n(E=>({...E,email:null})),u.length<8?(Y("error","Please enter a valid password (min 8 characters)"),n(E=>({...E,password:"Please enter a valid password. (must include 8 digits)"}))):n(E=>({...E,password:null}));else{try{r(De.setLoading(!0));const E=await CO(g0,i,u);r(De.setToken(E.user.uid));const O=new Date;O.setMinutes(O.getMinutes()+30),localStorage.setItem("expiration",O.toISOString()),Y("success","Login Successfull"),r(De.setLoading(!1)),f("/")}catch(E){Y("error",E.message),r(De.setLoading(!1))}s(""),c("")}else if(i.length===0||!i.includes("@")||!i.endsWith(".com")||u.length<8||o===""||!o.includes(" "))i.length===0||!i.includes("@")||!i.endsWith(".com")?(Y("error","Please enter a valid Email"),n(E=>({...E,email:"Please enter a valid Email. eg: abc@gmail.com"}))):n(E=>({...E,email:null})),u.length<8?(Y("error","Please enter a valid password (min 8 characters)"),n(E=>({...E,password:"Please enter a valid password. (min 8 characters)"}))):n(E=>({...E,password:null})),o===""||!o.includes(" ")?(Y("error","Please enter your valid full name"),n(E=>({...E,name:"Please enter your valid full name."}))):n(E=>({...E,name:null}));else{try{r(De.setLoading(!0));const O=(await IO(g0,i.trim(),u.trim())).user.uid,U=new Date().toLocaleString(),k={email:i.trim(),name:o.trim(),uid:O,cart:{cartItems:[],totalNumItems:0,totalAmount:0},dateCreated:U},C=xn(st,"users",O);await jg(C,k),r(De.setToken(O));const g=new Date;g.setMinutes(g.getMinutes()+30),localStorage.setItem("expiration",g.toISOString()),Y("success","User Registered Successfully."),r(De.setLoading(!1)),f("/")}catch(E){Y("error",E.message),r(De.setLoading(!1))}a(""),s(""),c("")}};return w.jsx("div",{className:rt.container,children:w.jsxs(vu,{className:rt.formContainer,children:[w.jsx("h1",{className:rt.heading,children:v?"Login":"Signup"}),v&&w.jsxs("p",{className:rt.mesText,children:["Welcome! Please ",w.jsx("span",{className:rt.red,children:"Login"})," to make any purchase."]}),!v&&w.jsxs("p",{className:rt.mesText,children:["Please ",w.jsx("span",{className:rt.red,children:"Signup"})," and you will be automatically logged in to your account."]}),w.jsxs("form",{onSubmit:S,children:[!v&&w.jsxs("fieldset",{className:rt.fieldset,children:[w.jsx("label",{className:rt.label,htmlFor:"name",children:"Full Name*"}),w.jsx("input",{className:rt.input,value:o,placeholder:"eg: johndoe@gmail.com",type:"text",id:"name",onChange:x}),e.name&&w.jsx("p",{className:rt.red,children:e.name})]}),w.jsxs("fieldset",{className:rt.fieldset,children:[w.jsx("label",{className:rt.label,htmlFor:"Email",children:"Email*"}),w.jsx("input",{className:rt.input,value:i,placeholder:"eg: johndoe@gmail.com",type:"email",id:"Email",onChange:I}),e.email&&w.jsx("p",{className:rt.red,children:e.email})]}),w.jsxs("fieldset",{className:rt.fieldset,children:[w.jsx("label",{className:rt.label,htmlFor:"password",children:"Password*"}),w.jsx("input",{className:rt.input,value:u,placeholder:"Enter password (min 8 chatacters)",onChange:R,type:"password",id:"password"}),e.password&&w.jsx("p",{className:rt.red,children:e.password})]}),w.jsx(qi,{type:"submit",className:rt.submitBtn,disabled:t,children:t?w.jsx("div",{className:rt.spinner}):v?"Login":"Register"})]}),w.jsx(qt,{className:rt.changeModeBtn,to:`/auth?mode=${v?"signup":"login"}`,children:v?"Not a user? Signup Now":"Already a user? Login"})]})})}function Tj(){const[t]=dT(),e=t.get("mode");return w.jsxs(w.Fragment,{children:[w.jsxs(Ki,{children:[w.jsx("title",{children:e}),w.jsx("meta",{name:"description",content:`${e} to add your favourite products to cart and place an order!`})]}),w.jsx(Ej,{}),";"]})}const l1=()=>{const t=pn();return!t||t==="token expired"?w.jsx(tu,{}):Fn("/")},Sj=Object.freeze(Object.defineProperty({__proto__:null,authLoader:l1,default:Tj},Symbol.toStringTag,{value:"Module"})),Ij="_label_17nxw_1",Cj="_input_17nxw_15",Pj="_fieldset_17nxw_41",Aj="_textarea_17nxw_65",Rj="_orderFormCard_17nxw_75",kj="_orderBtn_17nxw_85",xj="_red_17nxw_93",Nj="_radioContainer_17nxw_101",Dj="_cardLabel_17nxw_111",ze={label:Ij,input:Cj,fieldset:Pj,textarea:Aj,orderFormCard:Rj,orderBtn:kj,red:xj,radioContainer:Nj,cardLabel:Dj};function bj(){const t=V.useRef(null),e=wn(k=>k.cart),n=pn(),r=Ar(),i=sr(),s=aT(),[o,a]=V.useState(s.name),[u,c]=V.useState(s.email),d=V.useRef(null),[f,m]=V.useState(""),[v,I]=V.useState("cash"),[R,x]=V.useState({name:null,email:null,address:null,number:null,method:null}),S=k=>{a(k.target.value)},y=k=>{c(k.target.value)},E=k=>{m(k.target.value)},O=k=>{k.target.value==="cash"||k.target.value==="card"?I(k.target.value):x(C=>({...C,method:"Please choose a valid payment method"}))},U=k=>{var C,g,T,P,N,b,A,me;if(k.preventDefault(),n){if(o===""||!o.includes(" ")||!u.includes("@")||!u.endsWith(".com")||u===""||f===""||f.length<10||f===""||((C=d==null?void 0:d.current)==null?void 0:C.value.toString())===""||!((g=d==null?void 0:d.current)!=null&&g.value.toString().includes("0"))||((T=d==null?void 0:d.current)==null?void 0:T.value.toString().length)>=12||((P=d==null?void 0:d.current)==null?void 0:P.value.toString().length)<11){o===""||!o.includes(" ")?x(Ee=>({...Ee,name:"Please enter a valid Full Name"})):x(Ee=>({...Ee,name:null})),!u.includes("@")||!u.endsWith(".com")||u===""?x(Ee=>({...Ee,email:"Please enter a valid Email"})):x(Ee=>({...Ee,email:null})),f===""||f.length<10||f===""?x(Ee=>({...Ee,address:"Please enter a valid Address (house #, st #, city, country)"})):x(Ee=>({...Ee,address:null})),((N=d==null?void 0:d.current)==null?void 0:N.value.toString())===""||!((b=d==null?void 0:d.current)!=null&&b.value.toString().includes("0"))||((A=d==null?void 0:d.current)==null?void 0:A.value.toString().length)>=12||((me=d==null?void 0:d.current)==null?void 0:me.value.toString().length)<11?x(Ee=>({...Ee,number:"Please enter a valid mobile number. eg: 03201119900"})):x(Ee=>({...Ee,number:null})),x(!v||v!=="card"&&v!=="cash"?Ee=>({...Ee,method:"Please choose a valid payment method: cash OR card"}):Ee=>({...Ee,method:null})),Y("error","Pleas enter correct values");return}const lt=e.cartItems.map(Ee=>wV(Ee));r(vV({name:o,email:u,address:f,number:Number(d.current.value),order:{items:lt,totalAmount:e.totalAmount,totalNumItems:e.totalNumItems},payment_method:v,uid:n})),r(XI(n,{title:"Order Placed! We will send you a confirmation email",type:"success"})),r(De.setOrderFormShown(!1)),i("/")}};return V.useEffect(()=>{var k;(k=t.current)==null||k.scrollIntoView({behavior:"smooth"})},[]),w.jsx(vu,{className:ze.orderFormCard,children:w.jsxs("form",{onSubmit:U,className:ze.orderForm,ref:t,children:[w.jsxs("fieldset",{className:ze.fieldset,children:[w.jsx("label",{htmlFor:"name",className:ze.label,children:"Your Name"}),w.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Enter full name. eg: John Doe",className:ze.input,value:o,onChange:S}),R&&R.name&&w.jsx("p",{className:ze.red,children:R.name})]}),w.jsxs("fieldset",{className:ze.fieldset,children:[w.jsx("label",{htmlFor:"email",className:ze.label,children:"Your Email"}),w.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Enter your email. eg: johndoe@gmail.com",className:ze.input,value:u,onChange:y}),R&&R.email&&w.jsx("p",{className:ze.red,children:R.email})]}),w.jsxs("fieldset",{className:ze.fieldset,children:[w.jsx("label",{htmlFor:"address",className:ze.label,children:"Your Address"}),w.jsx("textarea",{name:"address",id:"address",rows:2,className:`${ze.input} ${ze.textarea}`,value:f,placeholder:"Enter complete address, eg: house# 13, st. 14, lahore, cantt.",onChange:E}),R&&R.address&&w.jsx("p",{className:ze.red,children:R.address})]}),w.jsxs("fieldset",{className:ze.fieldset,children:[w.jsx("label",{htmlFor:"contact",className:ze.label,children:"Your Contact #"}),w.jsx("input",{type:"number",id:"contact",name:"contact",placeholder:"Enter your active Contact (11 digits (must include 0)) #. eg: 03201400114",className:ze.input,ref:d}),R&&R.number&&w.jsx("p",{className:ze.red,children:R.number})]}),w.jsxs("fieldset",{className:ze.fieldset,children:[w.jsx("label",{htmlFor:"payment",className:ze.label,children:"Payment Method"}),w.jsxs("div",{className:ze.radioContainer,children:[w.jsx("label",{htmlFor:"cash",children:"Cash"}),w.jsx("input",{type:"radio",name:"payment",id:"cash",defaultChecked:!0,value:"cash",onChange:O}),w.jsx("label",{htmlFor:"card",className:ze.cardLabel,children:"Card"}),w.jsx("input",{type:"radio",name:"payment",id:"card",value:"card",onChange:O})]}),R&&R.method&&w.jsx("p",{className:ze.red,children:R.method})]}),w.jsx(qi,{type:"submit",className:ze.orderBtn,children:"Place Order"})]})})}function Oj(){return w.jsxs(w.Fragment,{children:[w.jsxs(Ki,{children:[w.jsx("title",{children:"Order"}),w.jsx("meta",{name:"description",content:"Provide your details and place an order! Our team will contact you for confirming your order"})]}),w.jsx(bj,{})]})}const u1=async()=>{const t=bt.getState(),e=pn();if(e&&e!=="token expired"){t.ui.orderFormShown||bt.dispatch(De.setOrderFormShown(!0));const n=xn(st,"users",e),r=await oa(n);if(r.exists()){const i=r.data();return{name:i.name,email:i.email}}}else return Fn("/auth?mode=login")},Lj=Object.freeze(Object.defineProperty({__proto__:null,default:Oj,orderLoader:u1},Symbol.toStringTag,{value:"Module"})),Mj="_container_1r5rg_1",Vj="_red_1r5rg_11",Fj="_heading_1r5rg_21",jj="_label_1r5rg_37",Uj="_input_1r5rg_49",Bj="_fieldset_1r5rg_75",$j="_submitBtn_1r5rg_91",zj="_spinner_1r5rg_123",Hj="_loading_1r5rg_1",bn={container:Mj,red:Vj,heading:Fj,label:jj,input:Uj,fieldset:Bj,submitBtn:$j,spinner:zj,loading:Hj},Wj=({email:t,password:e})=>async n=>{n(De.setLoading(!0));const r=xn(st,"admins",t),i=await oa(r);if(i.exists()){const s=i.data();if(e===s.password)return n(De.setLoading(!1)),t;throw n(De.setLoading(!1)),new Error("Incorrect Password")}throw n(De.setLoading(!1)),new Error("You are not an admin!")},qj=()=>async t=>{t(De.setLoading(!0));let e=[];const n=mr(st,"admins"),r=await el(n);if(r.empty)throw new Error("admins not found");e=r.docs.map(I=>({...I.data()}));let i=[];const s=mr(st,"orders"),o=await el(s);o.empty?i=[]:i=o.docs.map(I=>({...I.data()}));let a=[];const u=mr(st,"users"),c=await el(u);c.empty?a=[]:a=c.docs.map(I=>({...I.data()}));let d=[];const f=mr(st,"products"),m=await el(f);m.empty?d=[]:d=m.docs.map(I=>({...I.data()}));const v={admins:e,orders:i,products:d,users:a};t(De.setLoading(!1)),t(gu.setAdminData(v))},Kj=(t,e)=>async()=>{try{const n=xn(st,"products",t.id.toString());await jg(n,t),Y("success",e==="new"?"Product added Successfully":"Product Edited Successfully")}catch(n){Y("error",e==="new"?"Could not add new product, please try again later!":"Could not edit product, please try again later!"),console.error(n)}},Gj=()=>async t=>{const e=mr(st,"products");lh(e,n=>{const r=[];n.forEach(i=>{if(i.exists()){const s=i.data();r.push(s)}}),t(gu.setProducts(r))})},Qj=()=>async t=>{const e=mr(st,"users");lh(e,n=>{const r=[];n.forEach(i=>{if(i.exists()){const s=i.data();r.push(s)}}),t(gu.setUsers(r))})},Yj=()=>async t=>{const e=mr(st,"admins");lh(e,n=>{const r=[];n.forEach(i=>{if(i.exists()){const s=i.data();r.push(s)}}),t(gu.setAdmins(r))})},Xj=()=>async t=>{const e=mr(st,"orders");lh(e,n=>{const r=[];n.forEach(i=>{if(i.exists()){const s=i.data();r.push(s)}}),t(gu.setOrders(r))})},AU=t=>async()=>{try{const e=xn(st,"products",t);await KS(e),Y("error","Product deleted Successfully")}catch(e){Y("error",e.message)}},RU=t=>async()=>{try{const e=xn(st,"admins",t.email);if((await oa(e)).exists())throw new Error("Admin Already exists");await jg(e,t),Y("success","Added a new Admin Successfully")}catch(e){Y("error",e.message)}},kU=(t,e)=>async()=>{try{const n=xn(st,"admins",t);await qS(n,{password:e}),Y("success","Password Updated Successfully")}catch(n){Y("error",n.message)}},xU=t=>async()=>{try{const e=xn(st,"admins",t);await KS(e),Y("success","Admin Deleted Successfully")}catch(e){Y("error",e.message)}};function Jj(){const t=wn(m=>m.ui.loading),e=Ar(),n=sr(),[r,i]=V.useState(""),[s,o]=V.useState(""),[a,u]=V.useState({email:null,password:null}),c=async m=>{if(m.preventDefault(),r.length===0||!r.includes("@")||!r.endsWith(".com")||s.length<8)r.length===0||!r.includes("@")||!r.endsWith(".com")?(Y("error","Please enter a valid Email"),u(v=>({...v,email:"Please enter a valid Email. eg: abc@gmail.com"}))):u(v=>({...v,email:null})),s.length<8?(Y("error","Please enter a valid password (min 8 characters)"),u(v=>({...v,password:"Please enter a valid password. (must include 8 digits)"}))):u(v=>({...v,password:null}));else try{e(De.setLoading(!0));const v=await e(Wj({email:r,password:s}));e(De.setMode("admin")),localStorage.setItem("admin",v);const I=new Date;I.setHours(I.getHours()+1),localStorage.setItem("expiration",I.toISOString()),Y("success",`Welcome ${v}`),i(""),o(""),n("/admin/dashboard")}catch(v){Y("error",v.message),e(De.setLoading(!1))}},d=m=>{i(m.target.value)},f=m=>{o(m.target.value)};return w.jsxs("div",{className:bn.container,children:[w.jsx("h1",{className:bn.heading,children:"Admin Login"}),w.jsxs("form",{onSubmit:c,children:[w.jsxs("fieldset",{className:bn.fieldset,children:[w.jsx("label",{className:bn.label,htmlFor:"Email",children:"Email*"}),w.jsx("input",{className:bn.input,value:r,placeholder:"eg: johndoe@gmail.com",type:"email",id:"Email",onChange:d,autoComplete:"email"}),a.email&&w.jsx("p",{className:bn.red,children:a.email})]}),w.jsxs("fieldset",{className:bn.fieldset,children:[w.jsx("label",{className:bn.label,htmlFor:"password",children:"Password*"}),w.jsx("input",{className:bn.input,value:s,placeholder:"Enter password (min 8 chatacters)",onChange:f,type:"password",id:"password",autoComplete:"current-password"}),a.password&&w.jsx("p",{className:bn.red,children:a.password})]}),w.jsx(qi,{type:"submit",className:bn.submitBtn,disabled:t,children:t?w.jsx("div",{className:bn.spinner}):"Login"})]})]})}function Zj(){return w.jsxs(w.Fragment,{children:[w.jsxs(Ki,{children:[w.jsx("title",{children:"Admin Login"}),w.jsx("meta",{name:"description",content:"Login Page for admins of React-Ecommerce"})]}),w.jsx(Jj,{}),";"]})}const c1=async()=>{const t=Mi();return t&&t!=="user"?(Y("error",`You are already logged in as ${t}`),Fn("/admin/dashboard")):(bt.dispatch(De.clearToken()),bt.dispatch(De.setMode("user")),null)},eU=Object.freeze(Object.defineProperty({__proto__:null,adminLoginLoader:c1,default:Zj},Symbol.toStringTag,{value:"Module"})),tU=()=>w.jsx(tu,{}),d1=()=>{const t=Mi();return t&&t!=="user"&&t!=="token expired"?(bt.dispatch(Yj()),bt.dispatch(Xj()),bt.dispatch(Gj()),bt.dispatch(Qj()),null):(Y("error","Unauthenticated"),Fn("/adminLogin"))},nU=Object.freeze(Object.defineProperty({__proto__:null,adminLoader:d1,default:tU},Symbol.toStringTag,{value:"Module"})),rU="_label_rgxuv_1",iU="_input_rgxuv_15",sU="_fieldset_rgxuv_41",oU="_submitBtn_rgxuv_57",aU="_textarea_rgxuv_81",lU="_red_rgxuv_97",ve={label:rU,input:iU,fieldset:sU,submitBtn:oU,textarea:aU,red:lU};function uU(t){var Ee;const e=sr(),n=wn(se=>se.admin.products),[r]=V.useState(t.product?(Ee=t.product)==null?void 0:Ee.id:n.length+1),[i,s]=V.useState(t.product?t.product.title:""),[o,a]=V.useState(t.product?t.product.description:""),[u,c]=V.useState(t.product?t.product.stock:0),[d,f]=V.useState(t.product?t.product.price:0),[m,v]=V.useState(t.product?t.product.rating.rate:0),[I,R]=V.useState(t.product?t.product.rating.count:0),[x,S]=V.useState(t.product?t.product.category:"none"),[y,E]=V.useState(t.product?t.product.image:""),O=se=>{s(se.target.value)},U=se=>{a(se.target.value)},k=se=>{v(Number(se.target.value))},C=se=>{R(Number(se.target.value))},g=se=>{c(Number(se.target.value))},T=se=>{f(Number(se.target.value))},P=se=>{E(se.target.value)},N=Ar(),[b,A]=V.useState({category:null,id:null,description:null,image:null,price:null,rate:null,count:null,stock:null,title:null}),me=se=>{se.preventDefault(),i.length===0||i.length<12||o===""||o.length<120||y===""||y.length<8||x==="none"||x===""||x!=="electronics"&&x!=="men's clothing"&&x!=="women's clothing"&&x!=="jewelery"||d<=0||m<0||m>5||I<0||u<0?(i.length===0||i.length<12?(Y("error","Please enter a valid Title."),A($=>({...$,title:"Please enter a valid Title. (min 8 characters)"}))):A($=>({...$,title:null})),o===""||o.length<120?(Y("error","Please enter a valid description."),A($=>({...$,description:"Please enter a valid description. (min 120 characters)"}))):A($=>({...$,description:null})),y===""||y.length<8?(Y("error","Please enter valid image URL."),A($=>({...$,image:"Please enter valid image URL."}))):A($=>({...$,image:null})),x==="none"||x===""||x!=="electronics"&&x!=="men's clothing"&&x!=="women's clothing"&&x!=="jewelery"?(Y("error","Please enter a valid category."),A($=>({...$,category:"Please enter a valid category."}))):A($=>({...$,category:null})),d<=0?(Y("error","Please enter valid price."),A($=>({...$,price:"Please enter valid price."}))):A($=>({...$,price:null})),m<0||m>5?(Y("error","Please enter valid rating."),A($=>({...$,price:"Please enter valid rating (1-5)."}))):A($=>({...$,price:null})),I<0?(Y("error","Please enter valid review count."),A($=>({...$,count:"Please enter valid review count. (if none, enter 0)"}))):A($=>({...$,count:null})),u<0?(Y("error","Please enter valid stock."),A($=>({...$,stock:"Please enter valid stock. (if none, enter 0)"}))):A($=>({...$,stock:null}))):(N(Kj({id:r,category:x,description:o,image:y,price:d,rating:{rate:m,count:I},stock:u,title:i},t.product?"edit":"new")),e("/admin/products",{replace:!0}))},lt=se=>{S(se.target.value)};return w.jsxs("form",{onSubmit:me,children:[w.jsxs("fieldset",{className:ve.fieldset,children:[w.jsx("label",{className:ve.label,htmlFor:"id",children:"Product Id"}),w.jsx("input",{className:ve.input,type:"number",name:"id",id:"id",value:r,readOnly:!0}),b.id&&w.jsx("p",{className:ve.red,children:b.id})]}),w.jsxs("fieldset",{className:ve.fieldset,children:[w.jsx("label",{className:ve.label,htmlFor:"title",children:"Product Title"}),w.jsx("input",{className:ve.input,type:"text",name:"title",id:"title",value:i,onChange:O}),b.title&&w.jsx("p",{className:ve.red,children:b.title})]}),w.jsxs("fieldset",{className:ve.fieldset,children:[w.jsx("label",{className:ve.label,htmlFor:"description",children:"Product Description"}),w.jsx("textarea",{className:ve.textarea,rows:8,name:"description",id:"description",value:o,onChange:U}),b.description&&w.jsx("p",{className:ve.red,children:b.description})]}),w.jsxs("fieldset",{className:ve.fieldset,children:[w.jsx("label",{className:ve.label,htmlFor:"stock",children:"Stock Count"}),w.jsx("input",{className:ve.input,type:"number",name:"stock",id:"stock",value:u,onChange:g}),b.stock&&w.jsx("p",{className:ve.red,children:b.stock})]}),w.jsxs("fieldset",{className:ve.fieldset,children:[w.jsx("label",{className:ve.label,htmlFor:"id",children:"Price ($)"}),w.jsx("input",{className:ve.input,type:"number",name:"price",min:1,step:.01,id:"price",value:d,onChange:T}),b.price&&w.jsx("p",{className:ve.red,children:b.price})]}),w.jsxs("fieldset",{className:ve.fieldset,children:[w.jsx("label",{className:ve.label,htmlFor:"rating",children:"Rating (0-5)"}),w.jsx("input",{className:ve.input,type:"number",name:"rating",id:"rating",step:.01,min:0,max:5,value:m,onChange:k}),b.rate&&w.jsx("p",{className:ve.red,children:b.rate})]}),w.jsxs("fieldset",{className:ve.fieldset,children:[w.jsx("label",{className:ve.label,htmlFor:"rateCount",children:"Review Count"}),w.jsx("input",{className:ve.input,type:"number",name:"rateCount",id:"rateCount",min:0,value:I,onChange:C}),b.count&&w.jsx("p",{className:ve.red,children:b.count})]}),w.jsxs("fieldset",{className:ve.fieldset,children:[w.jsx("label",{className:ve.label,htmlFor:"image",children:"Product Image URL"}),w.jsx("input",{className:ve.input,type:"url",size:50,name:"image",id:"image",value:y,onChange:P}),b.image&&w.jsx("p",{className:ve.red,children:b.image})]}),w.jsxs("fieldset",{className:ve.fieldset,children:[w.jsx("label",{className:ve.label,htmlFor:"category",children:"Select Category"}),w.jsxs("select",{className:ve.input,name:"category",id:"category",value:x,onChange:lt,children:[!t.product&&w.jsx("option",{value:"none"}),w.jsx("option",{value:"electronics",children:"electronics"}),w.jsx("option",{value:"jewelery",children:"jewelery"}),w.jsx("option",{value:"men's clothing",children:"men's clothing"}),w.jsx("option",{value:"women's clothing",children:"women's clothing"})]}),b.category&&w.jsx("p",{className:ve.red,children:b.category})]}),w.jsx("button",{type:"submit",className:ve.submitBtn,children:t.product?"Save Changes":"Add Product"})]})}const cU="_container_ampg2_1",dU="_formContainer_ampg2_15",hU="_imageContainer_ampg2_23",fU="_heading_ampg2_31",pU="_blue_ampg2_43",mU="_image_ampg2_23",so={container:cU,formContainer:dU,imageContainer:hU,heading:fU,blue:pU,image:mU};function gU({product:t}){return w.jsxs("div",{children:[w.jsxs("h2",{className:so.heading,children:[w.jsx("span",{className:so.blue,children:"Edit"})," Product"]}),w.jsxs("div",{className:so.container,children:[w.jsx("div",{className:so.imageContainer,children:w.jsx("img",{className:so.image,src:t.image,alt:"Product Image"})}),w.jsx("div",{className:so.formContainer,children:w.jsx(uU,{product:t})})]})]})}function yU(){const t=aT();return w.jsxs(w.Fragment,{children:[w.jsxs(Ki,{children:[w.jsx("title",{children:"Edit Product"}),w.jsx("meta",{name:"description",content:`Edit ${t.title}. Admin only`})]}),w.jsx(gU,{product:t}),";"]})}const h1=async({params:t})=>{const e=Number(t.editId);let n=bt.getState().admin.products;n.length===0&&(await bt.dispatch(qj()),n=bt.getState().admin.products);const r=n.findIndex(i=>i.id===e);return r<0?(Y("error","Invalid Product Id"),Fn("/admin/products")):n[r]},vU=Object.freeze(Object.defineProperty({__proto__:null,default:yU,editProductLoader:h1},Symbol.toStringTag,{value:"Module"})),_U=NR([{path:"/",id:"root",loader:o1,element:w.jsx(JM,{}),errorElement:w.jsx(ZM,{}),children:[{index:!0,Component:V.lazy(()=>Jt(()=>import("./HomePage-BS64G9l2.js"),__vite__mapDeps([0,1])))},{path:"/shop",loader:()=>Fn("/shop/category/all")},{path:"/shop/category",loader:()=>Fn("/shop/category/all")},{path:"/shop/category/all",Component:V.lazy(()=>Jt(()=>Promise.resolve().then(()=>DF),void 0))},{path:"/shop/category/:categoryName",Component:V.lazy(()=>Jt(()=>import("./CategoryProductsPage-DZOxxpUL.js"),__vite__mapDeps([2,3])))},{path:"/shop/category/:categoryName/:productId",Component:V.lazy(()=>Jt(()=>import("./ProductDescriptionPage-Ce_6OaEC.js"),__vite__mapDeps([4,5])))},{path:"/cart",loader:a1,Component:V.lazy(()=>Jt(()=>Promise.resolve().then(()=>lj),void 0)),children:[{path:"/cart/order",Component:V.lazy(()=>Jt(()=>Promise.resolve().then(()=>Lj),void 0)),loader:u1}]},{path:"/contactUs",Component:V.lazy(()=>Jt(()=>import("./ContactUsPage-8C19-pj4.js"),__vite__mapDeps([6,7])))},{path:"/auth",Component:V.lazy(()=>Jt(()=>Promise.resolve().then(()=>Sj),void 0)),loader:l1},{path:"/logout",loader:bL,action:HI},{path:"/adminLogin",loader:c1,Component:V.lazy(()=>Jt(()=>Promise.resolve().then(()=>eU),void 0))},{path:"/admin",Component:V.lazy(()=>Jt(()=>Promise.resolve().then(()=>nU),void 0)),loader:d1,children:[{path:"/admin/dashboard",Component:V.lazy(()=>Jt(()=>import("./AdminDashboardPage-BZWmzyP4.js"),__vite__mapDeps([8,9])))},{path:"/admin/users",Component:V.lazy(()=>Jt(()=>import("./AdminUsersPage-BEuE-7u4.js"),__vite__mapDeps([10,11,12,13])))},{path:"/admin/products",Component:V.lazy(()=>Jt(()=>import("./AdminProductsPage-B-66tpiR.js"),__vite__mapDeps([14,11,12,15])))},{path:"/admin/products/new",Component:V.lazy(()=>Jt(()=>import("./AdminNewProductPage-CLur7XdA.js"),__vite__mapDeps([16,17])))},{path:"/admin/products/edit/:editId",loader:h1,Component:V.lazy(()=>Jt(()=>Promise.resolve().then(()=>vU),void 0))}]}]}],{basename:"/React-Ecommerce"});function wU(){return w.jsx(jR,{router:_U})}If.createRoot(document.getElementById("root")).render(w.jsx(Si.StrictMode,{children:w.jsx(IM,{store:bt,children:w.jsx(wU,{})})}));export{Qp as B,vu as C,Ki as H,qt as L,tu as O,nV as P,XF as Q,Si as R,EV as a,pR as b,EU as c,Ar as d,qi as e,YI as f,pn as g,qj as h,wn as i,w as j,RU as k,kU as l,xU as m,AU as n,tA as o,uU as p,V as r,Y as s,_V as t,sr as u};
